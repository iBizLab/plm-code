System.register(["vue"],function(ne){"use strict";var Y,q,d,S,I,$,y,le,ae,fe,z,g,_,te,J,j,$e,X,ie,H,ve,he,Pe,Oe,me,ge,pe,G,Be,Ce;return{setters:[function(i){Y=i.defineComponent,q=i.toRefs,d=i.openBlock,S=i.createElementBlock,I=i.createElementVNode,$=i.ref,y=i.inject,le=i.onMounted,ae=i.nextTick,fe=i.onBeforeUnmount,z=i.resolveComponent,g=i.createCommentVNode,_=i.createBlock,te=i.Fragment,J=i.normalizeClass,j=i.renderSlot,$e=i.mergeProps,X=i.createVNode,ie=i.toDisplayString,H=i.provide,ve=i.normalizeStyle,he=i.renderList,Pe=i.createSlots,Oe=i.withCtx,me=i.withDirectives,ge=i.vShow,pe=i.watch,G=i.h,Be=i.Teleport,Ce=i.render}],execute:function(){let i=null;function Ye(e){i&&We(),i=e}function Ge(e){e===i&&(i=null)}function We(){i&&(i.closeMenu(),i=null)}const Z={defaultDirection:"br",defaultMinWidth:100,defaultMaxWidth:600,defaultZindex:100,defaultAdjustPadding:{x:0,y:10}};function Q(e,n){let o=e.offsetTop;return e.offsetParent!=null&&e.offsetParent!=n&&(o-=e.offsetParent.scrollTop,o+=Q(e.offsetParent,n)),o}function ee(e,n){let o=e.offsetLeft;return e.offsetParent!=null&&e.offsetParent!=n&&(o-=e.offsetParent.scrollLeft,o+=ee(e.offsetParent,n)),o}function Xe(e,n,o,a){return{x:ee(e,a)+n,y:Q(e,a)+o}}const be="mx-menu-default-container",Ze="mx-menu-container-";let qe=0;function Re(e){const{getContainer:n,zIndex:o}=e;if(n){const v=typeof n=="function"?n():n;if(v){let m=v.getAttribute("id");return m||(m=Ze+qe++,v.setAttribute("id",m)),v.style.zIndex=o?.toString()||Z.defaultZindex.toString(),{eleId:m,container:v,isNew:!1}}}let a=document.getElementById(be);return a||(a=document.createElement("div"),a.setAttribute("id",be),a.setAttribute("class","mx-menu-ghost-host fullscreen"),document.body.appendChild(a)),a.style.zIndex=o?.toString()||Z.defaultZindex.toString(),{eleId:be,container:a,isNew:!0}}function Je(e){return typeof e=="number"?`${e}px`:e}const _e=Y({props:{vnode:{type:[Object,Function],default:null},data:{type:Object,default:null}},setup(e){const{vnode:n,data:o}=q(e);return()=>typeof n.value=="function"?n.value(o.value):n.value}});var V=(e,n)=>{const o=e.__vccOpts||e;for(const[a,v]of n)o[a]=v;return o};const Qe={},en={class:"mx-checked-mark","aria-hidden":"true",viewBox:"0 0 1024 1024"},nn=[I("path",{d:"M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z"},null,-1)];function tn(e,n){return d(),S("svg",en,nn)}var on=V(Qe,[["render",tn],["__file","/root/workspace/github/vue3-context-menu/src/ContextMenuIconCheck.vue"]]);const ln={},un={class:"mx-right-arrow","aria-hidden":"true",viewBox:"0 0 1024 1024"},sn=[I("path",{d:"M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z"},null,-1)];function an(e,n){return d(),S("svg",un,sn)}var Fe=V(ln,[["render",an],["__file","/root/workspace/github/vue3-context-menu/src/ContextMenuIconRight.vue"]]),rn=Y({name:"ContextMenuItem",components:{VNodeRender:_e,ContextMenuIconCheck:on,ContextMenuIconRight:Fe},props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},customRender:{type:Function,default:null},customClass:{type:String,default:""},clickHandler:{type:Function,default:null},label:{type:[String,Object,Function],default:""},icon:{type:[String,Object,Function],default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},clickableWhenHasChildren:{type:Boolean,default:!1},rawMenuItem:{type:Object,default:void 0}},emits:["click","subMenuOpen","subMenuClose"],setup(e,n){const{clickHandler:o,clickClose:a,clickableWhenHasChildren:v,disabled:m,hidden:l,label:p,icon:u,iconFontClass:C,showRightArrow:t,shortcut:k,hasChildren:O}=q(e),P=$(!1),c=$(!1),r=$(),h=y("globalHasSlot"),E=y("globalRenderSlot"),F=y("globalTheme"),f=y("globalIconFontClass"),L=y("globalClickCloseClassName"),K=y("globalIgnoreClickClassName"),U=y("globalCloseMenu"),w=y("menuContext"),N={showSubMenu:()=>P.value?(w.markActiveMenuItem(N,!0),!0):O.value?(T(),!0):!1,isDisabledOrHidden:()=>m.value||l.value,getElement:()=>r.value,focus:()=>c.value=!0,blur:()=>c.value=!1,click:A};le(()=>{w.isMenuItemDataCollectedFlag()?ae(()=>{let x=0;const B=w.getElement();if(B){let M=0;for(let D=0;D<B.children.length;D++){const s=B.children[D];if(s.getAttribute("data-type")==="ContextMenuItem"){if(s===r.value){x=M;break}M++}}}w.addChildMenuItem(N,x)}):w.addChildMenuItem(N)}),fe(()=>{w.removeChildMenuItem(N)});function A(x){if(!m.value){if(x){const B=x.target;if(B.classList.contains("mx-context-no-clickable")||K&&B.classList.contains(K))return;if(L&&B.classList.contains(L)){x.stopPropagation(),U(e.rawMenuItem);return}}O.value?v.value?(typeof o.value=="function"&&o.value(x),n.emit("click",x)):P.value||T():(typeof o.value=="function"&&o.value(x),n.emit("click",x),a.value&&U(e.rawMenuItem))}}function T(x){c.value=!1,w.checkCloseOtherSubMenuTimeOut()||w.closeOtherSubMenu(),m.value||(w.markActiveMenuItem(N),O.value&&(x||w.markThisOpenedByKeyBoard(),w.addOpenedSubMenu(()=>{c.value=!1,P.value=!1,n.emit("subMenuClose")}),P.value=!0,n.emit("subMenuOpen")))}return{getItemDataForChildren(){return{disabled:m.value,label:p.value,icon:u.value,iconFontClass:C.value,showRightArrow:t.value,clickClose:a.value,clickableWhenHasChildren:v.value,shortcut:k.value,theme:F,isOpen:P,hasChildren:O,onClick:A,onMouseEnter:T,closeMenu:U}},showSubMenu:P,keyBoardFocusMenu:c,menuItemRef:r,globalHasSlot:h,globalRenderSlot:E,globalIconFontClass:f,onMouseEnter:T,onClick:A}}});const dn={key:0,class:"mx-context-menu-item-wrapper",ref:"menuItemRef","data-type":"ContextMenuItem"},cn={class:"mx-item-row"},fn=["xlink:href"],vn={key:1,class:"label"},hn={class:"mx-item-row"},mn={class:"mx-shortcut"};function gn(e,n,o,a,v,m){const l=z("VNodeRender"),p=z("ContextMenuIconCheck"),u=z("ContextMenuIconRight");return e.hidden?g("v-if",!0):(d(),S("div",dn,[g("Custom render"),e.globalHasSlot("itemRender")?(d(),_(l,{key:0,vnode:()=>e.globalRenderSlot("itemRender",e.getItemDataForChildren())},null,8,["vnode"])):e.customRender?(d(),_(l,{key:1,vnode:e.customRender,data:e.getItemDataForChildren()},null,8,["vnode","data"])):(d(),S(te,{key:2},[g("Default item"),I("div",{class:J(["mx-context-menu-item",e.disabled?"disabled":"",e.keyBoardFocusMenu?"keyboard-focus":"",e.customClass?" "+e.customClass:"",e.showSubMenu?"open":""]),onClick:n[0]||(n[0]=(...C)=>e.onClick&&e.onClick(...C)),onMouseenter:n[1]||(n[1]=(...C)=>e.onMouseEnter&&e.onMouseEnter(...C))},[j(e.$slots,"default",{},()=>[I("div",cn,[I("div",{class:J(["mx-icon-placeholder",e.preserveIconWidth?"preserve-width":""])},[j(e.$slots,"icon",{},()=>[e.globalHasSlot("itemIconRender")?(d(),_(l,{key:0,vnode:()=>e.globalRenderSlot("itemIconRender",e.getItemDataForChildren())},null,8,["vnode"])):typeof e.svgIcon=="string"&&e.svgIcon?(d(),S("svg",$e({key:1,class:"icon svg"},e.svgProps),[I("use",{"xlink:href":e.svgIcon},null,8,fn)],16)):typeof e.icon!="string"?(d(),_(l,{key:2,vnode:e.icon,data:e.icon},null,8,["vnode","data"])):typeof e.icon=="string"&&e.icon!==""?(d(),S("i",{key:3,class:J(e.icon+" icon "+e.iconFontClass+" "+e.globalIconFontClass)},null,2)):g("v-if",!0)]),e.checked?j(e.$slots,"check",{key:0},()=>[e.globalHasSlot("itemCheckRender")?(d(),_(l,{key:0,vnode:()=>e.globalRenderSlot("itemCheckRender",e.getItemDataForChildren())},null,8,["vnode"])):g("v-if",!0),X(p)]):g("v-if",!0)],2),j(e.$slots,"label",{},()=>[e.globalHasSlot("itemLabelRender")?(d(),_(l,{key:0,vnode:()=>e.globalRenderSlot("itemLabelRender",e.getItemDataForChildren())},null,8,["vnode"])):typeof e.label=="string"?(d(),S("span",vn,ie(e.label),1)):(d(),_(l,{key:2,vnode:e.label,data:e.label},null,8,["vnode","data"]))])]),I("div",hn,[e.shortcut?j(e.$slots,"shortcut",{key:0},()=>[e.globalHasSlot("itemShortcutRender")?(d(),_(l,{key:0,vnode:()=>e.globalRenderSlot("itemShortcutRender",e.getItemDataForChildren())},null,8,["vnode"])):g("v-if",!0),I("span",mn,ie(e.shortcut),1)]):g("v-if",!0),e.showRightArrow?j(e.$slots,"rightArrow",{key:1},()=>[e.globalHasSlot("itemRightArrowRender")?(d(),_(l,{key:0,vnode:()=>e.globalRenderSlot("itemRightArrowRender",e.getItemDataForChildren())},null,8,["vnode"])):g("v-if",!0),X(u)]):g("v-if",!0)])])],34)],2112)),g("Sub menu render"),e.showSubMenu?j(e.$slots,"submenu",{key:3}):g("v-if",!0)],512))}var Me=ne("ContextMenuItem",V(rn,[["render",gn],["__file","/root/workspace/github/vue3-context-menu/src/ContextMenuItem.vue"]])),pn=Y({name:"ContextMenuSperator",components:{VNodeRender:_e},setup(){const e=y("globalHasSlot"),n=y("globalRenderSlot");return{globalHasSlot:e,globalRenderSlot:n}}});const Cn={key:1,class:"mx-context-menu-item-sperator mx-context-no-clickable"};function bn(e,n,o,a,v,m){const l=z("VNodeRender");return e.globalHasSlot("separatorRender")?(d(),_(l,{key:0,vnode:()=>e.globalRenderSlot("separatorRender",{})},null,8,["vnode"])):(d(),S("div",Cn))}var Se=ne("ContextMenuSeparator",V(pn,[["render",bn],["__file","/root/workspace/github/vue3-context-menu/src/ContextMenuSeparator.vue"]])),Mn=Y({name:"ContextSubMenu",components:{ContextMenuItem:Me,ContextMenuSeparator:Se,ContextMenuIconRight:Fe},props:{items:{type:Object,default:null},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0},adjustPosition:{type:Boolean,default:!0},direction:{type:String,default:"br"}},setup(e){const n=y("menuContext"),o=y("globalOptions"),a=y("globalHasSlot"),v=y("globalRenderSlot"),m=y("globalTheme"),{zIndex:l,getParentWidth:p,getParentHeight:u}=n,{adjustPosition:C}=q(e),t=$(),k=$(),O=[],P=y("globalSetCurrentSubMenu"),c=[];let r=null,h=0;function E(){r&&r.blur()}function F(s,b){if(s){for(let W=b!==void 0?b:0;W<c.length;W++)if(!c[W].isDisabledOrHidden()){f(W);break}}else for(let W=b!==void 0?b:c.length-1;W>=0;W--)if(!c[W].isDisabledOrHidden()){f(W);break}}function f(s){if(r&&E(),s!==void 0&&(r=c[Math.max(0,Math.min(s,c.length-1))]),!!r&&(r.focus(),B.value)){const b=r.getElement();b&&(A.value=Math.min(Math.max(-T.value,-b.offsetTop-b.offsetHeight+D.value),0))}}function L(){P(K)}const K={isTopLevel:()=>n.getParentContext()===null,closeSelfAndActiveParent:()=>{const s=N.getParentContext();if(s){s.closeOtherSubMenu();const b=s.getSubMenuInstanceContext();if(b)return b.focusCurrentItem(),!0}return!1},closeCurrentSubMenu:()=>{var s;return(s=N.getParentContext())==null?void 0:s.closeOtherSubMenu()},moveCurrentItemFirst:()=>F(!0),moveCurrentItemLast:()=>F(!1),moveCurrentItemDown:()=>F(!0,r?c.indexOf(r)+1:0),moveCurrentItemUp:()=>F(!1,r?c.indexOf(r)-1:0),focusCurrentItem:()=>f(),openCurrentItemSubMenu:()=>r?r?.showSubMenu():!1,triggerCurrentItemClick:s=>r?.click(s)};let U=!1,w=!1;const N={zIndex:l+1,container:n.container,adjustPadding:o.adjustPadding||Z.defaultAdjustPadding,getParentWidth:()=>{var s;return((s=t.value)==null?void 0:s.offsetWidth)||0},getParentHeight:()=>{var s;return((s=t.value)==null?void 0:s.offsetHeight)||0},getParentX:()=>M.value.x,getParentY:()=>M.value.y,getParentAbsX:()=>t.value?ee(t.value,n.container):0,getParentAbsY:()=>t.value?Q(t.value,n.container):0,getPositon:()=>[0,0],addOpenedSubMenu(s){O.push(s)},closeOtherSubMenu(){O.forEach(s=>s()),O.splice(0,O.length),P(K)},checkCloseOtherSubMenuTimeOut(){return h?(clearTimeout(h),h=0,!0):!1},closeOtherSubMenuWithTimeOut(){h=setTimeout(()=>{h=0,this.closeOtherSubMenu()},200)},addChildMenuItem:(s,b)=>{b===void 0?c.push(s):c.splice(b,0,s)},removeChildMenuItem:s=>{c.splice(c.indexOf(s),1)},markActiveMenuItem:(s,b=!1)=>{E(),r=s,b&&f()},markThisOpenedByKeyBoard:()=>{U=!0},isOpenedByKeyBoardFlag:()=>U?(U=!1,!0):!1,isMenuItemDataCollectedFlag:()=>w,getElement:()=>t.value||null,getParentContext:()=>n,getSubMenuInstanceContext:()=>K};H("menuContext",N);const A=$(0),T=$(0);function x(s){s?A.value=Math.max(A.value-50,-T.value):A.value=Math.min(A.value+50,0)}const B=$(!1),M=$({x:0,y:0}),D=$(0);return le(()=>{var s,b,W,Ee;const Le=n.getPositon();M.value={x:(b=(s=Le[0])!=null?s:o.xOffset)!=null?b:0,y:(Ee=(W=Le[1])!=null?W:o.yOffset)!=null?Ee:0},P(K),ae(()=>{var Ne,Te,De,ze,Ve,Ke;const R=t.value;if(R&&k.value){const{container:oe}=n,ke=(Ne=p?.())!=null?Ne:0,Ln=(Te=u?.())!=null?Te:0,re=typeof n.adjustPadding=="number"?n.adjustPadding:(ze=(De=n.adjustPadding)==null?void 0:De.x)!=null?ze:0,de=typeof n.adjustPadding=="number"?n.adjustPadding:(Ke=(Ve=n.adjustPadding)==null?void 0:Ve.y)!=null?Ke:0,ce=Ln>0?de:0,Nn=document.documentElement.scrollHeight,Tn=document.documentElement.scrollWidth,Dn=Math.min(Tn,oe.offsetWidth),Ie=Math.min(Nn,oe.offsetHeight);let we=ee(R,oe),xe=Q(R,oe);e.direction.includes("l")?M.value.x-=R.offsetWidth+re:e.direction.includes("r")?M.value.x+=ke+re:(M.value.x+=ke/2,M.value.x-=(R.offsetWidth+re)/2),e.direction.includes("t")?M.value.y-=R.offsetHeight+de*2:e.direction.includes("b")?M.value.y-=de:M.value.y-=(R.offsetHeight+de)/2,C.value&&ae(()=>{we=ee(R,oe),xe=Q(R,oe);const zn=we+R.offsetWidth-Dn,Ue=xe+R.offsetHeight-Ie;if(T.value=R.offsetHeight-Ie-ce*2,B.value=Ue>0,zn>0){const ue=ke+R.offsetWidth-re,se=we;ue>se?M.value.x-=se:M.value.x-=ue}if(B.value){const ue=Ue,se=xe;ue>se?M.value.y-=se-ce:M.value.y-=ue-ce*2,D.value=Ie-ce*2}else D.value=0})}R?.focus({preventScroll:!0}),n.isOpenedByKeyBoardFlag()&&F(!0),w=!0})}),{menu:t,scroll:k,options:o,zIndex:l,constOptions:Z,scrollValue:A,overflow:B,position:M,scrollHeight:T,maxHeight:D,globalHasSlot:a,globalRenderSlot:v,globalTheme:m,onScroll:x,onSubMenuBodyClick:L,solveNumberOrStringSize:Je}}});const Sn={class:"mx-context-menu-scroll",ref:"scroll"};function yn(e,n,o,a,v,m){const l=z("ContextMenuSeparator"),p=z("ContextSubMenu",!0),u=z("ContextMenuItem"),C=z("ContextMenuIconRight");return d(),S("div",{class:J("mx-context-menu "+(e.options.customClass?e.options.customClass:"")+" "+e.globalTheme),style:ve({maxWidth:e.maxWidth?e.solveNumberOrStringSize(e.maxWidth):`${e.constOptions.defaultMaxWidth}px`,minWidth:e.minWidth?e.solveNumberOrStringSize(e.minWidth):`${e.constOptions.defaultMinWidth}px`,maxHeight:e.overflow&&e.maxHeight>0?`${e.maxHeight}px`:void 0,zIndex:e.zIndex,left:`${e.position.x}px`,top:`${e.position.y}px`}),"data-type":"ContextSubMenu",onClick:n[2]||(n[2]=(...t)=>e.onSubMenuBodyClick&&e.onSubMenuBodyClick(...t))},[g("Child menu items"),I("div",{class:"mx-context-menu-items",ref:"menu",style:ve({top:`${e.scrollValue}px`})},[j(e.$slots,"default",{},()=>[(d(!0),S(te,null,he(e.items,(t,k)=>(d(),S(te,{key:k},[t.hidden!==!0&&t.divided==="up"?(d(),_(l,{key:0})):g("v-if",!0),t.hidden!==!0&&t.divided==="self"?(d(),_(l,{key:1})):(d(),S(te,{key:2},[g("Menu Item"),X(u,{clickHandler:t.onClick?O=>t.onClick(O):void 0,disabled:t.disabled,hidden:t.hidden,icon:t.icon,iconFontClass:t.iconFontClass,svgIcon:t.svgIcon,svgProps:t.svgProps,label:t.label,customRender:t.customRender,customClass:t.customClass,checked:t.checked,shortcut:t.shortcut,clickClose:t.clickClose,clickableWhenHasChildren:t.clickableWhenHasChildren,preserveIconWidth:t.preserveIconWidth!==void 0?t.preserveIconWidth:e.options.preserveIconWidth,showRightArrow:t.children&&t.children.length>0,hasChildren:t.children&&t.children.length>0,rawMenuItem:t,onSubMenuOpen:t.onSubMenuOpen,onSubMenuClose:t.onSubMenuClose},Pe({_:2},[t.children&&t.children.length>0?{name:"submenu",fn:Oe(()=>[g("Sub menu"),X(p,{items:t.children,maxWidth:t.maxWidth,minWidth:t.minWidth,adjustPosition:t.adjustSubMenuPosition!==void 0?t.adjustSubMenuPosition:e.options.adjustPosition,direction:t.direction!==void 0?t.direction:e.options.direction},null,8,["items","maxWidth","minWidth","adjustPosition","direction"])]),key:"0"}:void 0]),1032,["clickHandler","disabled","hidden","icon","iconFontClass","svgIcon","svgProps","label","customRender","customClass","checked","shortcut","clickClose","clickableWhenHasChildren","preserveIconWidth","showRightArrow","hasChildren","rawMenuItem","onSubMenuOpen","onSubMenuClose"])],2112)),g("Separator"),g("Custom render"),t.hidden!==!0&&(t.divided==="down"||t.divided===!0)?(d(),_(l,{key:3})):g("v-if",!0)],64))),128))])],4),g("Scroll button host"),I("div",Sn,[g("Updown scroll button"),me(I("div",{class:"mx-context-menu-updown mx-context-no-clickable up",onClick:n[0]||(n[0]=t=>e.onScroll(!1))},[X(C)],512),[[ge,e.overflow&&e.scrollValue<0]]),me(I("div",{class:"mx-context-menu-updown mx-context-no-clickable down",onClick:n[1]||(n[1]=t=>e.onScroll(!0))},[X(C)],512),[[ge,e.overflow&&e.scrollValue>-e.scrollHeight]])],512)],6)}var ye=V(Mn,[["render",yn],["__file","/root/workspace/github/vue3-context-menu/src/ContextSubMenu.vue"]]),kn=Y({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1},container:{type:Object,default:null},isFullScreenContainer:{type:Boolean,default:!0}},setup(e,n){var o,a,v,m;const{options:l,show:p,container:u}=q(e);le(()=>{p&&t()}),fe(()=>{P()}),pe(p,f=>{f?t():P()});const C={closeMenu:k};function t(){O(),Ye(C)}function k(f){n.emit("update:show",!1),n.emit("close",f),Ge(C)}n.expose({closeMenu:k});function O(){setTimeout(()=>{document.addEventListener("click",E,!0),document.addEventListener("contextmenu",E,!0),document.addEventListener("scroll",h,!0),!e.isFullScreenContainer&&u.value&&u.value.addEventListener("scroll",h,!0),l.value.keyboardControl!==!1&&document.addEventListener("keydown",r)},50)}function P(){document.removeEventListener("contextmenu",E,!0),document.removeEventListener("click",E,!0),document.removeEventListener("scroll",h,!0),!e.isFullScreenContainer&&u.value&&u.value.removeEventListener("scroll",h,!0),l.value.keyboardControl!==!1&&document.removeEventListener("keydown",r)}const c=$();H("globalSetCurrentSubMenu",f=>c.value=f);function r(f){var L,K,U,w,N,A,T,x,B,M,D,s,b;let W=!0;switch(f.key){case"Escape":{((L=c.value)==null?void 0:L.isTopLevel())===!1?(K=c.value)==null||K.closeCurrentSubMenu():k();break}case"ArrowDown":(U=c.value)==null||U.moveCurrentItemDown();break;case"ArrowUp":(w=c.value)==null||w.moveCurrentItemUp();break;case"Home":(N=c.value)==null||N.moveCurrentItemFirst();break;case"End":(A=c.value)==null||A.moveCurrentItemLast();break;case"ArrowLeft":{(T=c.value)!=null&&T.closeSelfAndActiveParent()||(B=(x=l.value).onKeyFocusMoveLeft)==null||B.call(x);break}case"ArrowRight":(M=c.value)!=null&&M.openCurrentItemSubMenu()||(s=(D=l.value).onKeyFocusMoveRight)==null||s.call(D);break;case"Enter":(b=c.value)==null||b.triggerCurrentItemClick(f);break;default:W=!1;break}W&&c.value&&(f.stopPropagation(),f.preventDefault())}function h(){l.value.closeWhenScroll!==!1&&k()}function E(f){F(f.target)}function F(f){for(;f;){if(f.classList&&f.classList.contains("mx-menu-host"))return;f=f.parentNode}P(),k()}return H("globalOptions",l.value),H("globalCloseMenu",k),H("globalTheme",((o=l.value)==null?void 0:o.theme)||"light"),H("globalIsFullScreenContainer",e.isFullScreenContainer),H("globalClickCloseClassName",(a=l.value)==null?void 0:a.clickCloseClassName),H("globalIgnoreClickClassName",(v=l.value)==null?void 0:v.ignoreClickClassName),H("globalIconFontClass",((m=l.value)==null?void 0:m.iconFontClass)||"iconfont"),H("globalHasSlot",f=>n.slots[f]!==void 0),H("globalRenderSlot",(f,L)=>j(n.slots,f,{...L},()=>[G("span","Render slot failed")],!1)),H("menuContext",{zIndex:l.value.zIndex||Z.defaultZindex,container:u.value,adjustPadding:{x:0,y:0},getParentAbsY:()=>l.value.x,getParentAbsX:()=>l.value.y,getParentX:()=>0,getParentY:()=>0,getParentWidth:()=>0,getParentHeight:()=>0,getPositon:()=>[l.value.x,l.value.y],closeOtherSubMenuWithTimeOut:()=>{},checkCloseOtherSubMenuTimeOut:()=>!1,addOpenedSubMenu:()=>{},closeOtherSubMenu:()=>{},getParentContext:()=>null,getSubMenuInstanceContext:()=>null,getElement:()=>null,addChildMenuItem:()=>{},removeChildMenuItem:()=>{},markActiveMenuItem:()=>{},markThisOpenedByKeyBoard:()=>{},isOpenedByKeyBoardFlag:()=>!1,isMenuItemDataCollectedFlag:()=>!1}),()=>{var f,L;return p.value?[G("div",{class:"mx-menu-ghost-host"},[G(ye,{class:"mx-menu-host",items:(f=l.value)==null?void 0:f.items,adjustPosition:(L=l.value)==null?void 0:L.adjustPosition,maxWidth:l.value.maxWidth||Z.defaultMaxWidth,minWidth:l.value.minWidth||Z.defaultMinWidth,direction:l.value.direction||Z.defaultDirection},{default:n.slots.default})])]:[]}}}),He=V(kn,[["__file","/root/workspace/github/vue3-context-menu/src/ContextSubMenuWrapper.vue"]]),In=Y({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1}},setup(e,n){const{options:o,show:a}=q(e);return n.expose({closeMenu:()=>n.emit("update:show",!1)}),()=>{const{isNew:v,container:m,eleId:l}=Re(o.value),p=a.value?[G(He,{options:o,show:!0,container:m,isFullScreenContainer:!v,"onUpdate:show":u=>n.emit("update:show",u),onClose:u=>{var C,t;n.emit("update:show",!1),n.emit("close"),(t=(C=o.value).onClose)==null||t.call(C,u)}},n.slots)]:[];return[G(Be,{to:`#${l}`},p)]}}}),wn=ne("ContextMenu",V(In,[["__file","/root/workspace/github/vue3-context-menu/src/ContextMenu.vue"]])),xn=Y({name:"ContextMenuGroup",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},clickHandler:{type:Function,default:null},label:{type:String,default:""},icon:{type:String,default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},adjustSubMenuPosition:{type:Boolean,default:void 0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0}},setup(e,n){const o=y("globalOptions"),{adjustSubMenuPosition:a,maxWidth:v,minWidth:m}=q(e),l=typeof a.value<"u"?a.value:o.adjustPosition;return()=>G(Me,{...e,showRightArrow:!0,maxWidth:void 0,minWidth:void 0,adjustSubMenuPosition:void 0,hasChildren:typeof n.slots.default!==void 0},n.slots.default?{submenu:()=>G(ye,{maxWidth:v.value,minWidth:m.value,adjustPosition:l},{default:n.slots.default})}:void 0)}}),$n=ne("ContextMenuGroup",V(xn,[["__file","/root/workspace/github/vue3-context-menu/src/ContextMenuGroup.vue"]]));function Pn(e,n,o,a){const v=G(He,{options:e,show:!0,container:n,isFullScreenContainer:!o,onClose:m=>{var l;Ce(null,n),(l=e.onClose)==null||l.call(e,m)}},a);return Ce(v,n),v.component}function Ae(e,n){const o=Re(e);return Pn(e,o.container,o.isNew,n).exposed}var je=ne("default",{install(e){e.config.globalProperties.$contextmenu=Ae,e.component("ContextMenu",wn),e.component("ContextMenuItem",Me),e.component("ContextMenuGroup",$n),e.component("ContextMenuSperator",Se),e.component("ContextMenuSeparator",Se),e.component("ContextSubMenu",ye)},showContextMenu(e,n){return Ae(e,n)},closeContextMenu:We,transformMenuPosition:Xe});const On={},Bn={class:"mx-menu-bar-icon-menu",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Wn=[I("path",{d:"M133.310936 296.552327l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949 0-19.781623-15.997312-35.950949-35.950949-35.950949L133.310936 224.650428c-19.781623 0-35.950949 16.169326-35.950949 35.950949C97.359987 280.383 113.529313 296.552327 133.310936 296.552327z"},null,-1),I("path",{d:"M890.51705 476.135058 133.310936 476.135058c-19.781623 0-35.950949 16.169326-35.950949 35.950949 0 19.781623 16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949C926.467999 492.304384 910.298673 476.135058 890.51705 476.135058z"},null,-1),I("path",{d:"M890.51705 727.447673 133.310936 727.447673c-19.781623 0-35.950949 15.997312-35.950949 35.950949s16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-15.997312 35.950949-35.950949S910.298673 727.447673 890.51705 727.447673z"},null,-1)];function Rn(e,n){return d(),S("svg",Bn,Wn)}var _n=V(On,[["render",Rn],["__file","/root/workspace/github/vue3-context-menu/src/MenuBarIconMenu.vue"]]),Fn=Y({name:"MenuBar",emits:[],props:{options:{type:Object,default:null}},components:{MenuBarIconMenu:_n},setup(e){const n=$(),o=$(!1),a=$([]),v=$(null);function m(){o.value=!0}function l(){o.value=!1}le(()=>{a.value=e.options.items||[]}),pe(()=>e.options,()=>{a.value=e.options.items||[]});let p=null,u=-1;function C(){u<a.value.length-1?u++:u=0,k(u,a.value[u])}function t(){u>0?u--:u=a.value.length-1,k(u,a.value[u])}function k(r,h){var E;if(u=r,!h.children)return;p&&(p.closeMenu(),p=null,o.value=!0),v.value=h;const F=(E=n.value)==null?void 0:E.children[r];F&&(p=je.showContextMenu({...e.options,items:h.children,x:ee(F),y:Q(F)+F.offsetHeight,onKeyFocusMoveLeft(){t()},onKeyFocusMoveRight(){C()},onClose(){v.value==h&&(o.value=!1,v.value=null)}}))}function O(){u=0;const r=n.value;r&&(p=je.showContextMenu({...e.options,x:ee(r),y:Q(r)+r.offsetHeight}))}function P(r,h){h?(o.value=!0,k(r,h),h.onClick&&(h.clickableWhenHasChildren===!0&&h.children&&h.children.length>0||!h.children||h.children.length===0)&&h.onClick()):O()}function c(r,h){o.value&&k(r,h)}return{menuItems:a,menuActive:v,menuBarContent:n,menuBarActive:o,onFocus:m,onBlur:l,onItemClick:P,onItemEnter:c}}});const Hn={key:0,ref:"menuBarContent",class:"mx-menu-bar-content"},An={key:1,ref:"menuBarContent",class:"mx-menu-bar-content"},jn=["onClick","onMouseenter"];function En(e,n,o,a,v,m){var l;const p=z("MenuBarIconMenu");return d(),S("div",{class:J(["mx-menu-bar",(l=e.options.theme)!=null?l:"",e.options.mini?"mini":""]),onFocus:n[1]||(n[1]=(...u)=>e.onFocus&&e.onFocus(...u)),onBlur:n[2]||(n[2]=(...u)=>e.onBlur&&e.onBlur(...u))},[j(e.$slots,"prefix"),e.options.mini?(d(),S("div",Hn,[I("div",{class:"mx-menu-bar-item",onClick:n[0]||(n[0]=u=>e.onItemClick(0,null))},[X(p)])],512)):(d(),S("div",An,[(d(!0),S(te,null,he(e.menuItems,(u,C)=>(d(),S("div",{key:C,class:J(["mx-menu-bar-item",u==e.menuActive?"active":""]),onClick:t=>e.onItemClick(C,u),onMouseenter:t=>e.onItemEnter(C,u)},ie(u.label),43,jn))),128))],512)),j(e.$slots,"suffix")],34)}var Xn=ne("MenuBar",V(Fn,[["render",En],["__file","/root/workspace/github/vue3-context-menu/src/MenuBar.vue"]]))}}});
//# sourceMappingURL=index.system.min.js.map
