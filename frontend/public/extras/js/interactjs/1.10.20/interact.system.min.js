System.register([],function(mn){"use strict";return{execute:function(){var fe=e=>!!(e&&e.Window)&&e instanceof e.Window;let pe,N;function de(e){pe=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),N=e}typeof window<"u"&&window&&de(window);function A(e){return fe(e)?e:(e.ownerDocument||e).defaultView||N.window}const gn=e=>e===N||fe(e),vn=e=>mt(e)&&e.nodeType===11,mt=e=>!!e&&typeof e=="object",he=e=>typeof e=="function";var f={window:gn,docFrag:vn,object:mt,func:he,number:e=>typeof e=="number",bool:e=>typeof e=="boolean",string:e=>typeof e=="string",element:e=>{if(!e||typeof e!="object")return!1;const t=A(e)||N;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:e=>mt(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),array:e=>mt(e)&&typeof e.length<"u"&&he(e.splice)};function yn(e){const{actions:t,Interactable:n,defaults:o}=e;n.prototype.draggable=tt.draggable,t.map.drag=tt,t.methodDict.drag="draggable",o.actions.drag=tt.defaults}function Dt({interaction:e}){if(e.prepared.name!=="drag")return;const t=e.prepared.axis;t==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):t==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}function me({iEvent:e,interaction:t}){if(t.prepared.name!=="drag")return;const n=t.prepared.axis;if(n==="x"||n==="y"){const o=n==="x"?"y":"x";e.page[o]=t.coords.start.page[o],e.client[o]=t.coords.start.client[o],e.delta[o]=0}}const tt={id:"actions/drag",install:yn,listeners:{"interactions:before-action-move":Dt,"interactions:action-resume":Dt,"interactions:action-move":me,"auto-start:check":e=>{const{interaction:t,interactable:n,buttons:o}=e,i=n.options.drag;if(!(!(i&&i.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&!(o&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:i.lockAxis==="start"?i.startAxis:i.lockAxis},!1}},draggable:function(t){return f.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):f.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:Dt,move:me,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"}},y={init:xn,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function K(){}function xn(e){const t=e;y.document=t.document,y.DocumentFragment=t.DocumentFragment||K,y.SVGElement=t.SVGElement||K,y.SVGSVGElement=t.SVGSVGElement||K,y.SVGElementInstance=t.SVGElementInstance||K,y.Element=t.Element||K,y.HTMLElement=t.HTMLElement||y.Element,y.Event=t.Event,y.Touch=t.Touch||K,y.PointerEvent=t.PointerEvent||t.MSPointerEvent}const S={init:bn,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function bn(e){const t=y.Element,n=e.navigator||{};S.supportsTouch="ontouchstart"in e||f.func(e.DocumentTouch)&&y.document instanceof e.DocumentTouch,S.supportsPointerEvent=n.pointerEnabled!==!1&&!!y.PointerEvent,S.isIOS=/iP(hone|od|ad)/.test(n.platform),S.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),S.isIe9=/MSIE 9/.test(n.userAgent),S.isOperaMobile=n.appName==="Opera"&&S.supportsTouch&&/Presto/.test(n.userAgent),S.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",S.pEventTypes=S.supportsPointerEvent?y.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,S.wheelEvent=y.document&&"onmousewheel"in y.document?"mousewheel":"wheel"}function q(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ge(e,t){for(;f.element(e);){if(X(e,t))return e;e=$(e)}return null}function $(e){let t=e.parentNode;if(f.docFrag(t)){for(;(t=t.host)&&f.docFrag(t););return t}return t}function X(e,t){return N!==pe&&(t=t.replace(/\/deep\//g," ")),e[S.prefixedMatchesSelector](t)}const zt=e=>e.parentNode||e.host;function wn(e){let t=[],n;for(let o=0;o<e.length;o++){const i=e[o],s=e[n];if(!i||o===n)continue;if(!s){n=o;continue}const r=zt(i),a=zt(s);if(r===i.ownerDocument)continue;if(a===i.ownerDocument){n=o;continue}if(r===a){_n(i,s)&&(n=o);continue}t=t.length?t:ve(s);let c;if(s instanceof y.HTMLElement&&i instanceof y.SVGElement&&!(i instanceof y.SVGSVGElement)){if(i===a)continue;c=i.ownerSVGElement}else c=i;const l=ve(c,s.ownerDocument);let u=0;for(;l[u]&&l[u]===t[u];)u++;const p=[l[u-1],l[u],t[u]];if(p[0]){let d=p[0].lastChild;for(;d;){if(d===p[1]){n=o,t=l;break}else if(d===p[2])break;d=d.previousSibling}}}return n}function ve(e,t){const n=[];let o=e,i;for(;(i=zt(o))&&o!==t&&i!==o.ownerDocument;)n.unshift(o),o=i;return n}function _n(e,t){const n=parseInt(A(e).getComputedStyle(e).zIndex,10)||0,o=parseInt(A(t).getComputedStyle(t).zIndex,10)||0;return n>=o}function Ot(e,t,n){for(;f.element(e);){if(X(e,t))return!0;if(e=$(e),e===n)return X(e,t)}return!1}function ye(e){return e.correspondingUseElement||e}function Sn(e){return e=e||N,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function $t(e){const t=e instanceof y.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function At(e){const t=$t(e);if(!S.isIOS7&&t){const n=Sn(A(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function xe(e){const t=[];for(;e;)t.push(e),e=$(e);return t}function be(e){return f.string(e)?(y.document.querySelector(e),!0):!1}function h(e,t){for(const o in t)e[o]=t[o];return e}function we(e,t,n){return e==="parent"?$(n):e==="self"?t.getRect(n):ge(n,e)}function et(e,t,n,o){let i=e;return f.string(i)?i=we(i,t,n):f.func(i)&&(i=i(...o)),f.element(i)&&(i=At(i)),i}function gt(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function Pn(e){return e&&!("left"in e&&"top"in e)&&(e=h({},e),e.left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}function Ct(e){return e&&!("x"in e&&"y"in e)&&(e=h({},e),e.x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function vt(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function nt(e,t,n){const o=n&&e.options[n],s=o&&o.origin||e.options.origin,r=et(s,e,t,[e&&t]);return gt(r)||{x:0,y:0}}function H(e,t,n){if(n=n||{},f.string(e)&&e.search(" ")!==-1&&(e=_e(e)),f.array(e))return e.reduce((o,i)=>h(o,H(i,t,n)),n);if(f.object(e)&&(t=e,e=""),f.func(t))n[e]=n[e]||[],n[e].push(t);else if(f.array(t))for(const o of t)H(e,o,n);else if(f.object(t))for(const o in t){const i=_e(o).map(s=>`${e}${s}`);H(i,t[o],n)}return n}function _e(e){return e.trim().split(/ +/)}var ot=(e,t)=>Math.sqrt(e*e+t*t);const In=["webkit","moz"];function yt(e,t){e.__set||(e.__set={});for(const n in t)In.some(o=>n.indexOf(o)===0)||typeof e[n]!="function"&&n!=="__set"&&Object.defineProperty(e,n,{get(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set(o){e.__set[n]=o},configurable:!0});return e}function xt(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function En(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function Tn(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function Se(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function Pe(e){return e instanceof y.Event||e instanceof y.Touch}function bt(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function Ie(e,t){return t=t||{x:0,y:0},S.isOperaMobile&&Pe(e)?(bt("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):bt("page",e,t),t}function Mn(e,t){return t=t||{},S.isOperaMobile&&Pe(e)?bt("screen",e,t):bt("client",e,t),t}function it(e){return f.number(e.pointerId)?e.pointerId:e.identifier}function Dn(e,t,n){const o=t.length>1?Ee(t):t[0];Ie(o,e.page),Mn(o,e.client),e.timeStamp=n}function Rt(e){const t=[];return f.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Ee(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const o in t)t[o]+=n[o];for(const n in t)t[n]/=e.length;return t}function Ft(e){if(!e.length)return null;const t=Rt(e),n=Math.min(t[0].pageX,t[1].pageX),o=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:o,left:n,top:o,right:i,bottom:s,width:i-n,height:s-o}}function Nt(e,t){const n=t+"X",o=t+"Y",i=Rt(e),s=i[0][n]-i[1][n],r=i[0][o]-i[1][o];return ot(s,r)}function Xt(e,t){const n=t+"X",o=t+"Y",i=Rt(e),s=i[1][n]-i[0][n],r=i[1][o]-i[0][o];return 180*Math.atan2(r,s)/Math.PI}function Te(e){return f.string(e.pointerType)?e.pointerType:f.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof y.Touch?"touch":"mouse"}function Me(e){const t=f.func(e.composedPath)?e.composedPath():e.path;return[ye(t?t[0]:e.target),ye(e.currentTarget)]}function st(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function zn(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault(){}}}var On=Object.defineProperty,$n=(e,t,n)=>t in e?On(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,De=(e,t,n)=>($n(e,typeof t!="symbol"?t+"":t,n),n);class wt{constructor(t){De(this,"immediatePropagationStopped",!1),De(this,"propagationStopped",!1),this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(wt.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const An=(e,t)=>e.indexOf(t)!==-1,Cn=(e,t)=>e.splice(e.indexOf(t),1),ze=(e,t)=>{for(const n of t)e.push(n);return e},Yt=e=>ze([],e),rt=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},_t=(e,t)=>e[rt(e,t)];var Rn=Object.defineProperty,Fn=(e,t,n)=>t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t,n)=>(Fn(e,typeof t!="symbol"?t+"":t,n),n);class C extends wt{constructor(t,n,o){super(n._interaction),V(this,"dropzone"),V(this,"dragEvent"),V(this,"relatedTarget"),V(this,"draggable"),V(this,"propagationStopped",!1),V(this,"immediatePropagationStopped",!1);const{element:i,dropzone:s}=o==="dragleave"?t.prev:t.cur;this.type=o,this.target=i,this.currentTarget=i,this.dropzone=s,this.dragEvent=n,this.relatedTarget=n.target,this.draggable=n.interactable,this.timeStamp=n.timeStamp}reject(){const{dropState:t}=this._interaction;if(!(this.type!=="dropactivate"&&(!this.dropzone||t.cur.dropzone!==this.dropzone||t.cur.element!==this.target)))if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){const n=t.activeDrops,o=rt(n,({dropzone:s,element:r})=>s===this.dropzone&&r===this.target);t.activeDrops.splice(o,1);const i=new C(t,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new C(t,this.dragEvent,"dragleave"))}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}function Nn(e){const{actions:t,interactStatic:n,Interactable:o,defaults:i}=e;e.usePlugin(tt),o.prototype.dropzone=function(s){return Yn(this,s)},o.prototype.dropCheck=function(s,r,a,c,l,u){return kn(this,s,r,a,c,l,u)},n.dynamicDrop=function(s){return f.bool(s)?(e.dynamicDrop=s,n):e.dynamicDrop},h(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=Ce.defaults}function Xn({interactables:e},t){const n=[];for(const o of e.list){if(!o.options.drop.enabled)continue;const i=o.options.drop.accept;if(f.element(i)&&i!==t||f.string(i)&&!X(t,i)||f.func(i)&&!i({dropzone:o,draggableElement:t}))continue;const s=f.string(o.target)?o._context.querySelectorAll(o.target):f.array(o.target)?o.target:[o.target];for(const r of s)r!==t&&n.push({dropzone:o,element:r,rect:o.getRect(r)})}return n}function Oe(e,t){for(const{dropzone:n,element:o}of e.slice())t.dropzone=n,t.target=o,n.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}function kt(e,t){const n=Xn(e,t);for(const o of n)o.rect=o.dropzone.getRect(o.element);return n}function $e({dropState:e,interactable:t,element:n},o,i){const s=[];for(const{dropzone:a,element:c,rect:l}of e.activeDrops)a.dropCheck(o,i,t,n,c,l)&&s.push(c);const r=wn(s);return e.activeDrops[r]||null}function Lt(e,t,n){const o=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(i.activate=new C(o,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),n.type==="dragend"&&(i.deactivate=new C(o,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),o.rejected||(o.cur.element!==o.prev.element&&(o.prev.dropzone&&(i.leave=new C(o,n,"dragleave"),n.dragLeave=i.leave.target=o.prev.element,n.prevDropzone=i.leave.dropzone=o.prev.dropzone),o.cur.dropzone&&(i.enter=new C(o,n,"dragenter"),n.dragEnter=o.cur.element,n.dropzone=o.cur.dropzone)),n.type==="dragend"&&o.cur.dropzone&&(i.drop=new C(o,n,"drop"),n.dropzone=o.cur.dropzone,n.relatedTarget=o.cur.element),n.type==="dragmove"&&o.cur.dropzone&&(i.move=new C(o,n,"dropmove"),n.dropzone=o.cur.dropzone)),i}function Bt(e,t){const n=e.dropState,{activeDrops:o,cur:i,prev:s}=n;t.leave&&s.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&Oe(o,t.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function Ae({interaction:e,iEvent:t,event:n},o){if(t.type!=="dragmove"&&t.type!=="dragend")return;const i=e.dropState;o.dynamicDrop&&(i.activeDrops=kt(o,e.element));const s=t,r=$e(e,s,n);i.rejected=i.rejected&&!!r&&r.dropzone===i.cur.dropzone&&r.element===i.cur.element,i.cur.dropzone=r&&r.dropzone,i.cur.element=r&&r.element,i.events=Lt(e,n,s)}function Yn(e,t){if(f.object(t)){if(e.options.drop.enabled=t.enabled!==!1,t.listeners){const n=H(t.listeners),o=Object.keys(n).reduce((s,r)=>{const a=/^(enter|leave)/.test(r)?`drag${r}`:/^(activate|deactivate|move)/.test(r)?`drop${r}`:r;return s[a]=n[r],s},{}),i=e.options.drop.listeners;i&&e.off(i),e.on(o),e.options.drop.listeners=o}return f.func(t.ondrop)&&e.on("drop",t.ondrop),f.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),f.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),f.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),f.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),f.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:f.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return f.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}function kn(e,t,n,o,i,s,r){let a=!1;if(!(r=r||e.getRect(s)))return e.options.drop.checker?e.options.drop.checker(t,n,a,e,s,o,i):!1;const c=e.options.drop.overlap;if(c==="pointer"){const u=nt(o,i,"drag"),p=Ie(t);p.x+=u.x,p.y+=u.y;const d=p.x>r.left&&p.x<r.right,m=p.y>r.top&&p.y<r.bottom;a=d&&m}const l=o.getRect(i);if(l&&c==="center"){const u=l.left+l.width/2,p=l.top+l.height/2;a=u>=r.left&&u<=r.right&&p>=r.top&&p<=r.bottom}return l&&f.number(c)&&(a=Math.max(0,Math.min(r.right,l.right)-Math.max(r.left,l.left))*Math.max(0,Math.min(r.bottom,l.bottom)-Math.max(r.top,l.top))/(l.width*l.height)>=c),e.options.drop.checker&&(a=e.options.drop.checker(t,n,a,e,s,o,i)),a}const Ce={id:"actions/drop",install:Nn,listeners:{"interactions:before-action-start":({interaction:e})=>{e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":({interaction:e,event:t,iEvent:n},o)=>{if(e.prepared.name!=="drag")return;const i=e.dropState;i.activeDrops=[],i.events={},i.activeDrops=kt(o,e.element),i.events=Lt(e,t,n),i.events.activate&&(Oe(i.activeDrops,i.events.activate),o.fire("actions/drop:start",{interaction:e,dragEvent:n}))},"interactions:action-move":Ae,"interactions:after-action-move":({interaction:e,iEvent:t},n)=>{if(e.prepared.name!=="drag")return;const o=e.dropState;Bt(e,o.events),n.fire("actions/drop:move",{interaction:e,dragEvent:t}),o.events={}},"interactions:action-end":(e,t)=>{if(e.interaction.prepared.name!=="drag")return;const{interaction:n,iEvent:o}=e;Ae(e,t),Bt(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:o})},"interactions:stop":({interaction:e})=>{if(e.prepared.name!=="drag")return;const{dropState:t}=e;t&&(t.activeDrops=null,t.events=null,t.cur.dropzone=null,t.cur.element=null,t.prev.dropzone=null,t.prev.element=null,t.rejected=!1)}},getActiveDrops:kt,getDrop:$e,getDropEvents:Lt,fireDropEvents:Bt,defaults:{enabled:!1,accept:null,overlap:"pointer"}};function Ln(e){const{actions:t,Interactable:n,defaults:o}=e;n.prototype.gesturable=function(i){return f.object(i)?(this.options.gesture.enabled=i.enabled!==!1,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):f.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},t.map.gesture=qt,t.methodDict.gesture="gesturable",o.actions.gesture=qt.defaults}function jt({interaction:e,iEvent:t,phase:n}){if(e.prepared.name!=="gesture")return;const o=e.pointers.map(a=>a.pointer),i=n==="start",s=n==="end",r=e.interactable.options.deltaSource;if(t.touches=[o[0],o[1]],i)t.distance=Nt(o,r),t.box=Ft(o),t.scale=1,t.ds=0,t.angle=Xt(o,r),t.da=0,e.gesture.startDistance=t.distance,e.gesture.startAngle=t.angle;else if(s){const a=e.prevEvent;t.distance=a.distance,t.box=a.box,t.scale=a.scale,t.ds=0,t.angle=a.angle,t.da=0}else t.distance=Nt(o,r),t.box=Ft(o),t.scale=t.distance/e.gesture.startDistance,t.angle=Xt(o,r),t.ds=t.scale-e.gesture.scale,t.da=t.angle-e.gesture.angle;e.gesture.distance=t.distance,e.gesture.angle=t.angle,f.number(t.scale)&&t.scale!==1/0&&!isNaN(t.scale)&&(e.gesture.scale=t.scale)}const qt={id:"actions/gesture",before:["actions/drag","actions/resize"],install:Ln,listeners:{"interactions:action-start":jt,"interactions:action-move":jt,"interactions:action-end":jt,"interactions:new":({interaction:e})=>{e.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":e=>{if(e.interaction.pointers.length<2)return;const t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}},defaults:{},getCursor(){return""}};function Bn(e){const{actions:t,browser:n,Interactable:o,defaults:i}=e;R.cursors=Un(n),R.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,o.prototype.resizable=function(s){return qn(this,s,e)},t.map.resize=R,t.methodDict.resize="resizable",i.actions.resize=R.defaults}function jn(e){const{interaction:t,interactable:n,element:o,rect:i,buttons:s}=e;if(!i)return;const r=h({},t.coords.cur.page),a=n.options.resize;if(!(!(a&&a.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&!(s&a.mouseButtons))){if(f.object(a.edges)){const c={left:!1,right:!1,top:!1,bottom:!1};for(const l in c)c[l]=Hn(l,a.edges[l],r,t._latestPointer.eventTarget,o,i,a.margin||R.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{const c=a.axis!=="y"&&r.x>i.right-R.defaultMargin,l=a.axis!=="x"&&r.y>i.bottom-R.defaultMargin;(c||l)&&(e.action={name:"resize",axes:(c?"x":"")+(l?"y":"")})}return e.action?!1:void 0}}function qn(e,t,n){return f.object(t)?(e.options.resize.enabled=t.enabled!==!1,e.setPerAction("resize",t),e.setOnEvents("resize",t),f.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:t.axis===null&&(e.options.resize.axis=n.defaults.actions.resize.axis),f.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:f.bool(t.square)&&(e.options.resize.square=t.square),e):f.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}function Hn(e,t,n,o,i,s,r){if(!t)return!1;if(t===!0){const a=f.number(s.width)?s.width:s.right-s.left,c=f.number(s.height)?s.height:s.bottom-s.top;if(r=Math.min(r,Math.abs((e==="left"||e==="right"?a:c)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),c<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){const l=a>=0?s.left:s.right;return n.x<l+r}if(e==="top"){const l=c>=0?s.top:s.bottom;return n.y<l+r}if(e==="right")return n.x>(a>=0?s.right:s.left)-r;if(e==="bottom")return n.y>(c>=0?s.bottom:s.top)-r}return f.element(o)?f.element(t)?t===o:Ot(o,t,i):!1}function Un(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function Wn({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e,o=t.rect;t._rects={start:h({},o),corrected:h({},o),previous:h({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta}function Gn({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e,i=t.interactable.options.resize.invert,s=i==="reposition"||i==="negate",r=t.rect,{start:a,corrected:c,delta:l,previous:u}=t._rects;if(h(u,c),s){if(h(c,r),i==="reposition"){if(c.top>c.bottom){const p=c.top;c.top=c.bottom,c.bottom=p}if(c.left>c.right){const p=c.left;c.left=c.right,c.right=p}}}else c.top=Math.min(r.top,a.bottom),c.bottom=Math.max(r.bottom,a.top),c.left=Math.min(r.left,a.right),c.right=Math.max(r.right,a.left);c.width=c.right-c.left,c.height=c.bottom-c.top;for(const p in c)l[p]=c[p]-u[p];n.edges=t.prepared.edges,n.rect=c,n.deltaRect=l}function Kn({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e;n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta}function Re({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.resizeAxes)return;const n=t.interactable.options,o=e;n.resize.square?(t.resizeAxes==="y"?o.delta.x=o.delta.y:o.delta.y=o.delta.x,o.axes="xy"):(o.axes=t.resizeAxes,t.resizeAxes==="x"?o.delta.y=0:t.resizeAxes==="y"&&(o.delta.x=0))}const R={id:"actions/resize",before:["actions/drag"],install:Bn,listeners:{"interactions:new":({interaction:e})=>{e.resizeAxes="xy"},"interactions:action-start":e=>{Wn(e),Re(e)},"interactions:action-move":e=>{Gn(e),Re(e)},"interactions:action-end":Kn,"auto-start:check":jn},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor({edges:e,axis:t,name:n}){const o=R.cursors;let i=null;if(t)i=o[n+t];else if(e){let s="";for(const r of["top","bottom","left","right"])e[r]&&(s+=r);i=o[s]}return i},defaultMargin:null};var Vn={id:"actions",install(e){e.usePlugin(qt),e.usePlugin(R),e.usePlugin(tt),e.usePlugin(Ce)}};let Fe=0,F,U;function Qn(e){if(F=e.requestAnimationFrame,U=e.cancelAnimationFrame,!F){const t=["ms","moz","webkit","o"];for(const n of t)F=e[`${n}RequestAnimationFrame`],U=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}F=F&&F.bind(e),U=U&&U.bind(e),F||(F=t=>{const n=Date.now(),o=Math.max(0,16-(n-Fe)),i=e.setTimeout(()=>{t(n+o)},o);return Fe=n+o,i},U=t=>clearTimeout(t))}var Y={request:e=>F(e),cancel:e=>U(e),init:Qn};function Zn(e){const{defaults:t,actions:n}=e;e.autoScroll=g,g.now=()=>e.now(),n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=g.defaults}const g={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start(e){g.isScrolling=!0,Y.cancel(g.i),e.autoScroll=g,g.interaction=e,g.prevTime=g.now(),g.i=Y.request(g.scroll)},stop(){g.isScrolling=!1,g.interaction&&(g.interaction.autoScroll=null),Y.cancel(g.i)},scroll(){const{interaction:e}=g,{interactable:t,element:n}=e,o=e.prepared.name,i=t.options[o].autoScroll,s=Ne(i.container,t,n),r=g.now(),a=(r-g.prevTime)/1e3,c=i.speed*a;if(c>=1){const l={x:g.x*c,y:g.y*c};if(l.x||l.y){const u=Xe(s);f.window(s)?s.scrollBy(l.x,l.y):s&&(s.scrollLeft+=l.x,s.scrollTop+=l.y);const p=Xe(s),d={x:p.x-u.x,y:p.y-u.y};(d.x||d.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:d,interaction:e,container:s})}g.prevTime=r}g.isScrolling&&(Y.cancel(g.i),g.i=Y.request(g.scroll))},check(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove({interaction:e,pointer:t}){if(!(e.interacting()&&g.check(e.interactable,e.prepared.name)))return;if(e.simulation){g.x=g.y=0;return}let n,o,i,s;const{interactable:r,element:a}=e,c=e.prepared.name,l=r.options[c].autoScroll,u=Ne(l.container,r,a);if(f.window(u))s=t.clientX<g.margin,n=t.clientY<g.margin,o=t.clientX>u.innerWidth-g.margin,i=t.clientY>u.innerHeight-g.margin;else{const p=$t(u);s=t.clientX<p.left+g.margin,n=t.clientY<p.top+g.margin,o=t.clientX>p.right-g.margin,i=t.clientY>p.bottom-g.margin}g.x=o?1:s?-1:0,g.y=i?1:n?-1:0,g.isScrolling||(g.margin=l.margin,g.speed=l.speed,g.start(e))}};function Ne(e,t,n){return(f.string(e)?we(e,t,n):e)||A(n)}function Xe(e){return f.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}const Jn={id:"auto-scroll",install:Zn,listeners:{"interactions:new":({interaction:e})=>{e.autoScroll=null},"interactions:destroy":({interaction:e})=>{e.autoScroll=null,g.stop(),g.interaction&&(g.interaction=null)},"interactions:stop":g.stop,"interactions:action-move":e=>g.onInteractionMove(e)}};function at(e,t){let n=!1;return function(){return n||(N.console.warn(t),n=!0),e.apply(this,arguments)}}function Ht(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function to(e){const{Interactable:t}=e;t.prototype.getAction=function(o,i,s,r){const a=eo(this,i,s,r,e);return this.options.actionChecker?this.options.actionChecker(o,i,a,this,r,s):a},t.prototype.ignoreFrom=at(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=at(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=oo,t.prototype.styleCursor=no}function eo(e,t,n,o,i){const s=e.getRect(o),r=t.buttons||{0:1,1:4,3:8,4:16}[t.button],a={action:null,interactable:e,interaction:n,element:o,rect:s,buttons:r};return i.fire("auto-start:check",a),a.action}function no(e){return f.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function oo(e){return f.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}var io={id:"auto-start/interactableMethods",install:to};function so(e){const{interactStatic:t,defaults:n}=e;e.usePlugin(io),n.base.actionChecker=null,n.base.styleCursor=!0,h(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=o=>Be(o,e),e.autoStart={maxInteractions:1/0,withinInteractionLimit:St,cursorElement:null}}function ro({interaction:e,pointer:t,event:n,eventTarget:o},i){if(e.interacting())return;const s=ke(e,t,n,o,i);Le(e,s,i)}function ao({interaction:e,pointer:t,event:n,eventTarget:o},i){if(e.pointerType!=="mouse"||e.pointerIsDown||e.interacting())return;const s=ke(e,t,n,o,i);Le(e,s,i)}function co(e,t){const{interaction:n}=e;if(!n.pointerIsDown||n.interacting()||!n.pointerWasMoved||!n.prepared.name)return;t.fire("autoStart:before-start",e);const{interactable:o}=n,i=n.prepared.name;i&&o&&(o.options[i].manualStart||!St(o,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,o,n.element),je(n,t)))}function lo({interaction:e},t){const{interactable:n}=e;n&&n.options.styleCursor&&Ut(e.element,"",t)}function Ye(e,t,n,o,i){return t.testIgnoreAllow(t.options[e.name],n,o)&&t.options[e.name].enabled&&St(t,n,e,i)?e:null}function uo(e,t,n,o,i,s,r){for(let a=0,c=o.length;a<c;a++){const l=o[a],u=i[a],p=l.getAction(t,n,e,u);if(!p)continue;const d=Ye(p,l,u,s,r);if(d)return{action:d,interactable:l,element:u}}return{action:null,interactable:null,element:null}}function ke(e,t,n,o,i){let s=[],r=[],a=o;function c(l){s.push(l),r.push(a)}for(;f.element(a);){s=[],r=[],i.interactables.forEachMatch(a,c);const l=uo(e,t,n,s,r,o,i);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;a=$(a)}return{action:null,interactable:null,element:null}}function Le(e,{action:t,interactable:n,element:o},i){t=t||{name:null},e.interactable=n,e.element=o,Ht(e.prepared,t),e.rect=n&&t.name?n.getRect(o):null,je(e,i),i.fire("autoStart:prepared",{interaction:e})}function St(e,t,n,o){const i=e.options,s=i[n.name].max,r=i[n.name].maxPerElement,a=o.autoStart.maxInteractions;let c=0,l=0,u=0;if(!(s&&r&&a))return!1;for(const p of o.interactions.list){const d=p.prepared.name;if(p.interacting()){if(c++,c>=a)return!1;if(p.interactable===e&&(l+=d===n.name?1:0,l>=s||p.element===t&&(u++,d===n.name&&u>=r)))return!1}}return a>0}function Be(e,t){return f.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Ut(e,t,n){const{cursorElement:o}=n.autoStart;o&&o!==e&&(o.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function je(e,t){const{interactable:n,element:o,prepared:i}=e;if(!(e.pointerType==="mouse"&&n&&n.options.styleCursor)){t.autoStart.cursorElement&&Ut(t.autoStart.cursorElement,"",t);return}let s="";if(i.name){const r=n.options[i.name].cursorChecker;f.func(r)?s=r(i,n,o,e._interacting):s=t.actions.map[i.name].getCursor(i)}Ut(e.element,s||"",t)}const Wt={id:"auto-start/base",before:["actions"],install:so,listeners:{"interactions:down":ro,"interactions:move":(e,t)=>{ao(e,t),co(e,t)},"interactions:stop":lo},maxInteractions:Be,withinInteractionLimit:St,validateAction:Ye};function fo({interaction:e,eventTarget:t,dx:n,dy:o},i){if(e.prepared.name!=="drag")return;const s=Math.abs(n),r=Math.abs(o),a=e.interactable.options.drag,c=a.startAxis,l=s>r?"x":s<r?"y":"xy";if(e.prepared.axis=a.lockAxis==="start"?l[0]:a.lockAxis,l!=="xy"&&c!=="xy"&&c!==l){e.prepared.name=null;let u=t;const p=function(d){if(d===e.interactable)return;const m=e.interactable.options.drag;if(!m.manualStart&&d.testIgnoreAllow(m,u,t)){const v=d.getAction(e.downPointer,e.downEvent,e,u);if(v&&v.name==="drag"&&po(l,d)&&Wt.validateAction(v,d,u,t,i))return d}};for(;f.element(u);){const d=i.interactables.forEachMatch(u,p);if(d){e.prepared.name="drag",e.interactable=d,e.element=u;break}u=$(u)}}}function po(e,t){if(!t)return!1;const n=t.options.drag.startAxis;return e==="xy"||n==="xy"||n===e}var ho={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":fo}};function mo(e){const{defaults:t}=e;e.usePlugin(Wt),t.perAction.hold=0,t.perAction.delay=0}function Gt(e){const t=e.prepared&&e.prepared.name;if(!t)return null;const n=e.interactable.options;return n[t].hold||n[t].delay}const go={id:"auto-start/hold",install:mo,listeners:{"interactions:new":({interaction:e})=>{e.autoStartHoldTimer=null},"autoStart:prepared":({interaction:e})=>{const t=Gt(e);t>0&&(e.autoStartHoldTimer=setTimeout(()=>{e.start(e.prepared,e.interactable,e.element)},t))},"interactions:move":({interaction:e,duplicate:t})=>{e.autoStartHoldTimer&&e.pointerWasMoved&&!t&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":({interaction:e})=>{Gt(e)>0&&(e.prepared.name=null)}},getHoldDuration:Gt};var vo={id:"auto-start",install(e){e.usePlugin(Wt),e.usePlugin(go),e.usePlugin(ho)}};function yo(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):f.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function xo(e,t,n){const o=e.options.preventDefault;if(o!=="never"){if(o==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const i=A(n.target).document,s=t.getDocOptions(i);if(!(s&&s.events)||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||f.element(n.target)&&X(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function bo({interaction:e,event:t}){e.interactable&&e.interactable.checkAndPreventDefault(t)}function wo(e){const{Interactable:t}=e;t.prototype.preventDefault=yo,t.prototype.checkAndPreventDefault=function(n){return xo(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const o of e.interactions.list)if(o.element&&(o.element===n.target||q(o.element,n.target))){o.interactable.checkAndPreventDefault(n);return}}})}var qe={id:"core/interactablePreventDefault",install:wo,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=bo,e),{})},_o={},Q;(function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"})(Q||(Q={}));const He="[interact.js] ",Kt={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"};function So(e,{logger:t}={}){const{Interactable:n,defaults:o}=e;e.logger=t||console,o.base.devTools={ignore:{}},n.prototype.devTools=function(i){return i?(h(this.options.devTools,i),this):this.options.devTools},e.usePlugin(_o)}const Ue=[{name:Q.touchAction,perform({element:e}){return!!e&&!Po(e,"touchAction",/pan-|pinch|none/)},getInfo({element:e}){return[e,Kt.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:Q.boxSizing,perform(e){const{element:t}=e;return e.prepared.name==="resize"&&t instanceof y.HTMLElement&&!We(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo({element:e}){return[e,Kt.boxSizing]}},{name:Q.noListeners,perform(e){var t;const n=e.prepared.name;return!(((t=e.interactable)==null?void 0:t.events.types[`${n}move`])||[]).length},getInfo(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function We(e,t,n){const o=e.style[t]||N.getComputedStyle(e)[t];return n.test((o||"").toString())}function Po(e,t,n){let o=e;for(;f.element(o);){if(We(o,t,n))return!0;o=$(o)}return!1}const Io={id:"dev-tools",install:So,listeners:{"interactions:action-start":({interaction:e},t)=>{for(const n of Ue){const o=e.interactable&&e.interactable.options;!(o&&o.devTools&&o.devTools.ignore[n.name])&&n.perform(e)&&t.logger.warn(He+n.text,...n.getInfo(e))}}},checks:Ue,CheckName:Q,links:Kt,prefix:He};function Z(e){const t={};for(const n in e){const o=e[n];f.plainObject(o)?t[n]=Z(o):f.array(o)?t[n]=Yt(o):t[n]=o}return t}var Eo=Object.defineProperty,To=(e,t,n)=>t in e?Eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t,n)=>(To(e,typeof t!="symbol"?t+"":t,n),n);class Vt{constructor(t){k(this,"states",[]),k(this,"startOffset",{left:0,right:0,top:0,bottom:0}),k(this,"startDelta"),k(this,"result"),k(this,"endResult"),k(this,"startEdges"),k(this,"edges"),k(this,"interaction"),this.interaction=t,this.result=Pt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}start({phase:t},n){const{interaction:o}=this,i=Mo(o);this.prepareStates(i),this.startEdges=h({},o.edges),this.edges=h({},this.startEdges),this.startOffset=Do(o.rect,n),this.startDelta={x:0,y:0};const s=this.fillArg({phase:t,pageCoords:n,preEnd:!1});return this.result=Pt(),this.startAll(s),this.result=this.setAll(s)}fillArg(t){const{interaction:n}=this;return t.interaction=n,t.interactable=n.interactable,t.element=n.element,t.rect||(t.rect=n.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}startAll(t){for(const n of this.states)n.methods.start&&(t.state=n,n.methods.start(t))}setAll(t){const{phase:n,preEnd:o,skipModifiers:i,rect:s,edges:r}=t;t.coords=h({},t.pageCoords),t.rect=h({},s),t.edges=h({},r);const a=i?this.states.slice(i):this.states,c=Pt(t.coords,t.rect);for(const d of a){var l;const{options:m}=d,v=h({},t.coords);let P=null;(l=d.methods)!=null&&l.set&&this.shouldDo(m,o,n)&&(t.state=d,P=d.methods.set(t),vt(t.edges,t.rect,{x:t.coords.x-v.x,y:t.coords.y-v.y})),c.eventProps.push(P)}h(this.edges,t.edges),c.delta.x=t.coords.x-t.pageCoords.x,c.delta.y=t.coords.y-t.pageCoords.y,c.rectDelta.left=t.rect.left-s.left,c.rectDelta.right=t.rect.right-s.right,c.rectDelta.top=t.rect.top-s.top,c.rectDelta.bottom=t.rect.bottom-s.bottom;const u=this.result.coords,p=this.result.rect;if(u&&p){const d=c.rect.left!==p.left||c.rect.right!==p.right||c.rect.top!==p.top||c.rect.bottom!==p.bottom;c.changed=d||u.x!==c.coords.x||u.y!==c.coords.y}return c}applyToInteraction(t){const{interaction:n}=this,{phase:o}=t,i=n.coords.cur,s=n.coords.start,{result:r,startDelta:a}=this,c=r.delta;o==="start"&&h(this.startDelta,r.delta);for(const[p,d]of[[s,a],[i,c]])p.page.x+=d.x,p.page.y+=d.y,p.client.x+=d.x,p.client.y+=d.y;const{rectDelta:l}=this.result,u=t.rect||n.rect;u.left+=l.left,u.right+=l.right,u.top+=l.top,u.bottom+=l.bottom,u.width=u.right-u.left,u.height=u.bottom-u.top}setAndApply(t){const{interaction:n}=this,{phase:o,preEnd:i,skipModifiers:s}=t,r=this.setAll(this.fillArg({preEnd:i,phase:o,pageCoords:t.modifiedCoords||n.coords.cur.page}));if(this.result=r,!r.changed&&(!s||s<this.states.length)&&n.interacting())return!1;if(t.modifiedCoords){const{page:a}=n.coords.cur,c={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};r.coords.x+=c.x,r.coords.y+=c.y,r.delta.x+=c.x,r.delta.y+=c.y}this.applyToInteraction(t)}beforeEnd(t){const{interaction:n,event:o}=t,i=this.states;if(!i||!i.length)return;let s=!1;for(const r of i){t.state=r;const{options:a,methods:c}=r,l=c.beforeEnd&&c.beforeEnd(t);if(l)return this.endResult=l,!1;s=s||!s&&this.shouldDo(a,!0,t.phase,!0)}s&&n.move({event:o,preEnd:!0})}stop(t){const{interaction:n}=t;if(!this.states||!this.states.length)return;const o=h({states:this.states,interactable:n.interactable,element:n.element,rect:null},t);this.fillArg(o);for(const i of this.states)o.state=i,i.methods.stop&&i.methods.stop(o);this.states=null,this.endResult=null}prepareStates(t){this.states=[];for(let n=0;n<t.length;n++){const{options:o,methods:i,name:s}=t[n];this.states.push({options:o,methods:i,index:n,name:s})}return this.states}restoreInteractionCoords({interaction:{coords:t,rect:n,modification:o}}){if(!o.result)return;const{startDelta:i}=o,{delta:s,rectDelta:r}=o.result,a=[[t.start,i],[t.cur,s]];for(const[c,l]of a)c.page.x-=l.x,c.page.y-=l.y,c.client.x-=l.x,c.client.y-=l.y;n.left-=r.left,n.right-=r.right,n.top-=r.top,n.bottom-=r.bottom}shouldDo(t,n,o,i){return!(!t||t.enabled===!1||i&&!t.endOnly||t.endOnly&&!n||o==="start"&&!t.setStart)}copyFrom(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(n=>Z(n)),this.result=Pt(h({},t.result.coords),h({},t.result.rect))}destroy(){for(const t in this)this[t]=null}}function Pt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Mo(e){const t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(o=>{const i=t[o];return i&&i.enabled&&{options:i,methods:i._methods}}).filter(o=>!!o)}function Do(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}function L(e,t){const{defaults:n}=e,o={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=s=>{const r=s||{};r.enabled=r.enabled!==!1;for(const c in n)c in r||(r[c]=n[c]);const a={options:r,methods:o,name:t,enable:()=>(r.enabled=!0,a),disable:()=>(r.enabled=!1,a)};return a};return t&&typeof t=="string"&&(i._defaults=n,i._methods=o),i}function ct({iEvent:e,interaction:t}){const n=t.modification.result;n&&(e.modifiers=n.eventProps)}const Ge={id:"modifiers/base",before:["actions"],install:e=>{e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":({interaction:e})=>{e.modification=new Vt(e)},"interactions:before-action-start":e=>{const{interaction:t}=e,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":e=>{const{interaction:t}=e,{modification:n}=t,o=n.setAndApply(e);return t.edges=n.edges,o},"interactions:before-action-end":e=>{const{interaction:t}=e,{modification:n}=t,o=n.beforeEnd(e);return t.edges=n.startEdges,o},"interactions:action-start":ct,"interactions:action-move":ct,"interactions:action-end":ct,"interactions:after-action-start":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-move":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:stop":e=>e.interaction.modification.stop(e)}},Ke={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var zo=Object.defineProperty,Oo=(e,t,n)=>t in e?zo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t,n)=>(Oo(e,typeof t!="symbol"?t+"":t,n),n);class Qt extends wt{constructor(t,n,o,i,s,r,a){super(t),x(this,"relatedTarget",null),x(this,"screenX"),x(this,"screenY"),x(this,"button"),x(this,"buttons"),x(this,"ctrlKey"),x(this,"shiftKey"),x(this,"altKey"),x(this,"metaKey"),x(this,"page"),x(this,"client"),x(this,"delta"),x(this,"rect"),x(this,"x0"),x(this,"y0"),x(this,"t0"),x(this,"dt"),x(this,"duration"),x(this,"clientX0"),x(this,"clientY0"),x(this,"velocity"),x(this,"speed"),x(this,"swipe"),x(this,"axes"),x(this,"preEnd"),s=s||t.element;const c=t.interactable,l=(c&&c.options||Ke).deltaSource,u=nt(c,s,o),p=i==="start",d=i==="end",m=p?this:t.prevEvent,v=p?t.coords.start:d?{page:m.page,client:m.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=h({},v.page),this.client=h({},v.client),this.rect=h({},t.rect),this.timeStamp=v.timeStamp,d||(this.page.x-=u.x,this.page.y-=u.y,this.client.x-=u.x,this.client.y-=u.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=s,this.currentTarget=s,this.preEnd=r,this.type=a||o+(i||""),this.interactable=c,this.t0=p?t.pointers[t.pointers.length-1].downTime:m.t0,this.x0=t.coords.start.page.x-u.x,this.y0=t.coords.start.page.y-u.y,this.clientX0=t.coords.start.client.x-u.x,this.clientY0=t.coords.start.client.y-u.y,p||d?this.delta={x:0,y:0}:this.delta={x:this[l].x-m[l].x,y:this[l].y-m[l].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=h({},t.coords.velocity[l]),this.speed=ot(this.velocity.x,this.velocity.y),this.swipe=d||i==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;const o=22.5;n<0&&(n+=360);const i=135-o<=n&&n<225+o,s=225-o<=n&&n<315+o,r=!i&&(315-o<=n||n<45+o),a=!s&&45-o<=n&&n<135+o;return{up:s,down:a,left:i,right:r,angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(Qt.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});var $o=Object.defineProperty,Ao=(e,t,n)=>t in e?$o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lt=(e,t,n)=>(Ao(e,typeof t!="symbol"?t+"":t,n),n);class Co{constructor(t,n,o,i,s){lt(this,"id"),lt(this,"pointer"),lt(this,"event"),lt(this,"downTime"),lt(this,"downTarget"),this.id=t,this.pointer=n,this.event=o,this.downTime=i,this.downTarget=s}}var Ro=Object.defineProperty,Fo=(e,t,n)=>t in e?Ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t,n)=>(Fo(e,typeof t!="symbol"?t+"":t,n),n);let Zt;(function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""})(Zt||(Zt={}));let It;(function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""})(It||(It={}));let No=0;class Xo{constructor({pointerType:t,scopeFire:n}){w(this,"interactable",null),w(this,"element",null),w(this,"rect",null),w(this,"_rects"),w(this,"edges",null),w(this,"_scopeFire"),w(this,"prepared",{name:null,axis:null,edges:null}),w(this,"pointerType"),w(this,"pointers",[]),w(this,"downEvent",null),w(this,"downPointer",{}),w(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),w(this,"prevEvent",null),w(this,"pointerIsDown",!1),w(this,"pointerWasMoved",!1),w(this,"_interacting",!1),w(this,"_ending",!1),w(this,"_stopped",!0),w(this,"_proxy"),w(this,"simulation",null),w(this,"doMove",at(function(i){this.move(i)},"The interaction.doMove() method has been renamed to interaction.move()")),w(this,"coords",{start:st(),prev:st(),cur:st(),delta:st(),velocity:st()}),w(this,"_id",No++),this._scopeFire=n,this.pointerType=t;const o=this;this._proxy={};for(const i in Zt)Object.defineProperty(this._proxy,i,{get(){return o[i]}});for(const i in It)Object.defineProperty(this._proxy,i,{value:(...s)=>o[i](...s)});this._scopeFire("interactions:new",{interaction:this})}get pointerMoveTolerance(){return 1}pointerDown(t,n,o){const i=this.updatePointer(t,n,o,!0),s=this.pointers[i];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:o,pointerIndex:i,pointerInfo:s,type:"down",interaction:this})}start(t,n,o){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(Ht(this.prepared,t),this.interactable=n,this.element=o,this.rect=n.getRect(o),this.edges=this.prepared.edges?h({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,o){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,o,!1);const i=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let s,r;this.pointerIsDown&&!this.pointerWasMoved&&(s=this.coords.cur.client.x-this.coords.start.client.x,r=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ot(s,r)>this.pointerMoveTolerance);const a=this.getPointerIndex(t),c={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:n,type:"move",eventTarget:o,dx:s,dy:r,duplicate:i,interaction:this};i||Tn(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",c),!i&&!this.simulation&&(this.interacting()&&(c.type=null,this.move(c)),this.pointerWasMoved&&xt(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&Se(this.coords.delta),t=h({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,o,i){let s=this.getPointerIndex(t);s===-1&&(s=this.updatePointer(t,n,o,!1));const r=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${r}`,{pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,eventTarget:o,type:r,curEventTarget:i,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=it(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:rt(this.pointers,o=>o.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,o,i){const s=it(t);let r=this.getPointerIndex(t),a=this.pointers[r];return i=i===!1?!1:i||/(down|start)$/i.test(n.type),a?a.pointer=t:(a=new Co(s,t,n,null,null),r=this.pointers.length,this.pointers.push(a)),Dn(this.coords.cur,this.pointers.map(c=>c.pointer),this._now()),En(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=o,yt(this.downPointer,t),this.interacting()||(xt(this.coords.start,this.coords.cur),xt(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,o),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:o,down:i,pointerInfo:a,pointerIndex:r,interaction:this}),r}removePointer(t,n){const o=this.getPointerIndex(t);if(o===-1)return;const i=this.pointers[o];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:o,pointerInfo:i,interaction:this}),this.pointers.splice(o,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,o){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=o}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,o,i){return new Qt(this,t,this.prepared.name,n,this.element,o,i)}_fireEvent(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:o,preEnd:i,type:s}=t,{rect:r}=this;if(r&&o==="move"&&(vt(this.edges,r,this.coords.delta[this.interactable.options.deltaSource]),r.width=r.right-r.left,r.height=r.bottom-r.top),this._scopeFire(`interactions:before-action-${o}`,t)===!1)return!1;const c=t.iEvent=this._createPreparedEvent(n,o,i,s);return this._scopeFire(`interactions:action-${o}`,t),o==="start"&&(this.prevEvent=c),this._fireEvent(c),this._scopeFire(`interactions:after-action-${o}`,t),!0}_now(){return Date.now()}}It.offsetBy="";function Yo(e){e.pointerIsDown&&(Jt(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Ve({interaction:e}){Qe(e)}function ko({interaction:e}){if(Qe(e))return e.move({offset:!0}),e.end(),!1}function Lo({interaction:e}){e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}function Qe(e){if(!jo(e))return!1;const{pending:t}=e.offset;return Jt(e.coords.cur,t),Jt(e.coords.delta,t),vt(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Bo({x:e,y:t}){this.offset.pending.x+=e,this.offset.pending.y+=t,this.offset.total.x+=e,this.offset.total.y+=t}function Jt({page:e,client:t},{x:n,y:o}){e.x+=n,e.y+=o,t.x+=n,t.y+=o}function jo(e){return!!(e.offset.pending.x||e.offset.pending.y)}const Ze={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install(e){e.Interaction.prototype.offsetBy=Bo},listeners:{"interactions:new":({interaction:e})=>{e.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":({interaction:e})=>Yo(e),"interactions:before-action-start":Ve,"interactions:before-action-move":Ve,"interactions:before-action-end":ko,"interactions:stop":Lo}};var qo=Object.defineProperty,Ho=(e,t,n)=>t in e?qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t,n)=>(Ho(e,typeof t!="symbol"?t+"":t,n),n);function Uo(e){const{defaults:t}=e;e.usePlugin(Ze),e.usePlugin(Ge),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}}class Wo{constructor(t){E(this,"active",!1),E(this,"isModified",!1),E(this,"smoothEnd",!1),E(this,"allowResume",!1),E(this,"modification"),E(this,"modifierCount",0),E(this,"modifierArg"),E(this,"startCoords"),E(this,"t0",0),E(this,"v0",0),E(this,"te",0),E(this,"targetOffset"),E(this,"modifiedOffset"),E(this,"currentOffset"),E(this,"lambda_v0",0),E(this,"one_ve_v0",0),E(this,"timeout"),E(this,"interaction"),this.interaction=t}start(t){const{interaction:n}=this,o=Et(n);if(!o||!o.enabled)return!1;const{client:i}=n.coords.velocity,s=ot(i.x,i.y),r=this.modification||(this.modification=new Vt(n));if(r.copyFrom(n.modification),this.t0=n._now(),this.allowResume=o.allowResume,this.v0=s,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=r.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&s>o.minSpeed&&s>o.endSpeed)this.startInertia();else{if(r.result=r.setAll(this.modifierArg),!r.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:t,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}startInertia(){const t=this.interaction.coords.velocity.client,n=Et(this.interaction),o=n.resistance,i=-Math.log(n.endSpeed/this.v0)/o;this.targetOffset={x:(t.x-i)/o,y:(t.y-i)/o},this.te=i,this.lambda_v0=o/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;const{modification:s,modifierArg:r}=this;r.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},s.result=s.setAll(r),s.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+s.result.delta.x,y:this.targetOffset.y+s.result.delta.y}),this.onNextFrame(()=>this.inertiaTick())}startSmoothEnd(){this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(()=>this.smoothEndTick())}onNextFrame(t){this.timeout=Y.request(()=>{this.active&&t()})}inertiaTick(){const{interaction:t}=this,o=Et(t).resistance,i=(t._now()-this.t0)/1e3;if(i<this.te){const s=1-(Math.exp(-o*i)-this.lambda_v0)/this.one_ve_v0;let r;this.isModified?r=Zo(0,0,this.targetOffset.x,this.targetOffset.y,this.modifiedOffset.x,this.modifiedOffset.y,s):r={x:this.targetOffset.x*s,y:this.targetOffset.y*s};const a={x:r.x-this.currentOffset.x,y:r.y-this.currentOffset.y};this.currentOffset.x+=a.x,this.currentOffset.y+=a.y,t.offsetBy(a),t.move(),this.onNextFrame(()=>this.inertiaTick())}else t.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}smoothEndTick(){const{interaction:t}=this,n=t._now()-this.t0,{smoothEndDuration:o}=Et(t);if(n<o){const i={x:tn(n,0,this.targetOffset.x,o),y:tn(n,0,this.targetOffset.y,o)},s={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=s.x,this.currentOffset.y+=s.y,t.offsetBy(s),t.move({skipModifiers:this.modifierCount}),this.onNextFrame(()=>this.smoothEndTick())}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}resume({pointer:t,event:n,eventTarget:o}){const{interaction:i}=this;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,n,o,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),xt(i.coords.prev,i.coords.cur),this.stop()}end(){this.interaction.move(),this.interaction.end(),this.stop()}stop(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Y.cancel(this.timeout)}}function Go({interaction:e,event:t}){return!e._interacting||e.simulation?null:e.inertia.start(t)?!1:null}function Ko(e){const{interaction:t,eventTarget:n}=e,o=t.inertia;if(!o.active)return;let i=n;for(;f.element(i);){if(i===t.element){o.resume(e);break}i=$(i)}}function Vo({interaction:e}){const t=e.inertia;t.active&&t.stop()}function Et({interactable:e,prepared:t}){return e&&e.options&&t.name&&e.options[t.name].inertia}const Qo={id:"inertia",before:["modifiers","actions"],install:Uo,listeners:{"interactions:new":({interaction:e})=>{e.inertia=new Wo(e)},"interactions:before-action-end":Go,"interactions:down":Ko,"interactions:stop":Vo,"interactions:before-action-resume":e=>{const{modification:t}=e.interaction;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":e=>e.interaction.modification.setAndApply(e),"interactions:action-resume":ct,"interactions:action-inertiastart":ct,"interactions:after-action-inertiastart":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-resume":e=>e.interaction.modification.restoreInteractionCoords(e)}};function Je(e,t,n,o){const i=1-e;return i*i*t+2*i*e*n+e*e*o}function Zo(e,t,n,o,i,s,r){return{x:Je(r,e,n,i),y:Je(r,t,o,s)}}function tn(e,t,n,o){return e/=o,-n*e*(e-2)+t}var Jo=Object.defineProperty,ti=(e,t,n)=>t in e?Jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ut=(e,t,n)=>(ti(e,typeof t!="symbol"?t+"":t,n),n);function en(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class nn{constructor(t){ut(this,"options"),ut(this,"types",{}),ut(this,"propagationStopped",!1),ut(this,"immediatePropagationStopped",!1),ut(this,"global"),this.options=h({},t||{})}fire(t){let n;const o=this.global;(n=this.types[t.type])&&en(t,n),!t.propagationStopped&&o&&(n=o[t.type])&&en(t,n)}on(t,n){const o=H(t,n);for(t in o)this.types[t]=ze(this.types[t]||[],o[t])}off(t,n){const o=H(t,n);for(t in o){const i=this.types[t];if(!(!i||!i.length))for(const s of o[t]){const r=i.indexOf(s);r!==-1&&i.splice(r,1)}}}getRect(t){return null}}function te(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}function ei(e){const t=(n,o)=>{let i=e.interactables.get(n,o);return i||(i=e.interactables.new(n,o),i.events.global=t.globalEvents),i};return t.getPointerAverage=Ee,t.getTouchBBox=Ft,t.getTouchDistance=Nt,t.getTouchAngle=Xt,t.getElementRect=At,t.getElementClientRect=$t,t.matchesSelector=X,t.closest=ge,t.globalEvents={},t.version="1.10.20",t.scope=e,t.use=function(n,o){return this.scope.usePlugin(n,o),this},t.isSet=function(n,o){return!!this.scope.interactables.get(n,o&&o.context)},t.on=at(function(o,i,s){if(f.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),f.array(o)){for(const r of o)this.on(r,i,s);return this}if(f.object(o)){for(const r in o)this.on(r,o[r],i);return this}return te(o,this.scope.actions)?this.globalEvents[o]?this.globalEvents[o].push(i):this.globalEvents[o]=[i]:this.scope.events.add(this.scope.document,o,i,{options:s}),this},"The interact.on() method is being deprecated"),t.off=at(function(o,i,s){if(f.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),f.array(o)){for(const r of o)this.off(r,i,s);return this}if(f.object(o)){for(const r in o)this.off(r,o[r],i);return this}if(te(o,this.scope.actions)){let r;o in this.globalEvents&&(r=this.globalEvents[o].indexOf(i))!==-1&&this.globalEvents[o].splice(r,1)}else this.scope.events.remove(this.scope.document,o,i,s);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return S.supportsTouch},t.supportsPointerEvent=function(){return S.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return f.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,o){this.scope.addDocument(n,o)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}var ni=Object.defineProperty,oi=(e,t,n)=>t in e?ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t,n)=>(oi(e,typeof t!="symbol"?t+"":t,n),n);class ii{constructor(t,n,o,i){B(this,"options"),B(this,"_actions"),B(this,"target"),B(this,"events",new nn),B(this,"_context"),B(this,"_win"),B(this,"_doc"),B(this,"_scopeEvents"),this._actions=n.actions,this.target=t,this._context=n.context||o,this._win=A(be(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=i,this.set(n)}get _defaults(){return{base:{},perAction:{},actions:{}}}setOnEvents(t,n){return f.func(n.onstart)&&this.on(`${t}start`,n.onstart),f.func(n.onmove)&&this.on(`${t}move`,n.onmove),f.func(n.onend)&&this.on(`${t}end`,n.onend),f.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,o){(f.array(n)||f.object(n))&&this.off(t,n),(f.array(o)||f.object(o))&&this.on(t,o)}setPerAction(t,n){const o=this._defaults;for(const i in n){const s=i,r=this.options[t],a=n[s];s==="listeners"&&this.updatePerActionListeners(t,r.listeners,a),f.array(a)?r[s]=Yt(a):f.plainObject(a)?(r[s]=h(r[s]||{},Z(a)),f.object(o.perAction[s])&&"enabled"in o.perAction[s]&&(r[s].enabled=a.enabled!==!1)):f.bool(a)&&f.object(o.perAction[s])?r[s].enabled=a:r[s]=a}}getRect(t){return t=t||(f.element(this.target)?this.target:null),f.string(this.target)&&(t=t||this._context.querySelector(this.target)),At(t)}rectChecker(t){return f.func(t)?(this.getRect=n=>{const o=h({},t.apply(this,n));return"width"in o||(o.width=o.right-o.left,o.height=o.bottom-o.top),o},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,n){if(be(n)||f.object(n)){this.options[t]=n;for(const o in this._actions.map)this.options[o][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}context(){return this._context}inContext(t){return this._context===t.ownerDocument||q(this._context,t)}testIgnoreAllow(t,n,o){return!this.testIgnore(t.ignoreFrom,n,o)&&this.testAllow(t.allowFrom,n,o)}testAllow(t,n,o){return t?f.element(o)?f.string(t)?Ot(o,t,n):f.element(t)?q(t,o):!1:!1:!0}testIgnore(t,n,o){return!t||!f.element(o)?!1:f.string(t)?Ot(o,t,n):f.element(t)?q(t,o):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,o,i){f.object(n)&&!f.array(n)&&(i=o,o=null);const s=t==="on"?"add":"remove",r=H(n,o);for(let a in r){a==="wheel"&&(a=S.wheelEvent);for(const c of r[a])te(a,this._actions)?this.events[t](a,c):f.string(this.target)?this._scopeEvents[`${s}Delegate`](this.target,this._context,a,c,i):this._scopeEvents[s](this.target,a,c,i)}return this}on(t,n,o){return this._onOff("on",t,n,o)}off(t,n,o){return this._onOff("off",t,n,o)}set(t){const n=this._defaults;f.object(t)||(t={}),this.options=Z(n.base);for(const o in this._actions.methodDict){const i=o,s=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,h(h({},n.perAction),n.actions[i])),this[s](t[i])}for(const o in t)f.func(this[o])&&this[o](t[o]);return this}unset(){if(f.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let o=n.length-1;o>=0;o--){const{selector:i,context:s,listeners:r}=n[o];i===this.target&&s===this._context&&n.splice(o,1);for(let a=r.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,t,r[a][0],r[a][1])}}else this._scopeEvents.remove(this.target,"all")}}var si=Object.defineProperty,ri=(e,t,n)=>t in e?si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t,n)=>(ri(e,typeof t!="symbol"?t+"":t,n),n);class ai{constructor(t){ee(this,"list",[]),ee(this,"selectorMap",{}),ee(this,"scope"),this.scope=t,t.addListeners({"interactable:unset":({interactable:n})=>{const{target:o,_context:i}=n,s=f.string(o)?this.selectorMap[o]:o[this.scope.id],r=rt(s,a=>a.context===i);s[r]&&(s[r].context=null,s[r].interactable=null),s.splice(r,1)}})}new(t,n){n=h(n||{},{actions:this.scope.actions});const o=new this.scope.Interactable(t,n,this.scope.document,this.scope.events),i={context:o._context,interactable:o};return this.scope.addDocument(o._doc),this.list.push(o),f.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(o.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:n,interactable:o,win:this.scope._win}),o}get(t,n){const o=n&&n.context||this.scope.document,i=f.string(t),s=i?this.selectorMap[t]:t[this.scope.id];if(!s)return null;const r=_t(s,a=>a.context===o&&(i||a.interactable.inContext(t)));return r&&r.interactable}forEachMatch(t,n){for(const o of this.list){let i;if((f.string(o.target)?f.element(t)&&X(t,o.target):t===o.target)&&o.inContext(t)&&(i=n(o)),i!==void 0)return i}}}var ci=Object.defineProperty,li=(e,t,n)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t,n)=>(li(e,typeof t!="symbol"?t+"":t,n),n);function ui(e){var t;const n=[],o={},i=[],s={add:r,remove:a,addDelegate:c,removeDelegate:l,delegateListener:u,delegateUseCapture:p,delegatedEvents:o,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s;function r(d,m,v,P){const _=ft(P);let T=_t(n,b=>b.eventTarget===d);T||(T={eventTarget:d,events:{}},n.push(T)),T.events[m]||(T.events[m]=[]),d.addEventListener&&!An(T.events[m],v)&&(d.addEventListener(m,v,s.supportsOptions?_:_.capture),T.events[m].push(v))}function a(d,m,v,P){const _=ft(P),T=rt(n,D=>D.eventTarget===d),b=n[T];if(!b||!b.events)return;if(m==="all"){for(m in b.events)b.events.hasOwnProperty(m)&&a(d,m,"all");return}let O=!1;const I=b.events[m];if(I){if(v==="all"){for(let D=I.length-1;D>=0;D--)a(d,m,I[D],_);return}else for(let D=0;D<I.length;D++)if(I[D]===v){d.removeEventListener(m,v,s.supportsOptions?_:_.capture),I.splice(D,1),I.length===0&&(delete b.events[m],O=!0);break}}O&&!Object.keys(b.events).length&&n.splice(T,1)}function c(d,m,v,P,_){const T=ft(_);if(!o[v]){o[v]=[];for(const I of i)r(I,v,u),r(I,v,p,!0)}const b=o[v];let O=_t(b,I=>I.selector===d&&I.context===m);O||(O={selector:d,context:m,listeners:[]},b.push(O)),O.listeners.push([P,T])}function l(d,m,v,P,_){const T=ft(_),b=o[v];let O=!1,I;if(b)for(I=b.length-1;I>=0;I--){const D=b[I];if(D.selector===d&&D.context===m){const{listeners:G}=D;for(let J=G.length-1;J>=0;J--){const[ce,{capture:le,passive:ue}]=G[J];if(ce===P&&le===T.capture&&ue===T.passive){G.splice(J,1),G.length||(b.splice(I,1),a(m,v,u),a(m,v,p,!0)),O=!0;break}}if(O)break}}}function u(d,m){const v=ft(m),P=new fi(d),_=o[d.type],[T]=Me(d);let b=T;for(;f.element(b);){for(let O=0;O<_.length;O++){const I=_[O],{selector:D,context:G}=I;if(X(b,D)&&q(G,T)&&q(G,b)){const{listeners:J}=I;P.currentTarget=b;for(const[ce,{capture:le,passive:ue}]of J)le===v.capture&&ue===v.passive&&ce(P)}}b=$(b)}}function p(d){return u.call(this,d,!0)}return s}class fi{constructor(t){ne(this,"currentTarget"),ne(this,"originalEvent"),ne(this,"type"),this.originalEvent=t,yt(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function ft(e){if(!f.object(e))return{capture:!!e,passive:!1};const t=h({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var pi={id:"events",install:ui};const oe={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of oe.methodOrder){const n=oe[t](e);if(n)return n}return null},simulationResume({pointerType:e,eventType:t,eventTarget:n,scope:o}){if(!/down|start/i.test(t))return null;for(const i of o.interactions.list){let s=n;if(i.simulation&&i.simulation.allowResume&&i.pointerType===e)for(;s;){if(s===i.element)return i;s=$(s)}}return null},mouseOrPen({pointerId:e,pointerType:t,eventType:n,scope:o}){if(t!=="mouse"&&t!=="pen")return null;let i;for(const s of o.interactions.list)if(s.pointerType===t){if(s.simulation&&!on(s,e))continue;if(s.interacting())return s;i||(i=s)}if(i)return i;for(const s of o.interactions.list)if(s.pointerType===t&&!(/down/i.test(n)&&s.simulation))return s;return null},hasPointer({pointerId:e,scope:t}){for(const n of t.interactions.list)if(on(n,e))return n;return null},idle({pointerType:e,scope:t}){for(const n of t.interactions.list){if(n.pointers.length===1){const o=n.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&e===n.pointerType)return n}return null}};function on(e,t){return e.pointers.some(({id:n})=>n===t)}const sn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function di(e){const t={};for(const s of sn)t[s]=rn(s,e);const n=S.pEventTypes;let o;y.PointerEvent?o=[{type:n.down,listener:i},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:o=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:i},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],o.push({type:"blur",listener(s){for(const r of e.interactions.list)r.documentBlur(s)}}),e.prevTouchTime=0,e.Interaction=class extends Xo{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(s){e.interactions.pointerMoveTolerance=s}_now(){return e.now()}},e.interactions={list:[],new(s){s.scopeFire=(a,c)=>e.fire(a,c);const r=new e.Interaction(s);return e.interactions.list.push(r),r},listeners:t,docEvents:o,pointerMoveTolerance:1};function i(){for(const s of e.interactions.list)if(!(!s.pointerIsDown||s.pointerType!=="touch"||s._interacting))for(const r of s.pointers)e.documents.some(({doc:a})=>q(a,r.downTarget))||s.removePointer(r.pointer,r.event)}e.usePlugin(qe)}function rn(e,t){return function(n){const o=t.interactions.list,i=Te(n),[s,r]=Me(n),a=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const c of n.changedTouches){const l=c,u=it(l),p={pointer:l,pointerId:u,pointerType:i,eventType:n.type,eventTarget:s,curEventTarget:r,scope:t},d=an(p);a.push([p.pointer,p.eventTarget,p.curEventTarget,d])}}else{let c=!1;if(!S.supportsPointerEvent&&/mouse/.test(n.type)){for(let l=0;l<o.length&&!c;l++)c=o[l].pointerType!=="mouse"&&o[l].pointerIsDown;c=c||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!c){const l={pointer:n,pointerId:it(n),pointerType:i,eventType:n.type,curEventTarget:r,eventTarget:s,scope:t},u=an(l);a.push([l.pointer,l.eventTarget,l.curEventTarget,u])}}for(const[c,l,u,p]of a)p[e](c,n,l,u)}}function an(e){const{pointerType:t,scope:n}=e,i={interaction:oe.search(e),searchDetails:e};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:t})}function ie({doc:e,scope:t,options:n},o){const{interactions:{docEvents:i},events:s}=t,r=s[o];t.browser.isIOS&&!n.events&&(n.events={passive:!1});for(const c in s.delegatedEvents)r(e,c,s.delegateListener),r(e,c,s.delegateUseCapture,!0);const a=n&&n.events;for(const{type:c,listener:l}of i)r(e,c,l,a)}const hi={id:"core/interactions",install:di,listeners:{"scope:add-document":e=>ie(e,"add"),"scope:remove-document":e=>ie(e,"remove"),"interactable:unset":({interactable:e},t)=>{for(let n=t.interactions.list.length-1;n>=0;n--){const o=t.interactions.list[n];o.interactable===e&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:ie,doOnInteractions:rn,methodNames:sn};var mi=Object.defineProperty,gi=(e,t,n)=>t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t,n)=>(gi(e,typeof t!="symbol"?t+"":t,n),n);class vi{constructor(){M(this,"id",`__interact_scope_${Math.floor(Math.random()*100)}`),M(this,"isInitialized",!1),M(this,"listenerMaps",[]),M(this,"browser",S),M(this,"defaults",Z(Ke)),M(this,"Eventable",nn),M(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),M(this,"interactStatic",ei(this)),M(this,"InteractEvent",Qt),M(this,"Interactable"),M(this,"interactables",new ai(this)),M(this,"_win"),M(this,"document"),M(this,"window"),M(this,"documents",[]),M(this,"_plugins",{list:[],map:{}}),M(this,"onWindowUnload",n=>this.removeDocument(n.target));const t=this;this.Interactable=class extends ii{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=t.interactables.list.indexOf(this);n<0||(t.interactables.list.splice(n,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:o}}of this.listenerMaps)if(o&&o(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:yi(this,t)}pluginIsInstalled(t){const{id:n}=t;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let o=0;const i=this.listenerMaps.length,s=t.before.reduce((r,a)=>(r[a]=!0,r[cn(a)]=!0,r),{});for(;o<i;o++){const r=this.listenerMaps[o].id;if(r&&(s[r]||s[cn(r)]))break}this.listenerMaps.splice(o,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const o=A(t);n=n?h({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(o,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:o,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),o=A(t),i=this.documents[n].options;this.events.remove(o,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:o,scope:this,options:i})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function yi(e,t){return e.isInitialized=!0,f.window(t)&&de(t),y.init(t),S.init(t),Y.init(t),e.window=t,e.document=t.document,e.usePlugin(hi),e.usePlugin(pi),e}function cn(e){return e&&e.replace(/\/.*$/,"")}const ln=new vi,xi=ln.interactStatic;var z=mn("default",xi);const bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;ln.init(bi);var wi=()=>{},_i=()=>{},Si=e=>{const t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(([o,i])=>o in e||i in e),n=(o,i)=>{const{range:s,limits:r={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:a={x:0,y:0}}=e,c={range:s,grid:e,x:null,y:null};for(const[l,u]of t){const p=Math.round((o-a.x)/e[l]),d=Math.round((i-a.y)/e[u]);c[l]=Math.max(r.left,Math.min(r.right,p*e[l]+a.x)),c[u]=Math.max(r.top,Math.min(r.bottom,d*e[u]+a.y))}return c};return n.grid=e,n.coordFields=t,n},Pi=Object.freeze({__proto__:null,edgeTarget:wi,elements:_i,grid:Si});const Ii={id:"snappers",install(e){const{interactStatic:t}=e;t.snappers=h(t.snappers||{},Pi),t.createSnapGrid=t.snappers.grid}},Ei={start(e){const{state:t,rect:n,edges:o,pageCoords:i}=e;let{ratio:s,enabled:r}=t.options;const{equalDelta:a,modifiers:c}=t.options;s==="preserve"&&(s=n.width/n.height),t.startCoords=h({},i),t.startRect=h({},n),t.ratio=s,t.equalDelta=a;const l=t.linkedEdges={top:o.top||o.left&&!o.bottom,left:o.left||o.top&&!o.right,bottom:o.bottom||o.right&&!o.top,right:o.right||o.bottom&&!o.left};if(t.xIsPrimaryAxis=!!(o.left||o.right),t.equalDelta){const p=(l.left?1:-1)*(l.top?1:-1);t.edgeSign={x:p,y:p}}else t.edgeSign={x:l.left?-1:1,y:l.top?-1:1};if(r!==!1&&h(o,l),!(c!=null&&c.length))return;const u=new Vt(e.interaction);u.copyFrom(e.interaction.modification),u.prepareStates(c),t.subModification=u,u.startAll({...e})},set(e){const{state:t,rect:n,coords:o}=e,{linkedEdges:i}=t,s=h({},o),r=t.equalDelta?Ti:Mi;if(h(e.edges,i),r(t,t.xIsPrimaryAxis,o,n),!t.subModification)return null;const a=h({},n);vt(i,a,{x:o.x-s.x,y:o.y-s.y});const c=t.subModification.setAll({...e,rect:a,edges:i,pageCoords:o,prevCoords:o,prevRect:a}),{delta:l}=c;if(c.changed){const u=Math.abs(l.x)>Math.abs(l.y);r(t,u,c.coords,c.rect),h(o,c.coords)}return c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ti({startCoords:e,edgeSign:t},n,o){n?o.y=e.y+(o.x-e.x)*t.y:o.x=e.x+(o.y-e.y)*t.x}function Mi({startRect:e,startCoords:t,ratio:n,edgeSign:o},i,s,r){if(i){const a=r.width/n;s.y=t.y+(a-e.height)*o.y}else{const a=r.height*n;s.x=t.x+(a-e.width)*o.x}}var Di=L(Ei,"aspectRatio");const pt=()=>{};pt._defaults={};function zi({rect:e,startOffset:t,state:n,interaction:o,pageCoords:i}){const{options:s}=n,{elementRect:r}=s,a=h({left:0,top:0,right:0,bottom:0},s.offset||{});if(e&&r){const c=W(s.restriction,o,i);if(c){const l=c.right-c.left-e.width,u=c.bottom-c.top-e.height;l<0&&(a.left+=l,a.right+=l),u<0&&(a.top+=u,a.bottom+=u)}a.left+=t.left-e.width*r.left,a.top+=t.top-e.height*r.top,a.right+=t.right-e.width*(1-r.right),a.bottom+=t.bottom-e.height*(1-r.bottom)}n.offset=a}function Oi({coords:e,interaction:t,state:n}){const{options:o,offset:i}=n,s=W(o.restriction,t,e);if(!s)return;const r=Pn(s);e.x=Math.max(Math.min(r.right-i.right,e.x),r.left+i.left),e.y=Math.max(Math.min(r.bottom-i.bottom,e.y),r.top+i.top)}function W(e,t,n){return f.func(e)?et(e,t.interactable,t.element,[n.x,n.y,t]):et(e,t.interactable,t.element)}const Tt={start:zi,set:Oi,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var $i=L(Tt,"restrict");const un={top:1/0,left:1/0,bottom:-1/0,right:-1/0},fn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Ai({interaction:e,startOffset:t,state:n}){const{options:o}=n;let i;if(o){const s=W(o.offset,e,e.coords.start.page);i=gt(s)}i=i||{x:0,y:0},n.offset={top:i.y+t.top,left:i.x+t.left,bottom:i.y-t.bottom,right:i.x-t.right}}function Ci({coords:e,edges:t,interaction:n,state:o}){const{offset:i,options:s}=o;if(!t)return;const r=h({},e),a=W(s.inner,n,r)||{},c=W(s.outer,n,r)||{};pn(a,un),pn(c,fn),t.top?e.y=Math.min(Math.max(c.top+i.top,r.y),a.top+i.top):t.bottom&&(e.y=Math.max(Math.min(c.bottom+i.bottom,r.y),a.bottom+i.bottom)),t.left?e.x=Math.min(Math.max(c.left+i.left,r.x),a.left+i.left):t.right&&(e.x=Math.max(Math.min(c.right+i.right,r.x),a.right+i.right))}function pn(e,t){for(const n of["top","left","bottom","right"])n in e||(e[n]=t[n]);return e}const dt={noInner:un,noOuter:fn,start:Ai,set:Ci,defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var Ri=L(dt,"restrictEdges");const Fi=h({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Tt.defaults),Ni={start:Tt.start,set:Tt.set,defaults:Fi};var Xi=L(Ni,"restrictRect");const Yi={width:-1/0,height:-1/0},ki={width:1/0,height:1/0};function Li(e){return dt.start(e)}function Bi(e){const{interaction:t,state:n,rect:o,edges:i}=e,{options:s}=n;if(!i)return;const r=Ct(W(s.min,t,e.coords))||Yi,a=Ct(W(s.max,t,e.coords))||ki;n.options={endOnly:s.endOnly,inner:h({},dt.noInner),outer:h({},dt.noOuter)},i.top?(n.options.inner.top=o.bottom-r.height,n.options.outer.top=o.bottom-a.height):i.bottom&&(n.options.inner.bottom=o.top+r.height,n.options.outer.bottom=o.top+a.height),i.left?(n.options.inner.left=o.right-r.width,n.options.outer.left=o.right-a.width):i.right&&(n.options.inner.right=o.left+r.width,n.options.outer.right=o.left+a.width),dt.set(e),n.options=s}var ji=L({start:Li,set:Bi,defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");function qi(e){const{interaction:t,interactable:n,element:o,rect:i,state:s,startOffset:r}=e,{options:a}=s,c=a.offsetWithOrigin?Ui(e):{x:0,y:0};let l;if(a.offset==="startCoords")l={x:t.coords.start.page.x,y:t.coords.start.page.y};else{const p=et(a.offset,n,o,[t]);l=gt(p)||{x:0,y:0},l.x+=c.x,l.y+=c.y}const{relativePoints:u}=a;s.offsets=i&&u&&u.length?u.map((p,d)=>({index:d,relativePoint:p,x:r.left-i.width*p.x+l.x,y:r.top-i.height*p.y+l.y})):[{index:0,relativePoint:null,x:l.x,y:l.y}]}function Hi(e){const{interaction:t,coords:n,state:o}=e,{options:i,offsets:s}=o,r=nt(t.interactable,t.element,t.prepared.name),a=h({},n),c=[];i.offsetWithOrigin||(a.x-=r.x,a.y-=r.y);for(const u of s){const p=a.x-u.x,d=a.y-u.y;for(let m=0,v=i.targets.length;m<v;m++){const P=i.targets[m];let _;f.func(P)?_=P(p,d,t._proxy,u,m):_=P,_&&c.push({x:(f.number(_.x)?_.x:p)+u.x,y:(f.number(_.y)?_.y:d)+u.y,range:f.number(_.range)?_.range:i.range,source:P,index:m,offset:u})}}const l={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const u of c){const p=u.range,d=u.x-a.x,m=u.y-a.y,v=ot(d,m);let P=v<=p;p===1/0&&l.inRange&&l.range!==1/0&&(P=!1),(!l.target||(P?l.inRange&&p!==1/0?v/p<l.distance/l.range:p===1/0&&l.range!==1/0||v<l.distance:!l.inRange&&v<l.distance))&&(l.target=u,l.distance=v,l.range=p,l.inRange=P,l.delta.x=d,l.delta.y=m)}return l.inRange&&(n.x=l.target.x,n.y=l.target.y),o.closest=l,l}function Ui(e){const{element:t}=e.interaction;return gt(et(e.state.options.origin,null,null,[t]))||nt(e.interactable,t,e.interaction.prepared.name)}const se={start:qi,set:Hi,defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var Wi=L(se,"snap");function Gi(e){const{state:t,edges:n}=e,{options:o}=t;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:o.offset||"self",origin:{x:0,y:0},range:o.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],se.start(e),t.offsets=e.state.offsets,e.state=t}function Ki(e){const{interaction:t,state:n,coords:o}=e,{options:i,offsets:s}=n,r={x:o.x-s[0].x,y:o.y-s[0].y};n.options=h({},i),n.options.targets=[];for(const c of i.targets||[]){let l;if(f.func(c)?l=c(r.x,r.y,t):l=c,!!l){for(const[u,p]of n.targetFields)if(u in l||p in l){l.x=l[u],l.y=l[p];break}n.options.targets.push(l)}}const a=se.set(e);return n.options=i,a}const Mt={start:Gi,set:Ki,defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var Vi=L(Mt,"snapSize");function Qi(e){const{edges:t}=e;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Mt.start(e)):null}const Zi={start:Qi,set:Mt.set,defaults:h(Z(Mt.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})};var Ji=L(Zi,"snapEdges"),re={aspectRatio:Di,restrictEdges:Ri,restrict:$i,restrictRect:Xi,restrictSize:ji,snapEdges:Ji,snap:Wi,snapSize:Vi,spring:pt,avoid:pt,transform:pt,rubberband:pt};const ts={id:"modifiers",install(e){const{interactStatic:t}=e;e.usePlugin(Ge),e.usePlugin(Ii),t.modifiers=re;for(const n in re){const{_defaults:o,_methods:i}=re[n];o._methods=i,e.defaults.perAction[n]=o}}};class dn extends wt{constructor(t,n,o,i,s,r){if(super(s),yt(this,o),o!==n&&yt(this,n),this.timeStamp=r,this.originalEvent=o,this.type=t,this.pointerId=it(n),this.pointerType=Te(n),this.target=i,this.currentTarget=null,t==="tap"){const a=s.getPointerIndex(n);this.dt=this.timeStamp-s.pointers[a].downTime;const c=this.timeStamp-s.tapTime;this.double=!!s.prevTap&&s.prevTap.type!=="doubletap"&&s.prevTap.target===this.target&&c<500}else t==="doubletap"&&(this.dt=n.timeStamp-s.tapTime,this.double=!0)}_subtractOrigin({x:t,y:n}){return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}_addOrigin({x:t,y:n}){return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}preventDefault(){this.originalEvent.preventDefault()}}const ht={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:rs,listeners:{"interactions:new":es,"interactions:update-pointer":ns,"interactions:move":os,"interactions:down":(e,t)=>{is(e,t),j(e,t)},"interactions:up":(e,t)=>{ae(e),j(e,t),ss(e,t)},"interactions:cancel":(e,t)=>{ae(e),j(e,t)}},PointerEvent:dn,fire:j,collectEventTargets:hn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function j(e,t){const{interaction:n,pointer:o,event:i,eventTarget:s,type:r,targets:a=hn(e,t)}=e,c=new dn(r,o,i,s,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});const l={interaction:n,pointer:o,event:i,eventTarget:s,targets:a,type:r,pointerEvent:c};for(let u=0;u<a.length;u++){const p=a[u];for(const m in p.props||{})c[m]=p.props[m];const d=nt(p.eventable,p.node);if(c._subtractOrigin(d),c.eventable=p.eventable,c.currentTarget=p.node,p.eventable.fire(c),c._addOrigin(d),c.immediatePropagationStopped||c.propagationStopped&&u+1<a.length&&a[u+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",l),r==="tap"){const u=c.double?j({interaction:n,pointer:o,event:i,eventTarget:s,type:"doubletap"},t):c;n.prevTap=u,n.tapTime=u.timeStamp}return c}function hn({interaction:e,pointer:t,event:n,eventTarget:o,type:i},s){const r=e.getPointerIndex(t),a=e.pointers[r];if(i==="tap"&&(e.pointerWasMoved||!(a&&a.downTarget===o)))return[];const c=xe(o),l={interaction:e,pointer:t,event:n,eventTarget:o,type:i,path:c,targets:[],node:null};for(const u of c)l.node=u,s.fire("pointerEvents:collect-targets",l);return i==="hold"&&(l.targets=l.targets.filter(u=>{var p,d;return u.eventable.options.holdDuration===((p=e.pointers[r])==null||(d=p.hold)==null?void 0:d.duration)})),l.targets}function es({interaction:e}){e.prevTap=null,e.tapTime=0}function ns({down:e,pointerInfo:t}){!e&&t.hold||(t.hold={duration:1/0,timeout:null})}function ae({interaction:e,pointerIndex:t}){const n=e.pointers[t].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}function os(e,t){const{interaction:n,pointer:o,event:i,eventTarget:s,duplicate:r}=e;!r&&(!n.pointerIsDown||n.pointerWasMoved)&&(n.pointerIsDown&&ae(e),j({interaction:n,pointer:o,event:i,eventTarget:s,type:"move"},t))}function is({interaction:e,pointer:t,event:n,eventTarget:o,pointerIndex:i},s){const r=e.pointers[i].hold,a=xe(o),c={interaction:e,pointer:t,event:n,eventTarget:o,type:"hold",targets:[],path:a,node:null};for(const u of a)c.node=u,s.fire("pointerEvents:collect-targets",c);if(!c.targets.length)return;let l=1/0;for(const u of c.targets){const p=u.eventable.options.holdDuration;p<l&&(l=p)}r.duration=l,r.timeout=setTimeout(()=>{j({interaction:e,eventTarget:o,pointer:t,event:n,type:"hold"},s)},l)}function ss({interaction:e,pointer:t,event:n,eventTarget:o},i){e.pointerWasMoved||j({interaction:e,eventTarget:o,pointer:t,event:n,type:"tap"},i)}function rs(e){e.pointerEvents=ht,e.defaults.actions.pointerEvents=ht.defaults,h(e.actions.phaselessTypes,ht.types)}var as=Object.freeze({__proto__:null,default:ht});function cs(e){e.usePlugin(ht);const{pointerEvents:t}=e;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0}function ls({pointerEvent:e}){e.type==="hold"&&(e.count=(e.count||0)+1)}function us({interaction:e,pointerEvent:t,eventTarget:n,targets:o},i){if(t.type!=="hold"||!o.length)return;const s=o[0].eventable.options.holdRepeatInterval;s<=0||(e.holdIntervalHandle=setTimeout(()=>{i.pointerEvents.fire({interaction:e,eventTarget:n,type:"hold",pointer:t,event:t},i)},s))}function fs({interaction:e}){e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}const ps={id:"pointer-events/holdRepeat",install:cs,listeners:["move","up","cancel","endall"].reduce((e,t)=>(e[`pointerEvents:${t}`]=fs,e),{"pointerEvents:new":ls,"pointerEvents:fired":us})};function ds(e){const{Interactable:t}=e;t.prototype.pointerEvents=hs;const n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(o,i){const s=n.call(this,o,i);return s===this&&(this.events.options[o]=i),s}}function hs(e){return h(this.events.options,e),this}const ms={id:"pointer-events/interactableTargets",install:ds,listeners:{"pointerEvents:collect-targets":({targets:e,node:t,type:n,eventTarget:o},i)=>{i.interactables.forEachMatch(t,s=>{const r=s.events,a=r.options;r.types[n]&&r.types[n].length&&s.testIgnoreAllow(a,t,o)&&e.push({node:t,eventable:r,props:{interactable:s}})})},"interactable:new":({interactable:e})=>{e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":({interactable:e,options:t},n)=>{h(e.events.options,n.pointerEvents.defaults),h(e.events.options,t.pointerEvents||{})}}},gs={id:"pointer-events",install(e){e.usePlugin(as),e.usePlugin(ps),e.usePlugin(ms)}};function vs(e){const{Interactable:t}=e;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return ys(this,n,e)}}function ys(e,t,n){const o=f.string(e.target)?Yt(e._context.querySelectorAll(e.target)):[e.target],i=n.window.Promise,s=i?[]:null;for(const r of o){const a=e.getRect(r);if(!a)break;const c=_t(n.interactions.list,u=>u.interacting()&&u.interactable===e&&u.element===r&&u.prepared.name===t.name);let l;if(c)c.move(),s&&(l=c._reflowPromise||new i(u=>{c._reflowResolve=u}));else{const u=Ct(a),p={page:{x:u.x,y:u.y},client:{x:u.x,y:u.y},timeStamp:n.now()},d=zn(p);l=xs(n,e,r,t,d)}s&&s.push(l)}return s&&i.all(s).then(()=>e)}function xs(e,t,n,o,i){const s=e.interactions.new({pointerType:"reflow"}),r={interaction:s,event:i,pointer:i,eventTarget:n,phase:"reflow"};s.interactable=t,s.element=n,s.prevEvent=i,s.updatePointer(i,i,n,!0),Se(s.coords.delta),Ht(s.prepared,o),s._doPhase(r);const{Promise:a}=e.window,c=a?new a(l=>{s._reflowResolve=l}):void 0;return s._reflowPromise=c,s.start(o,t,n),s._interacting?(s.move(r),s.end(i)):(s.stop(),s._reflowResolve()),s.removePointer(i,i),c}const bs={id:"reflow",install:vs,listeners:{"interactions:stop":({interaction:e},t)=>{e.pointerType==="reflow"&&(e._reflowResolve&&e._reflowResolve(),Cn(t.interactions.list,e))}}};if(z.use(qe),z.use(Ze),z.use(gs),z.use(Qo),z.use(ts),z.use(vo),z.use(Vn),z.use(Jn),z.use(bs),z.use(Io),z.default=z,typeof module=="object"&&module)try{module.exports=z}catch{}z.default=z}}});
//# sourceMappingURL=interact.system.min.js.map
