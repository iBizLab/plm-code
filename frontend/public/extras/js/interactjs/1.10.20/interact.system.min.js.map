{"version":3,"file":"index.system.min.js","sources":["../../@interactjs/utils/isWindow.js","../../@interactjs/utils/window.js","../../@interactjs/utils/is.js","../../@interactjs/actions/drag/plugin.js","../../@interactjs/utils/domObjects.js","../../@interactjs/utils/browser.js","../../@interactjs/utils/domUtils.js","../../@interactjs/utils/extend.js","../../@interactjs/utils/rect.js","../../@interactjs/utils/getOriginXY.js","../../@interactjs/utils/normalizeListeners.js","../../@interactjs/utils/hypot.js","../../@interactjs/utils/pointerExtend.js","../../@interactjs/utils/pointerUtils.js","../../@interactjs/core/BaseEvent.js","../../@interactjs/utils/arr.js","../../@interactjs/actions/drop/DropEvent.js","../../@interactjs/actions/drop/plugin.js","../../@interactjs/actions/gesture/plugin.js","../../@interactjs/actions/resize/plugin.js","../../@interactjs/actions/plugin.js","../../@interactjs/utils/raf.js","../../@interactjs/auto-scroll/plugin.js","../../@interactjs/utils/misc.js","../../@interactjs/auto-start/InteractableMethods.js","../../@interactjs/auto-start/base.js","../../@interactjs/auto-start/dragAxis.js","../../@interactjs/auto-start/hold.js","../../@interactjs/auto-start/plugin.js","../../@interactjs/core/interactablePreventDefault.js","../../@interactjs/dev-tools/visualizer/plugin.js","../../@interactjs/dev-tools/plugin.js","../../@interactjs/utils/clone.js","../../@interactjs/modifiers/Modification.js","../../@interactjs/modifiers/base.js","../../@interactjs/core/options.js","../../@interactjs/core/InteractEvent.js","../../@interactjs/core/PointerInfo.js","../../@interactjs/core/Interaction.js","../../@interactjs/offset/plugin.js","../../@interactjs/inertia/plugin.js","../../@interactjs/core/Eventable.js","../../@interactjs/core/isNonNativeEvent.js","../../@interactjs/core/InteractStatic.js","../../@interactjs/core/Interactable.js","../../@interactjs/core/InteractableSet.js","../../@interactjs/core/events.js","../../@interactjs/core/interactionFinder.js","../../@interactjs/core/interactions.js","../../@interactjs/core/scope.js","../../@interactjs/interact/index.js","../../@interactjs/snappers/edgeTarget.js","../../@interactjs/snappers/elements.js","../../@interactjs/snappers/grid.js","../../@interactjs/snappers/plugin.js","../../@interactjs/modifiers/aspectRatio.js","../../@interactjs/modifiers/noop.js","../../@interactjs/modifiers/restrict/pointer.js","../../@interactjs/modifiers/restrict/edges.js","../../@interactjs/modifiers/restrict/rect.js","../../@interactjs/modifiers/restrict/size.js","../../@interactjs/modifiers/snap/pointer.js","../../@interactjs/modifiers/snap/size.js","../../@interactjs/modifiers/snap/edges.js","../../@interactjs/modifiers/all.js","../../@interactjs/modifiers/plugin.js","../../@interactjs/pointer-events/PointerEvent.js","../../@interactjs/pointer-events/base.js","../../@interactjs/pointer-events/holdRepeat.js","../../@interactjs/pointer-events/interactableTargets.js","../../@interactjs/pointer-events/plugin.js","../../@interactjs/reflow/plugin.js","../index.ts","../../@interactjs/interactjs/index.js"],"sourcesContent":["export default (thing => !!(thing && thing.Window) && thing instanceof thing.Window);\n//# sourceMappingURL=isWindow.js.map","import isWindow from './isWindow';\nexport let realWindow = undefined;\nlet win = undefined;\nexport { win as window };\nexport function init(window) {\n  // get wrapped window if using Shadow DOM polyfill\n  realWindow = window; // create a TextNode\n\n  const el = window.document.createTextNode(''); // check if it's wrapped by a polyfill\n\n  if (el.ownerDocument !== window.document && typeof window.wrap === 'function' && window.wrap(el) === el) {\n    // use wrapped window\n    window = window.wrap(window);\n  }\n\n  win = window;\n}\n\nif (typeof window !== 'undefined' && !!window) {\n  init(window);\n}\n\nexport function getWindow(node) {\n  if (isWindow(node)) {\n    return node;\n  }\n\n  const rootNode = node.ownerDocument || node;\n  return rootNode.defaultView || win.window;\n}\n//# sourceMappingURL=window.js.map","import isWindow from './isWindow';\nimport * as win from './window';\n\nconst window = thing => thing === win.window || isWindow(thing);\n\nconst docFrag = thing => object(thing) && thing.nodeType === 11;\n\nconst object = thing => !!thing && typeof thing === 'object';\n\nconst func = thing => typeof thing === 'function';\n\nconst number = thing => typeof thing === 'number';\n\nconst bool = thing => typeof thing === 'boolean';\n\nconst string = thing => typeof thing === 'string';\n\nconst element = thing => {\n  if (!thing || typeof thing !== 'object') {\n    return false;\n  }\n\n  const _window = win.getWindow(thing) || win.window;\n\n  return /object|function/.test(typeof Element) ? thing instanceof Element || thing instanceof _window.Element : thing.nodeType === 1 && typeof thing.nodeName === 'string';\n};\n\nconst plainObject = thing => object(thing) && !!thing.constructor && /function Object\\b/.test(thing.constructor.toString());\n\nconst array = thing => object(thing) && typeof thing.length !== 'undefined' && func(thing.splice);\n\nexport default {\n  window,\n  docFrag,\n  object,\n  func,\n  number,\n  bool,\n  string,\n  element,\n  plainObject,\n  array\n};\n//# sourceMappingURL=is.js.map","import is from \"../../utils/is.js\";\n\nfunction install(scope) {\n  const {\n    actions,\n    Interactable,\n    defaults\n  } = scope;\n  Interactable.prototype.draggable = drag.draggable;\n  actions.map.drag = drag;\n  actions.methodDict.drag = 'draggable';\n  defaults.actions.drag = drag.defaults;\n}\n\nfunction beforeMove({\n  interaction\n}) {\n  if (interaction.prepared.name !== 'drag') return;\n  const axis = interaction.prepared.axis;\n\n  if (axis === 'x') {\n    interaction.coords.cur.page.y = interaction.coords.start.page.y;\n    interaction.coords.cur.client.y = interaction.coords.start.client.y;\n    interaction.coords.velocity.client.y = 0;\n    interaction.coords.velocity.page.y = 0;\n  } else if (axis === 'y') {\n    interaction.coords.cur.page.x = interaction.coords.start.page.x;\n    interaction.coords.cur.client.x = interaction.coords.start.client.x;\n    interaction.coords.velocity.client.x = 0;\n    interaction.coords.velocity.page.x = 0;\n  }\n}\n\nfunction move({\n  iEvent,\n  interaction\n}) {\n  if (interaction.prepared.name !== 'drag') return;\n  const axis = interaction.prepared.axis;\n\n  if (axis === 'x' || axis === 'y') {\n    const opposite = axis === 'x' ? 'y' : 'x';\n    iEvent.page[opposite] = interaction.coords.start.page[opposite];\n    iEvent.client[opposite] = interaction.coords.start.client[opposite];\n    iEvent.delta[opposite] = 0;\n  }\n}\n/**\n * ```js\n * interact(element).draggable({\n *     onstart: function (event) {},\n *     onmove : function (event) {},\n *     onend  : function (event) {},\n *\n *     // the axis in which the first movement must be\n *     // for the drag sequence to start\n *     // 'xy' by default - any direction\n *     startAxis: 'x' || 'y' || 'xy',\n *\n *     // 'xy' by default - don't restrict to one axis (move in any direction)\n *     // 'x' or 'y' to restrict movement to either axis\n *     // 'start' to restrict movement to the axis the drag started in\n *     lockAxis: 'x' || 'y' || 'xy' || 'start',\n *\n *     // max number of drags that can happen concurrently\n *     // with elements of this Interactable. Infinity by default\n *     max: Infinity,\n *\n *     // max number of drags that can target the same element+Interactable\n *     // 1 by default\n *     maxPerElement: 2\n * })\n *\n * var isDraggable = interact('element').draggable(); // true\n * ```\n *\n * Get or set whether drag actions can be performed on the target\n *\n * @alias Interactable.prototype.draggable\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on drag events (object makes the Interactable\n * draggable)\n * @return {boolean | Interactable} boolean indicating if this can be the\n * target of drag events, or this Interctable\n */\n\n\nconst draggable = function draggable(options) {\n  if (is.object(options)) {\n    this.options.drag.enabled = options.enabled !== false;\n    this.setPerAction('drag', options);\n    this.setOnEvents('drag', options);\n\n    if (/^(xy|x|y|start)$/.test(options.lockAxis)) {\n      this.options.drag.lockAxis = options.lockAxis;\n    }\n\n    if (/^(xy|x|y)$/.test(options.startAxis)) {\n      this.options.drag.startAxis = options.startAxis;\n    }\n\n    return this;\n  }\n\n  if (is.bool(options)) {\n    this.options.drag.enabled = options;\n    return this;\n  }\n\n  return this.options.drag;\n};\n\nconst drag = {\n  id: 'actions/drag',\n  install,\n  listeners: {\n    'interactions:before-action-move': beforeMove,\n    'interactions:action-resume': beforeMove,\n    // dragmove\n    'interactions:action-move': move,\n    'auto-start:check': arg => {\n      const {\n        interaction,\n        interactable,\n        buttons\n      } = arg;\n      const dragOptions = interactable.options.drag;\n\n      if (!(dragOptions && dragOptions.enabled) || // check mouseButton setting if the pointer is down\n      interaction.pointerIsDown && /mouse|pointer/.test(interaction.pointerType) && (buttons & interactable.options.drag.mouseButtons) === 0) {\n        return undefined;\n      }\n\n      arg.action = {\n        name: 'drag',\n        axis: dragOptions.lockAxis === 'start' ? dragOptions.startAxis : dragOptions.lockAxis\n      };\n      return false;\n    }\n  },\n  draggable,\n  beforeMove,\n  move,\n  defaults: {\n    startAxis: 'xy',\n    lockAxis: 'xy'\n  },\n\n  getCursor() {\n    return 'move';\n  }\n\n};\nexport default drag;\n//# sourceMappingURL=plugin.js.map","const domObjects = {\n  init,\n  document: null,\n  DocumentFragment: null,\n  SVGElement: null,\n  SVGSVGElement: null,\n  SVGElementInstance: null,\n  Element: null,\n  HTMLElement: null,\n  Event: null,\n  Touch: null,\n  PointerEvent: null\n};\n\nfunction blank() {}\n\nexport default domObjects;\n\nfunction init(window) {\n  const win = window;\n  domObjects.document = win.document;\n  domObjects.DocumentFragment = win.DocumentFragment || blank;\n  domObjects.SVGElement = win.SVGElement || blank;\n  domObjects.SVGSVGElement = win.SVGSVGElement || blank;\n  domObjects.SVGElementInstance = win.SVGElementInstance || blank;\n  domObjects.Element = win.Element || blank;\n  domObjects.HTMLElement = win.HTMLElement || domObjects.Element;\n  domObjects.Event = win.Event;\n  domObjects.Touch = win.Touch || blank;\n  domObjects.PointerEvent = win.PointerEvent || win.MSPointerEvent;\n}\n//# sourceMappingURL=domObjects.js.map","import domObjects from './domObjects';\nimport is from './is';\nconst browser = {\n  init,\n  supportsTouch: null,\n  supportsPointerEvent: null,\n  isIOS7: null,\n  isIOS: null,\n  isIe9: null,\n  isOperaMobile: null,\n  prefixedMatchesSelector: null,\n  pEventTypes: null,\n  wheelEvent: null\n};\n\nfunction init(window) {\n  const Element = domObjects.Element;\n  const navigator = window.navigator || {}; // Does the browser support touch input?\n\n  browser.supportsTouch = 'ontouchstart' in window || is.func(window.DocumentTouch) && domObjects.document instanceof window.DocumentTouch; // Does the browser support PointerEvents\n  // https://github.com/taye/interact.js/issues/703#issuecomment-471570492\n\n  browser.supportsPointerEvent = navigator.pointerEnabled !== false && !!domObjects.PointerEvent;\n  browser.isIOS = /iP(hone|od|ad)/.test(navigator.platform); // scrolling doesn't change the result of getClientRects on iOS 7\n\n  browser.isIOS7 = /iP(hone|od|ad)/.test(navigator.platform) && /OS 7[^\\d]/.test(navigator.appVersion);\n  browser.isIe9 = /MSIE 9/.test(navigator.userAgent); // Opera Mobile must be handled differently\n\n  browser.isOperaMobile = navigator.appName === 'Opera' && browser.supportsTouch && /Presto/.test(navigator.userAgent); // prefix matchesSelector\n\n  browser.prefixedMatchesSelector = 'matches' in Element.prototype ? 'matches' : 'webkitMatchesSelector' in Element.prototype ? 'webkitMatchesSelector' : 'mozMatchesSelector' in Element.prototype ? 'mozMatchesSelector' : 'oMatchesSelector' in Element.prototype ? 'oMatchesSelector' : 'msMatchesSelector';\n  browser.pEventTypes = browser.supportsPointerEvent ? domObjects.PointerEvent === window.MSPointerEvent ? {\n    up: 'MSPointerUp',\n    down: 'MSPointerDown',\n    over: 'mouseover',\n    out: 'mouseout',\n    move: 'MSPointerMove',\n    cancel: 'MSPointerCancel'\n  } : {\n    up: 'pointerup',\n    down: 'pointerdown',\n    over: 'pointerover',\n    out: 'pointerout',\n    move: 'pointermove',\n    cancel: 'pointercancel'\n  } : null; // because Webkit and Opera still use 'mousewheel' event type\n\n  browser.wheelEvent = domObjects.document && 'onmousewheel' in domObjects.document ? 'mousewheel' : 'wheel';\n}\n\nexport default browser;\n//# sourceMappingURL=browser.js.map","import browser from './browser';\nimport domObjects from './domObjects';\nimport is from './is';\nimport * as win from './window';\nexport function nodeContains(parent, child) {\n  if (parent.contains) {\n    return parent.contains(child);\n  }\n\n  while (child) {\n    if (child === parent) {\n      return true;\n    }\n\n    child = child.parentNode;\n  }\n\n  return false;\n}\nexport function closest(element, selector) {\n  while (is.element(element)) {\n    if (matchesSelector(element, selector)) {\n      return element;\n    }\n\n    element = parentNode(element);\n  }\n\n  return null;\n}\nexport function parentNode(node) {\n  let parent = node.parentNode;\n\n  if (is.docFrag(parent)) {\n    // skip past #shado-root fragments\n    // tslint:disable-next-line\n    while ((parent = parent.host) && is.docFrag(parent)) {\n      continue;\n    }\n\n    return parent;\n  }\n\n  return parent;\n}\nexport function matchesSelector(element, selector) {\n  // remove /deep/ from selectors if shadowDOM polyfill is used\n  if (win.window !== win.realWindow) {\n    selector = selector.replace(/\\/deep\\//g, ' ');\n  }\n\n  return element[browser.prefixedMatchesSelector](selector);\n}\n\nconst getParent = el => el.parentNode || el.host; // Test for the element that's \"above\" all other qualifiers\n\n\nexport function indexOfDeepestElement(elements) {\n  let deepestNodeParents = [];\n  let deepestNodeIndex;\n\n  for (let i = 0; i < elements.length; i++) {\n    const currentNode = elements[i];\n    const deepestNode = elements[deepestNodeIndex]; // node may appear in elements array multiple times\n\n    if (!currentNode || i === deepestNodeIndex) {\n      continue;\n    }\n\n    if (!deepestNode) {\n      deepestNodeIndex = i;\n      continue;\n    }\n\n    const currentNodeParent = getParent(currentNode);\n    const deepestNodeParent = getParent(deepestNode); // check if the deepest or current are document.documentElement/rootElement\n    // - if the current node is, do nothing and continue\n\n    if (currentNodeParent === currentNode.ownerDocument) {\n      continue;\n    } // - if deepest is, update with the current node and continue to next\n    else if (deepestNodeParent === currentNode.ownerDocument) {\n      deepestNodeIndex = i;\n      continue;\n    } // compare zIndex of siblings\n\n\n    if (currentNodeParent === deepestNodeParent) {\n      if (zIndexIsHigherThan(currentNode, deepestNode)) {\n        deepestNodeIndex = i;\n      }\n\n      continue;\n    } // populate the ancestry array for the latest deepest node\n\n\n    deepestNodeParents = deepestNodeParents.length ? deepestNodeParents : getNodeParents(deepestNode);\n    let ancestryStart; // if the deepest node is an HTMLElement and the current node is a non root svg element\n\n    if (deepestNode instanceof domObjects.HTMLElement && currentNode instanceof domObjects.SVGElement && !(currentNode instanceof domObjects.SVGSVGElement)) {\n      // TODO: is this check necessary? Was this for HTML elements embedded in SVG?\n      if (currentNode === deepestNodeParent) {\n        continue;\n      }\n\n      ancestryStart = currentNode.ownerSVGElement;\n    } else {\n      ancestryStart = currentNode;\n    }\n\n    const currentNodeParents = getNodeParents(ancestryStart, deepestNode.ownerDocument);\n    let commonIndex = 0; // get (position of closest common ancestor) + 1\n\n    while (currentNodeParents[commonIndex] && currentNodeParents[commonIndex] === deepestNodeParents[commonIndex]) {\n      commonIndex++;\n    }\n\n    const parents = [currentNodeParents[commonIndex - 1], currentNodeParents[commonIndex], deepestNodeParents[commonIndex]];\n\n    if (parents[0]) {\n      let child = parents[0].lastChild;\n\n      while (child) {\n        if (child === parents[1]) {\n          deepestNodeIndex = i;\n          deepestNodeParents = currentNodeParents;\n          break;\n        } else if (child === parents[2]) {\n          break;\n        }\n\n        child = child.previousSibling;\n      }\n    }\n  }\n\n  return deepestNodeIndex;\n}\n\nfunction getNodeParents(node, limit) {\n  const parents = [];\n  let parent = node;\n  let parentParent;\n\n  while ((parentParent = getParent(parent)) && parent !== limit && parentParent !== parent.ownerDocument) {\n    parents.unshift(parent);\n    parent = parentParent;\n  }\n\n  return parents;\n}\n\nfunction zIndexIsHigherThan(higherNode, lowerNode) {\n  const higherIndex = parseInt(win.getWindow(higherNode).getComputedStyle(higherNode).zIndex, 10) || 0;\n  const lowerIndex = parseInt(win.getWindow(lowerNode).getComputedStyle(lowerNode).zIndex, 10) || 0;\n  return higherIndex >= lowerIndex;\n}\n\nexport function matchesUpTo(element, selector, limit) {\n  while (is.element(element)) {\n    if (matchesSelector(element, selector)) {\n      return true;\n    }\n\n    element = parentNode(element);\n\n    if (element === limit) {\n      return matchesSelector(element, selector);\n    }\n  }\n\n  return false;\n}\nexport function getActualElement(element) {\n  return element.correspondingUseElement || element;\n}\nexport function getScrollXY(relevantWindow) {\n  relevantWindow = relevantWindow || win.window;\n  return {\n    x: relevantWindow.scrollX || relevantWindow.document.documentElement.scrollLeft,\n    y: relevantWindow.scrollY || relevantWindow.document.documentElement.scrollTop\n  };\n}\nexport function getElementClientRect(element) {\n  const clientRect = element instanceof domObjects.SVGElement ? element.getBoundingClientRect() : element.getClientRects()[0];\n  return clientRect && {\n    left: clientRect.left,\n    right: clientRect.right,\n    top: clientRect.top,\n    bottom: clientRect.bottom,\n    width: clientRect.width || clientRect.right - clientRect.left,\n    height: clientRect.height || clientRect.bottom - clientRect.top\n  };\n}\nexport function getElementRect(element) {\n  const clientRect = getElementClientRect(element);\n\n  if (!browser.isIOS7 && clientRect) {\n    const scroll = getScrollXY(win.getWindow(element));\n    clientRect.left += scroll.x;\n    clientRect.right += scroll.x;\n    clientRect.top += scroll.y;\n    clientRect.bottom += scroll.y;\n  }\n\n  return clientRect;\n}\nexport function getPath(node) {\n  const path = [];\n\n  while (node) {\n    path.push(node);\n    node = parentNode(node);\n  }\n\n  return path;\n}\nexport function trySelector(value) {\n  if (!is.string(value)) {\n    return false;\n  } // an exception will be raised if it is invalid\n\n\n  domObjects.document.querySelector(value);\n  return true;\n}\n//# sourceMappingURL=domUtils.js.map","export default function extend(dest, source) {\n  for (const prop in source) {\n    ;\n    dest[prop] = source[prop];\n  }\n\n  const ret = dest;\n  return ret;\n}\n//# sourceMappingURL=extend.js.map","import { closest, getElementRect, parentNode } from './domUtils';\nimport extend from './extend';\nimport is from './is';\nexport function getStringOptionResult(value, target, element) {\n  if (value === 'parent') {\n    return parentNode(element);\n  }\n\n  if (value === 'self') {\n    return target.getRect(element);\n  }\n\n  return closest(element, value);\n}\nexport function resolveRectLike(value, target, element, functionArgs) {\n  let returnValue = value;\n\n  if (is.string(returnValue)) {\n    returnValue = getStringOptionResult(returnValue, target, element);\n  } else if (is.func(returnValue)) {\n    returnValue = returnValue(...functionArgs);\n  }\n\n  if (is.element(returnValue)) {\n    returnValue = getElementRect(returnValue);\n  }\n\n  return returnValue;\n}\nexport function toFullRect(rect) {\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = rect;\n  const width = rect.width ?? rect.right - rect.left;\n  const height = rect.height ?? rect.bottom - rect.top;\n  return {\n    top,\n    left,\n    bottom,\n    right,\n    width,\n    height\n  };\n}\nexport function rectToXY(rect) {\n  return rect && {\n    x: 'x' in rect ? rect.x : rect.left,\n    y: 'y' in rect ? rect.y : rect.top\n  };\n}\nexport function xywhToTlbr(rect) {\n  if (rect && !('left' in rect && 'top' in rect)) {\n    rect = extend({}, rect);\n    rect.left = rect.x || 0;\n    rect.top = rect.y || 0;\n    rect.right = rect.right || rect.left + rect.width;\n    rect.bottom = rect.bottom || rect.top + rect.height;\n  }\n\n  return rect;\n}\nexport function tlbrToXywh(rect) {\n  if (rect && !('x' in rect && 'y' in rect)) {\n    rect = extend({}, rect);\n    rect.x = rect.left || 0;\n    rect.y = rect.top || 0;\n    rect.width = rect.width || (rect.right || 0) - rect.x;\n    rect.height = rect.height || (rect.bottom || 0) - rect.y;\n  }\n\n  return rect;\n}\nexport function addEdges(edges, rect, delta) {\n  if (edges.left) {\n    rect.left += delta.x;\n  }\n\n  if (edges.right) {\n    rect.right += delta.x;\n  }\n\n  if (edges.top) {\n    rect.top += delta.y;\n  }\n\n  if (edges.bottom) {\n    rect.bottom += delta.y;\n  }\n\n  rect.width = rect.right - rect.left;\n  rect.height = rect.bottom - rect.top;\n}\n//# sourceMappingURL=rect.js.map","import { rectToXY, resolveRectLike } from './rect';\nexport default function getOriginXY(target, element, actionName) {\n  const actionOptions = actionName && target.options[actionName];\n  const actionOrigin = actionOptions && actionOptions.origin;\n  const origin = actionOrigin || target.options.origin;\n  const originRect = resolveRectLike(origin, target, element, [target && element]);\n  return rectToXY(originRect) || {\n    x: 0,\n    y: 0\n  };\n}\n//# sourceMappingURL=getOriginXY.js.map","import extend from './extend';\nimport is from './is';\nexport default function normalize(type, listeners, result) {\n  result = result || {};\n\n  if (is.string(type) && type.search(' ') !== -1) {\n    type = split(type);\n  }\n\n  if (is.array(type)) {\n    return type.reduce((acc, t) => extend(acc, normalize(t, listeners, result)), result);\n  } // ({ type: fn }) -> ('', { type: fn })\n\n\n  if (is.object(type)) {\n    listeners = type;\n    type = '';\n  }\n\n  if (is.func(listeners)) {\n    result[type] = result[type] || [];\n    result[type].push(listeners);\n  } else if (is.array(listeners)) {\n    for (const l of listeners) {\n      normalize(type, l, result);\n    }\n  } else if (is.object(listeners)) {\n    for (const prefix in listeners) {\n      const combinedTypes = split(prefix).map(p => `${type}${p}`);\n      normalize(combinedTypes, listeners[prefix], result);\n    }\n  }\n\n  return result;\n}\n\nfunction split(type) {\n  return type.trim().split(/ +/);\n}\n//# sourceMappingURL=normalizeListeners.js.map","export default ((x, y) => Math.sqrt(x * x + y * y));\n//# sourceMappingURL=hypot.js.map","const VENDOR_PREFIXES = ['webkit', 'moz'];\nexport default function pointerExtend(dest, source) {\n  dest.__set ||= {};\n\n  for (const prop in source) {\n    // skip deprecated prefixed properties\n    if (VENDOR_PREFIXES.some(prefix => prop.indexOf(prefix) === 0)) continue;\n\n    if (typeof dest[prop] !== 'function' && prop !== '__set') {\n      Object.defineProperty(dest, prop, {\n        get() {\n          if (prop in dest.__set) return dest.__set[prop];\n          return dest.__set[prop] = source[prop];\n        },\n\n        set(value) {\n          dest.__set[prop] = value;\n        },\n\n        configurable: true\n      });\n    }\n  }\n\n  return dest;\n}\n//# sourceMappingURL=pointerExtend.js.map","import browser from './browser';\nimport dom from './domObjects';\nimport * as domUtils from './domUtils';\nimport hypot from './hypot';\nimport is from './is';\nimport pointerExtend from './pointerExtend';\nexport function copyCoords(dest, src) {\n  dest.page = dest.page || {};\n  dest.page.x = src.page.x;\n  dest.page.y = src.page.y;\n  dest.client = dest.client || {};\n  dest.client.x = src.client.x;\n  dest.client.y = src.client.y;\n  dest.timeStamp = src.timeStamp;\n}\nexport function setCoordDeltas(targetObj, prev, cur) {\n  targetObj.page.x = cur.page.x - prev.page.x;\n  targetObj.page.y = cur.page.y - prev.page.y;\n  targetObj.client.x = cur.client.x - prev.client.x;\n  targetObj.client.y = cur.client.y - prev.client.y;\n  targetObj.timeStamp = cur.timeStamp - prev.timeStamp;\n}\nexport function setCoordVelocity(targetObj, delta) {\n  const dt = Math.max(delta.timeStamp / 1000, 0.001);\n  targetObj.page.x = delta.page.x / dt;\n  targetObj.page.y = delta.page.y / dt;\n  targetObj.client.x = delta.client.x / dt;\n  targetObj.client.y = delta.client.y / dt;\n  targetObj.timeStamp = dt;\n}\nexport function setZeroCoords(targetObj) {\n  targetObj.page.x = 0;\n  targetObj.page.y = 0;\n  targetObj.client.x = 0;\n  targetObj.client.y = 0;\n}\nexport function isNativePointer(pointer) {\n  return pointer instanceof dom.Event || pointer instanceof dom.Touch;\n} // Get specified X/Y coords for mouse or event.touches[0]\n\nexport function getXY(type, pointer, xy) {\n  xy = xy || {};\n  type = type || 'page';\n  xy.x = pointer[type + 'X'];\n  xy.y = pointer[type + 'Y'];\n  return xy;\n}\nexport function getPageXY(pointer, page) {\n  page = page || {\n    x: 0,\n    y: 0\n  }; // Opera Mobile handles the viewport and scrolling oddly\n\n  if (browser.isOperaMobile && isNativePointer(pointer)) {\n    getXY('screen', pointer, page);\n    page.x += window.scrollX;\n    page.y += window.scrollY;\n  } else {\n    getXY('page', pointer, page);\n  }\n\n  return page;\n}\nexport function getClientXY(pointer, client) {\n  client = client || {};\n\n  if (browser.isOperaMobile && isNativePointer(pointer)) {\n    // Opera Mobile handles the viewport and scrolling oddly\n    getXY('screen', pointer, client);\n  } else {\n    getXY('client', pointer, client);\n  }\n\n  return client;\n}\nexport function getPointerId(pointer) {\n  return is.number(pointer.pointerId) ? pointer.pointerId : pointer.identifier;\n}\nexport function setCoords(dest, pointers, timeStamp) {\n  const pointer = pointers.length > 1 ? pointerAverage(pointers) : pointers[0];\n  getPageXY(pointer, dest.page);\n  getClientXY(pointer, dest.client);\n  dest.timeStamp = timeStamp;\n}\nexport function getTouchPair(event) {\n  const touches = []; // array of touches is supplied\n\n  if (is.array(event)) {\n    touches[0] = event[0];\n    touches[1] = event[1];\n  } // an event\n  else {\n    if (event.type === 'touchend') {\n      if (event.touches.length === 1) {\n        touches[0] = event.touches[0];\n        touches[1] = event.changedTouches[0];\n      } else if (event.touches.length === 0) {\n        touches[0] = event.changedTouches[0];\n        touches[1] = event.changedTouches[1];\n      }\n    } else {\n      touches[0] = event.touches[0];\n      touches[1] = event.touches[1];\n    }\n  }\n\n  return touches;\n}\nexport function pointerAverage(pointers) {\n  const average = {\n    pageX: 0,\n    pageY: 0,\n    clientX: 0,\n    clientY: 0,\n    screenX: 0,\n    screenY: 0\n  };\n\n  for (const pointer of pointers) {\n    for (const prop in average) {\n      average[prop] += pointer[prop];\n    }\n  }\n\n  for (const prop in average) {\n    average[prop] /= pointers.length;\n  }\n\n  return average;\n}\nexport function touchBBox(event) {\n  if (!event.length) {\n    return null;\n  }\n\n  const touches = getTouchPair(event);\n  const minX = Math.min(touches[0].pageX, touches[1].pageX);\n  const minY = Math.min(touches[0].pageY, touches[1].pageY);\n  const maxX = Math.max(touches[0].pageX, touches[1].pageX);\n  const maxY = Math.max(touches[0].pageY, touches[1].pageY);\n  return {\n    x: minX,\n    y: minY,\n    left: minX,\n    top: minY,\n    right: maxX,\n    bottom: maxY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nexport function touchDistance(event, deltaSource) {\n  const sourceX = deltaSource + 'X';\n  const sourceY = deltaSource + 'Y';\n  const touches = getTouchPair(event);\n  const dx = touches[0][sourceX] - touches[1][sourceX];\n  const dy = touches[0][sourceY] - touches[1][sourceY];\n  return hypot(dx, dy);\n}\nexport function touchAngle(event, deltaSource) {\n  const sourceX = deltaSource + 'X';\n  const sourceY = deltaSource + 'Y';\n  const touches = getTouchPair(event);\n  const dx = touches[1][sourceX] - touches[0][sourceX];\n  const dy = touches[1][sourceY] - touches[0][sourceY];\n  const angle = 180 * Math.atan2(dy, dx) / Math.PI;\n  return angle;\n}\nexport function getPointerType(pointer) {\n  return is.string(pointer.pointerType) ? pointer.pointerType : is.number(pointer.pointerType) ? [undefined, undefined, 'touch', 'pen', 'mouse'][pointer.pointerType] : // if the PointerEvent API isn't available, then the \"pointer\" must\n  // be either a MouseEvent, TouchEvent, or Touch object\n  /touch/.test(pointer.type || '') || pointer instanceof dom.Touch ? 'touch' : 'mouse';\n} // [ event.target, event.currentTarget ]\n\nexport function getEventTargets(event) {\n  const path = is.func(event.composedPath) ? event.composedPath() : event.path;\n  return [domUtils.getActualElement(path ? path[0] : event.target), domUtils.getActualElement(event.currentTarget)];\n}\nexport function newCoords() {\n  return {\n    page: {\n      x: 0,\n      y: 0\n    },\n    client: {\n      x: 0,\n      y: 0\n    },\n    timeStamp: 0\n  };\n}\nexport function coordsToEvent(coords) {\n  const event = {\n    coords,\n\n    get page() {\n      return this.coords.page;\n    },\n\n    get client() {\n      return this.coords.client;\n    },\n\n    get timeStamp() {\n      return this.coords.timeStamp;\n    },\n\n    get pageX() {\n      return this.coords.page.x;\n    },\n\n    get pageY() {\n      return this.coords.page.y;\n    },\n\n    get clientX() {\n      return this.coords.client.x;\n    },\n\n    get clientY() {\n      return this.coords.client.y;\n    },\n\n    get pointerId() {\n      return this.coords.pointerId;\n    },\n\n    get target() {\n      return this.coords.target;\n    },\n\n    get type() {\n      return this.coords.type;\n    },\n\n    get pointerType() {\n      return this.coords.pointerType;\n    },\n\n    get buttons() {\n      return this.coords.buttons;\n    },\n\n    preventDefault() {}\n\n  };\n  return event;\n}\nexport { pointerExtend };\n//# sourceMappingURL=pointerUtils.js.map","export class BaseEvent {\n  immediatePropagationStopped = false;\n  propagationStopped = false;\n\n  constructor(interaction) {\n    this._interaction = interaction;\n  }\n\n  preventDefault() {}\n  /**\n   * Don't call any other listeners (even on the current target)\n   */\n\n\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n  /**\n   * Don't call listeners on the remaining targets\n   */\n\n\n  stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  }\n\n} // defined outside of class definition to avoid assignment of undefined during\n// construction\n\n// getters and setters defined here to support typescript 3.6 and below which\n// don't support getter and setters in .d.ts files\nObject.defineProperty(BaseEvent.prototype, 'interaction', {\n  get() {\n    return this._interaction._proxy;\n  },\n\n  set() {}\n\n});\n//# sourceMappingURL=BaseEvent.js.map","export const contains = (array, target) => array.indexOf(target) !== -1;\nexport const remove = (array, target) => array.splice(array.indexOf(target), 1);\nexport const merge = (target, source) => {\n  for (const item of source) {\n    target.push(item);\n  }\n\n  return target;\n};\nexport const from = source => merge([], source);\nexport const findIndex = (array, func) => {\n  for (let i = 0; i < array.length; i++) {\n    if (func(array[i], i, array)) {\n      return i;\n    }\n  }\n\n  return -1;\n};\nexport const find = (array, func) => array[findIndex(array, func)];\n//# sourceMappingURL=arr.js.map","import { BaseEvent } from \"../../core/BaseEvent.js\";\nimport * as arr from \"../../utils/arr.js\";\nexport class DropEvent extends BaseEvent {\n  dropzone;\n  dragEvent;\n  relatedTarget;\n  draggable;\n  propagationStopped = false;\n  immediatePropagationStopped = false;\n  /**\n   * Class of events fired on dropzones during drags with acceptable targets.\n   */\n\n  constructor(dropState, dragEvent, type) {\n    super(dragEvent._interaction);\n    const {\n      element,\n      dropzone\n    } = type === 'dragleave' ? dropState.prev : dropState.cur;\n    this.type = type;\n    this.target = element;\n    this.currentTarget = element;\n    this.dropzone = dropzone;\n    this.dragEvent = dragEvent;\n    this.relatedTarget = dragEvent.target;\n    this.draggable = dragEvent.interactable;\n    this.timeStamp = dragEvent.timeStamp;\n  }\n  /**\n   * If this is a `dropactivate` event, the dropzone element will be\n   * deactivated.\n   *\n   * If this is a `dragmove` or `dragenter`, a `dragleave` will be fired on the\n   * dropzone element and more.\n   */\n\n\n  reject() {\n    const {\n      dropState\n    } = this._interaction;\n\n    if (this.type !== 'dropactivate' && (!this.dropzone || dropState.cur.dropzone !== this.dropzone || dropState.cur.element !== this.target)) {\n      return;\n    }\n\n    dropState.prev.dropzone = this.dropzone;\n    dropState.prev.element = this.target;\n    dropState.rejected = true;\n    dropState.events.enter = null;\n    this.stopImmediatePropagation();\n\n    if (this.type === 'dropactivate') {\n      const activeDrops = dropState.activeDrops;\n      const index = arr.findIndex(activeDrops, ({\n        dropzone,\n        element\n      }) => dropzone === this.dropzone && element === this.target);\n      dropState.activeDrops.splice(index, 1);\n      const deactivateEvent = new DropEvent(dropState, this.dragEvent, 'dropdeactivate');\n      deactivateEvent.dropzone = this.dropzone;\n      deactivateEvent.target = this.target;\n      this.dropzone.fire(deactivateEvent);\n    } else {\n      this.dropzone.fire(new DropEvent(dropState, this.dragEvent, 'dragleave'));\n    }\n  }\n\n  preventDefault() {}\n\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n\n  stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  }\n\n}\n//# sourceMappingURL=DropEvent.js.map","import * as domUtils from \"../../utils/domUtils.js\";\nimport extend from \"../../utils/extend.js\";\nimport getOriginXY from \"../../utils/getOriginXY.js\";\nimport is from \"../../utils/is.js\";\nimport normalizeListeners from \"../../utils/normalizeListeners.js\";\nimport * as pointerUtils from \"../../utils/pointerUtils.js\";\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\n\nimport '../drag/plugin';\nimport drag from '../drag/plugin';\n/* eslint-enable import/no-duplicates */\n\nimport { DropEvent } from './DropEvent';\n\nfunction install(scope) {\n  const {\n    actions,\n\n    /** @lends module:interact */\n    interactStatic: interact,\n\n    /** @lends Interactable */\n    Interactable,\n    defaults\n  } = scope;\n  scope.usePlugin(drag);\n  /**\n   *\n   * ```js\n   * interact('.drop').dropzone({\n   *   accept: '.can-drop' || document.getElementById('single-drop'),\n   *   overlap: 'pointer' || 'center' || zeroToOne\n   * }\n   * ```\n   *\n   * Returns or sets whether draggables can be dropped onto this target to\n   * trigger drop events\n   *\n   * Dropzones can receive the following events:\n   *  - `dropactivate` and `dropdeactivate` when an acceptable drag starts and ends\n   *  - `dragenter` and `dragleave` when a draggable enters and leaves the dropzone\n   *  - `dragmove` when a draggable that has entered the dropzone is moved\n   *  - `drop` when a draggable is dropped into this dropzone\n   *\n   * Use the `accept` option to allow only elements that match the given CSS\n   * selector or element. The value can be:\n   *\n   *  - **an Element** - only that element can be dropped into this dropzone.\n   *  - **a string**, - the element being dragged must match it as a CSS selector.\n   *  - **`null`** - accept options is cleared - it accepts any element.\n   *\n   * Use the `overlap` option to set how drops are checked for. The allowed\n   * values are:\n   *\n   *   - `'pointer'`, the pointer must be over the dropzone (default)\n   *   - `'center'`, the draggable element's center must be over the dropzone\n   *   - a number from 0-1 which is the `(intersection area) / (draggable area)`.\n   *   e.g. `0.5` for drop to happen when half of the area of the draggable is\n   *   over the dropzone\n   *\n   * Use the `checker` option to specify a function to check if a dragged element\n   * is over this Interactable.\n   *\n   * @param {boolean | object | null} [options] The new options to be set.\n   * @return {object | Interactable} The current setting or this Interactable\n   */\n\n  Interactable.prototype.dropzone = function (options) {\n    return dropzoneMethod(this, options);\n  };\n  /**\n   * ```js\n   * interact(target)\n   * .dropChecker(function(dragEvent,         // related dragmove or dragend event\n   *                       event,             // TouchEvent/PointerEvent/MouseEvent\n   *                       dropped,           // bool result of the default checker\n   *                       dropzone,          // dropzone Interactable\n   *                       dropElement,       // dropzone elemnt\n   *                       draggable,         // draggable Interactable\n   *                       draggableElement) {// draggable element\n   *\n   *   return dropped && event.target.hasAttribute('allow-drop')\n   * }\n   * ```\n   */\n\n\n  Interactable.prototype.dropCheck = function (dragEvent, event, draggable, draggableElement, dropElement, rect) {\n    return dropCheckMethod(this, dragEvent, event, draggable, draggableElement, dropElement, rect);\n  };\n  /**\n   * Returns or sets whether the dimensions of dropzone elements are calculated\n   * on every dragmove or only on dragstart for the default dropChecker\n   *\n   * @param {boolean} [newValue] True to check on each move. False to check only\n   * before start\n   * @return {boolean | interact} The current setting or interact\n   */\n\n\n  interact.dynamicDrop = function (newValue) {\n    if (is.bool(newValue)) {\n      // if (dragging && scope.dynamicDrop !== newValue && !newValue) {\n      //  calcRects(dropzones)\n      // }\n      scope.dynamicDrop = newValue;\n      return interact;\n    }\n\n    return scope.dynamicDrop;\n  };\n\n  extend(actions.phaselessTypes, {\n    dragenter: true,\n    dragleave: true,\n    dropactivate: true,\n    dropdeactivate: true,\n    dropmove: true,\n    drop: true\n  });\n  actions.methodDict.drop = 'dropzone';\n  scope.dynamicDrop = false;\n  defaults.actions.drop = drop.defaults;\n}\n\nfunction collectDrops({\n  interactables\n}, draggableElement) {\n  const drops = []; // collect all dropzones and their elements which qualify for a drop\n\n  for (const dropzone of interactables.list) {\n    if (!dropzone.options.drop.enabled) {\n      continue;\n    }\n\n    const accept = dropzone.options.drop.accept; // test the draggable draggableElement against the dropzone's accept setting\n\n    if (is.element(accept) && accept !== draggableElement || is.string(accept) && !domUtils.matchesSelector(draggableElement, accept) || is.func(accept) && !accept({\n      dropzone,\n      draggableElement\n    })) {\n      continue;\n    } // query for new elements if necessary\n\n\n    const dropElements = is.string(dropzone.target) ? dropzone._context.querySelectorAll(dropzone.target) : is.array(dropzone.target) ? dropzone.target : [dropzone.target];\n\n    for (const dropzoneElement of dropElements) {\n      if (dropzoneElement !== draggableElement) {\n        drops.push({\n          dropzone,\n          element: dropzoneElement,\n          rect: dropzone.getRect(dropzoneElement)\n        });\n      }\n    }\n  }\n\n  return drops;\n}\n\nfunction fireActivationEvents(activeDrops, event) {\n  // loop through all active dropzones and trigger event\n  for (const {\n    dropzone,\n    element\n  } of activeDrops.slice()) {\n    event.dropzone = dropzone; // set current element as event target\n\n    event.target = element;\n    dropzone.fire(event);\n    event.propagationStopped = event.immediatePropagationStopped = false;\n  }\n} // return a new array of possible drops. getActiveDrops should always be\n// called when a drag has just started or a drag event happens while\n// dynamicDrop is true\n\n\nfunction getActiveDrops(scope, dragElement) {\n  // get dropzones and their elements that could receive the draggable\n  const activeDrops = collectDrops(scope, dragElement);\n\n  for (const activeDrop of activeDrops) {\n    activeDrop.rect = activeDrop.dropzone.getRect(activeDrop.element);\n  }\n\n  return activeDrops;\n}\n\nfunction getDrop({\n  dropState,\n  interactable: draggable,\n  element: dragElement\n}, dragEvent, pointerEvent) {\n  const validDrops = []; // collect all dropzones and their elements which qualify for a drop\n\n  for (const {\n    dropzone,\n    element: dropzoneElement,\n    rect\n  } of dropState.activeDrops) {\n    if (dropzone.dropCheck(dragEvent, pointerEvent, draggable, dragElement, dropzoneElement, rect)) {\n      validDrops.push(dropzoneElement);\n    }\n  } // get the most appropriate dropzone based on DOM depth and order\n\n\n  const dropIndex = domUtils.indexOfDeepestElement(validDrops);\n  return dropState.activeDrops[dropIndex] || null;\n}\n\nfunction getDropEvents(interaction, _pointerEvent, dragEvent) {\n  const dropState = interaction.dropState;\n  const dropEvents = {\n    enter: null,\n    leave: null,\n    activate: null,\n    deactivate: null,\n    move: null,\n    drop: null\n  };\n\n  if (dragEvent.type === 'dragstart') {\n    dropEvents.activate = new DropEvent(dropState, dragEvent, 'dropactivate');\n    dropEvents.activate.target = null;\n    dropEvents.activate.dropzone = null;\n  }\n\n  if (dragEvent.type === 'dragend') {\n    dropEvents.deactivate = new DropEvent(dropState, dragEvent, 'dropdeactivate');\n    dropEvents.deactivate.target = null;\n    dropEvents.deactivate.dropzone = null;\n  }\n\n  if (dropState.rejected) {\n    return dropEvents;\n  }\n\n  if (dropState.cur.element !== dropState.prev.element) {\n    // if there was a previous dropzone, create a dragleave event\n    if (dropState.prev.dropzone) {\n      dropEvents.leave = new DropEvent(dropState, dragEvent, 'dragleave');\n      dragEvent.dragLeave = dropEvents.leave.target = dropState.prev.element;\n      dragEvent.prevDropzone = dropEvents.leave.dropzone = dropState.prev.dropzone;\n    } // if dropzone is not null, create a dragenter event\n\n\n    if (dropState.cur.dropzone) {\n      dropEvents.enter = new DropEvent(dropState, dragEvent, 'dragenter');\n      dragEvent.dragEnter = dropState.cur.element;\n      dragEvent.dropzone = dropState.cur.dropzone;\n    }\n  }\n\n  if (dragEvent.type === 'dragend' && dropState.cur.dropzone) {\n    dropEvents.drop = new DropEvent(dropState, dragEvent, 'drop');\n    dragEvent.dropzone = dropState.cur.dropzone;\n    dragEvent.relatedTarget = dropState.cur.element;\n  }\n\n  if (dragEvent.type === 'dragmove' && dropState.cur.dropzone) {\n    dropEvents.move = new DropEvent(dropState, dragEvent, 'dropmove');\n    dragEvent.dropzone = dropState.cur.dropzone;\n  }\n\n  return dropEvents;\n}\n\nfunction fireDropEvents(interaction, events) {\n  const dropState = interaction.dropState;\n  const {\n    activeDrops,\n    cur,\n    prev\n  } = dropState;\n\n  if (events.leave) {\n    prev.dropzone.fire(events.leave);\n  }\n\n  if (events.enter) {\n    cur.dropzone.fire(events.enter);\n  }\n\n  if (events.move) {\n    cur.dropzone.fire(events.move);\n  }\n\n  if (events.drop) {\n    cur.dropzone.fire(events.drop);\n  }\n\n  if (events.deactivate) {\n    fireActivationEvents(activeDrops, events.deactivate);\n  }\n\n  dropState.prev.dropzone = cur.dropzone;\n  dropState.prev.element = cur.element;\n}\n\nfunction onEventCreated({\n  interaction,\n  iEvent,\n  event\n}, scope) {\n  if (iEvent.type !== 'dragmove' && iEvent.type !== 'dragend') {\n    return;\n  }\n\n  const dropState = interaction.dropState;\n\n  if (scope.dynamicDrop) {\n    dropState.activeDrops = getActiveDrops(scope, interaction.element);\n  }\n\n  const dragEvent = iEvent;\n  const dropResult = getDrop(interaction, dragEvent, event); // update rejected status\n\n  dropState.rejected = dropState.rejected && !!dropResult && dropResult.dropzone === dropState.cur.dropzone && dropResult.element === dropState.cur.element;\n  dropState.cur.dropzone = dropResult && dropResult.dropzone;\n  dropState.cur.element = dropResult && dropResult.element;\n  dropState.events = getDropEvents(interaction, event, dragEvent);\n}\n\nfunction dropzoneMethod(interactable, options) {\n  if (is.object(options)) {\n    interactable.options.drop.enabled = options.enabled !== false;\n\n    if (options.listeners) {\n      const normalized = normalizeListeners(options.listeners); // rename 'drop' to '' as it will be prefixed with 'drop'\n\n      const corrected = Object.keys(normalized).reduce((acc, type) => {\n        const correctedType = /^(enter|leave)/.test(type) ? `drag${type}` : /^(activate|deactivate|move)/.test(type) ? `drop${type}` : type;\n        acc[correctedType] = normalized[type];\n        return acc;\n      }, {});\n      const prevListeners = interactable.options.drop.listeners;\n      prevListeners && interactable.off(prevListeners);\n      interactable.on(corrected);\n      interactable.options.drop.listeners = corrected;\n    }\n\n    if (is.func(options.ondrop)) {\n      interactable.on('drop', options.ondrop);\n    }\n\n    if (is.func(options.ondropactivate)) {\n      interactable.on('dropactivate', options.ondropactivate);\n    }\n\n    if (is.func(options.ondropdeactivate)) {\n      interactable.on('dropdeactivate', options.ondropdeactivate);\n    }\n\n    if (is.func(options.ondragenter)) {\n      interactable.on('dragenter', options.ondragenter);\n    }\n\n    if (is.func(options.ondragleave)) {\n      interactable.on('dragleave', options.ondragleave);\n    }\n\n    if (is.func(options.ondropmove)) {\n      interactable.on('dropmove', options.ondropmove);\n    }\n\n    if (/^(pointer|center)$/.test(options.overlap)) {\n      interactable.options.drop.overlap = options.overlap;\n    } else if (is.number(options.overlap)) {\n      interactable.options.drop.overlap = Math.max(Math.min(1, options.overlap), 0);\n    }\n\n    if ('accept' in options) {\n      interactable.options.drop.accept = options.accept;\n    }\n\n    if ('checker' in options) {\n      interactable.options.drop.checker = options.checker;\n    }\n\n    return interactable;\n  }\n\n  if (is.bool(options)) {\n    interactable.options.drop.enabled = options;\n    return interactable;\n  }\n\n  return interactable.options.drop;\n}\n\nfunction dropCheckMethod(interactable, dragEvent, event, draggable, draggableElement, dropElement, rect) {\n  let dropped = false; // if the dropzone has no rect (eg. display: none)\n  // call the custom dropChecker or just return false\n\n  if (!(rect = rect || interactable.getRect(dropElement))) {\n    return interactable.options.drop.checker ? interactable.options.drop.checker(dragEvent, event, dropped, interactable, dropElement, draggable, draggableElement) : false;\n  }\n\n  const dropOverlap = interactable.options.drop.overlap;\n\n  if (dropOverlap === 'pointer') {\n    const origin = getOriginXY(draggable, draggableElement, 'drag');\n    const page = pointerUtils.getPageXY(dragEvent);\n    page.x += origin.x;\n    page.y += origin.y;\n    const horizontal = page.x > rect.left && page.x < rect.right;\n    const vertical = page.y > rect.top && page.y < rect.bottom;\n    dropped = horizontal && vertical;\n  }\n\n  const dragRect = draggable.getRect(draggableElement);\n\n  if (dragRect && dropOverlap === 'center') {\n    const cx = dragRect.left + dragRect.width / 2;\n    const cy = dragRect.top + dragRect.height / 2;\n    dropped = cx >= rect.left && cx <= rect.right && cy >= rect.top && cy <= rect.bottom;\n  }\n\n  if (dragRect && is.number(dropOverlap)) {\n    const overlapArea = Math.max(0, Math.min(rect.right, dragRect.right) - Math.max(rect.left, dragRect.left)) * Math.max(0, Math.min(rect.bottom, dragRect.bottom) - Math.max(rect.top, dragRect.top));\n    const overlapRatio = overlapArea / (dragRect.width * dragRect.height);\n    dropped = overlapRatio >= dropOverlap;\n  }\n\n  if (interactable.options.drop.checker) {\n    dropped = interactable.options.drop.checker(dragEvent, event, dropped, interactable, dropElement, draggable, draggableElement);\n  }\n\n  return dropped;\n}\n\nconst drop = {\n  id: 'actions/drop',\n  install,\n  listeners: {\n    'interactions:before-action-start': ({\n      interaction\n    }) => {\n      if (interaction.prepared.name !== 'drag') {\n        return;\n      }\n\n      interaction.dropState = {\n        cur: {\n          dropzone: null,\n          element: null\n        },\n        prev: {\n          dropzone: null,\n          element: null\n        },\n        rejected: null,\n        events: null,\n        activeDrops: []\n      };\n    },\n    'interactions:after-action-start': ({\n      interaction,\n      event,\n      iEvent: dragEvent\n    }, scope) => {\n      if (interaction.prepared.name !== 'drag') {\n        return;\n      }\n\n      const dropState = interaction.dropState; // reset active dropzones\n\n      dropState.activeDrops = [];\n      dropState.events = {};\n      dropState.activeDrops = getActiveDrops(scope, interaction.element);\n      dropState.events = getDropEvents(interaction, event, dragEvent);\n\n      if (dropState.events.activate) {\n        fireActivationEvents(dropState.activeDrops, dropState.events.activate);\n        scope.fire('actions/drop:start', {\n          interaction,\n          dragEvent\n        });\n      }\n    },\n    'interactions:action-move': onEventCreated,\n    'interactions:after-action-move': ({\n      interaction,\n      iEvent: dragEvent\n    }, scope) => {\n      if (interaction.prepared.name !== 'drag') {\n        return;\n      }\n\n      const dropState = interaction.dropState;\n      fireDropEvents(interaction, dropState.events);\n      scope.fire('actions/drop:move', {\n        interaction,\n        dragEvent\n      });\n      dropState.events = {};\n    },\n    'interactions:action-end': (arg, scope) => {\n      if (arg.interaction.prepared.name !== 'drag') {\n        return;\n      }\n\n      const {\n        interaction,\n        iEvent: dragEvent\n      } = arg;\n      onEventCreated(arg, scope);\n      fireDropEvents(interaction, interaction.dropState.events);\n      scope.fire('actions/drop:end', {\n        interaction,\n        dragEvent\n      });\n    },\n    'interactions:stop': ({\n      interaction\n    }) => {\n      if (interaction.prepared.name !== 'drag') {\n        return;\n      }\n\n      const {\n        dropState\n      } = interaction;\n\n      if (dropState) {\n        dropState.activeDrops = null;\n        dropState.events = null;\n        dropState.cur.dropzone = null;\n        dropState.cur.element = null;\n        dropState.prev.dropzone = null;\n        dropState.prev.element = null;\n        dropState.rejected = false;\n      }\n    }\n  },\n  getActiveDrops,\n  getDrop,\n  getDropEvents,\n  fireDropEvents,\n  defaults: {\n    enabled: false,\n    accept: null,\n    overlap: 'pointer'\n  }\n};\nexport default drop;\n//# sourceMappingURL=plugin.js.map","import is from \"../../utils/is.js\";\nimport * as pointerUtils from \"../../utils/pointerUtils.js\";\n\nfunction install(scope) {\n  const {\n    actions,\n    Interactable,\n    defaults\n  } = scope;\n  /**\n   * ```js\n   * interact(element).gesturable({\n   *     onstart: function (event) {},\n   *     onmove : function (event) {},\n   *     onend  : function (event) {},\n   *\n   *     // limit multiple gestures.\n   *     // See the explanation in {@link Interactable.draggable} example\n   *     max: Infinity,\n   *     maxPerElement: 1,\n   * })\n   *\n   * var isGestureable = interact(element).gesturable()\n   * ```\n   *\n   * Gets or sets whether multitouch gestures can be performed on the target\n   *\n   * @param {boolean | object} [options] true/false or An object with event\n   * listeners to be fired on gesture events (makes the Interactable gesturable)\n   * @return {boolean | Interactable} A boolean indicating if this can be the\n   * target of gesture events, or this Interactable\n   */\n\n  Interactable.prototype.gesturable = function (options) {\n    if (is.object(options)) {\n      this.options.gesture.enabled = options.enabled !== false;\n      this.setPerAction('gesture', options);\n      this.setOnEvents('gesture', options);\n      return this;\n    }\n\n    if (is.bool(options)) {\n      this.options.gesture.enabled = options;\n      return this;\n    }\n\n    return this.options.gesture;\n  };\n\n  actions.map.gesture = gesture;\n  actions.methodDict.gesture = 'gesturable';\n  defaults.actions.gesture = gesture.defaults;\n}\n\nfunction updateGestureProps({\n  interaction,\n  iEvent,\n  phase\n}) {\n  if (interaction.prepared.name !== 'gesture') return;\n  const pointers = interaction.pointers.map(p => p.pointer);\n  const starting = phase === 'start';\n  const ending = phase === 'end';\n  const deltaSource = interaction.interactable.options.deltaSource;\n  iEvent.touches = [pointers[0], pointers[1]];\n\n  if (starting) {\n    iEvent.distance = pointerUtils.touchDistance(pointers, deltaSource);\n    iEvent.box = pointerUtils.touchBBox(pointers);\n    iEvent.scale = 1;\n    iEvent.ds = 0;\n    iEvent.angle = pointerUtils.touchAngle(pointers, deltaSource);\n    iEvent.da = 0;\n    interaction.gesture.startDistance = iEvent.distance;\n    interaction.gesture.startAngle = iEvent.angle;\n  } else if (ending) {\n    const prevEvent = interaction.prevEvent;\n    iEvent.distance = prevEvent.distance;\n    iEvent.box = prevEvent.box;\n    iEvent.scale = prevEvent.scale;\n    iEvent.ds = 0;\n    iEvent.angle = prevEvent.angle;\n    iEvent.da = 0;\n  } else {\n    iEvent.distance = pointerUtils.touchDistance(pointers, deltaSource);\n    iEvent.box = pointerUtils.touchBBox(pointers);\n    iEvent.scale = iEvent.distance / interaction.gesture.startDistance;\n    iEvent.angle = pointerUtils.touchAngle(pointers, deltaSource);\n    iEvent.ds = iEvent.scale - interaction.gesture.scale;\n    iEvent.da = iEvent.angle - interaction.gesture.angle;\n  }\n\n  interaction.gesture.distance = iEvent.distance;\n  interaction.gesture.angle = iEvent.angle;\n\n  if (is.number(iEvent.scale) && iEvent.scale !== Infinity && !isNaN(iEvent.scale)) {\n    interaction.gesture.scale = iEvent.scale;\n  }\n}\n\nconst gesture = {\n  id: 'actions/gesture',\n  before: ['actions/drag', 'actions/resize'],\n  install,\n  listeners: {\n    'interactions:action-start': updateGestureProps,\n    'interactions:action-move': updateGestureProps,\n    'interactions:action-end': updateGestureProps,\n    'interactions:new': ({\n      interaction\n    }) => {\n      interaction.gesture = {\n        angle: 0,\n        distance: 0,\n        scale: 1,\n        startAngle: 0,\n        startDistance: 0\n      };\n    },\n    'auto-start:check': arg => {\n      if (arg.interaction.pointers.length < 2) {\n        return undefined;\n      }\n\n      const gestureOptions = arg.interactable.options.gesture;\n\n      if (!(gestureOptions && gestureOptions.enabled)) {\n        return undefined;\n      }\n\n      arg.action = {\n        name: 'gesture'\n      };\n      return false;\n    }\n  },\n  defaults: {},\n\n  getCursor() {\n    return '';\n  }\n\n};\nexport default gesture;\n//# sourceMappingURL=plugin.js.map","import * as dom from \"../../utils/domUtils.js\";\nimport extend from \"../../utils/extend.js\";\nimport is from \"../../utils/is.js\";\n\nfunction install(scope) {\n  const {\n    actions,\n    browser,\n\n    /** @lends Interactable */\n    Interactable,\n    // tslint:disable-line no-shadowed-variable\n    defaults\n  } = scope; // Less Precision with touch input\n\n  resize.cursors = initCursors(browser);\n  resize.defaultMargin = browser.supportsTouch || browser.supportsPointerEvent ? 20 : 10;\n  /**\n   * ```js\n   * interact(element).resizable({\n   *   onstart: function (event) {},\n   *   onmove : function (event) {},\n   *   onend  : function (event) {},\n   *\n   *   edges: {\n   *     top   : true,       // Use pointer coords to check for resize.\n   *     left  : false,      // Disable resizing from left edge.\n   *     bottom: '.resize-s',// Resize if pointer target matches selector\n   *     right : handleEl    // Resize if pointer target is the given Element\n   *   },\n   *\n   *     // Width and height can be adjusted independently. When `true`, width and\n   *     // height are adjusted at a 1:1 ratio.\n   *     square: false,\n   *\n   *     // Width and height can be adjusted independently. When `true`, width and\n   *     // height maintain the aspect ratio they had when resizing started.\n   *     preserveAspectRatio: false,\n   *\n   *   // a value of 'none' will limit the resize rect to a minimum of 0x0\n   *   // 'negate' will allow the rect to have negative width/height\n   *   // 'reposition' will keep the width/height positive by swapping\n   *   // the top and bottom edges and/or swapping the left and right edges\n   *   invert: 'none' || 'negate' || 'reposition'\n   *\n   *   // limit multiple resizes.\n   *   // See the explanation in the {@link Interactable.draggable} example\n   *   max: Infinity,\n   *   maxPerElement: 1,\n   * })\n   *\n   * var isResizeable = interact(element).resizable()\n   * ```\n   *\n   * Gets or sets whether resize actions can be performed on the target\n   *\n   * @param {boolean | object} [options] true/false or An object with event\n   * listeners to be fired on resize events (object makes the Interactable\n   * resizable)\n   * @return {boolean | Interactable} A boolean indicating if this can be the\n   * target of resize elements, or this Interactable\n   */\n\n  Interactable.prototype.resizable = function (options) {\n    return resizable(this, options, scope);\n  };\n\n  actions.map.resize = resize;\n  actions.methodDict.resize = 'resizable';\n  defaults.actions.resize = resize.defaults;\n}\n\nfunction resizeChecker(arg) {\n  const {\n    interaction,\n    interactable,\n    element,\n    rect,\n    buttons\n  } = arg;\n\n  if (!rect) {\n    return undefined;\n  }\n\n  const page = extend({}, interaction.coords.cur.page);\n  const resizeOptions = interactable.options.resize;\n\n  if (!(resizeOptions && resizeOptions.enabled) || // check mouseButton setting if the pointer is down\n  interaction.pointerIsDown && /mouse|pointer/.test(interaction.pointerType) && (buttons & resizeOptions.mouseButtons) === 0) {\n    return undefined;\n  } // if using resize.edges\n\n\n  if (is.object(resizeOptions.edges)) {\n    const resizeEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n\n    for (const edge in resizeEdges) {\n      resizeEdges[edge] = checkResizeEdge(edge, resizeOptions.edges[edge], page, interaction._latestPointer.eventTarget, element, rect, resizeOptions.margin || resize.defaultMargin);\n    }\n\n    resizeEdges.left = resizeEdges.left && !resizeEdges.right;\n    resizeEdges.top = resizeEdges.top && !resizeEdges.bottom;\n\n    if (resizeEdges.left || resizeEdges.right || resizeEdges.top || resizeEdges.bottom) {\n      arg.action = {\n        name: 'resize',\n        edges: resizeEdges\n      };\n    }\n  } else {\n    const right = resizeOptions.axis !== 'y' && page.x > rect.right - resize.defaultMargin;\n    const bottom = resizeOptions.axis !== 'x' && page.y > rect.bottom - resize.defaultMargin;\n\n    if (right || bottom) {\n      arg.action = {\n        name: 'resize',\n        axes: (right ? 'x' : '') + (bottom ? 'y' : '')\n      };\n    }\n  }\n\n  return arg.action ? false : undefined;\n}\n\nfunction resizable(interactable, options, scope) {\n  if (is.object(options)) {\n    interactable.options.resize.enabled = options.enabled !== false;\n    interactable.setPerAction('resize', options);\n    interactable.setOnEvents('resize', options);\n\n    if (is.string(options.axis) && /^x$|^y$|^xy$/.test(options.axis)) {\n      interactable.options.resize.axis = options.axis;\n    } else if (options.axis === null) {\n      interactable.options.resize.axis = scope.defaults.actions.resize.axis;\n    }\n\n    if (is.bool(options.preserveAspectRatio)) {\n      interactable.options.resize.preserveAspectRatio = options.preserveAspectRatio;\n    } else if (is.bool(options.square)) {\n      interactable.options.resize.square = options.square;\n    }\n\n    return interactable;\n  }\n\n  if (is.bool(options)) {\n    interactable.options.resize.enabled = options;\n    return interactable;\n  }\n\n  return interactable.options.resize;\n}\n\nfunction checkResizeEdge(name, value, page, element, interactableElement, rect, margin) {\n  // false, '', undefined, null\n  if (!value) {\n    return false;\n  } // true value, use pointer coords and element rect\n\n\n  if (value === true) {\n    // if dimensions are negative, \"switch\" edges\n    const width = is.number(rect.width) ? rect.width : rect.right - rect.left;\n    const height = is.number(rect.height) ? rect.height : rect.bottom - rect.top; // don't use margin greater than half the relevent dimension\n\n    margin = Math.min(margin, Math.abs((name === 'left' || name === 'right' ? width : height) / 2));\n\n    if (width < 0) {\n      if (name === 'left') {\n        name = 'right';\n      } else if (name === 'right') {\n        name = 'left';\n      }\n    }\n\n    if (height < 0) {\n      if (name === 'top') {\n        name = 'bottom';\n      } else if (name === 'bottom') {\n        name = 'top';\n      }\n    }\n\n    if (name === 'left') {\n      const edge = width >= 0 ? rect.left : rect.right;\n      return page.x < edge + margin;\n    }\n\n    if (name === 'top') {\n      const edge = height >= 0 ? rect.top : rect.bottom;\n      return page.y < edge + margin;\n    }\n\n    if (name === 'right') {\n      return page.x > (width >= 0 ? rect.right : rect.left) - margin;\n    }\n\n    if (name === 'bottom') {\n      return page.y > (height >= 0 ? rect.bottom : rect.top) - margin;\n    }\n  } // the remaining checks require an element\n\n\n  if (!is.element(element)) {\n    return false;\n  }\n\n  return is.element(value) ? // the value is an element to use as a resize handle\n  value === element : // otherwise check if element matches value as selector\n  dom.matchesUpTo(element, value, interactableElement);\n}\n/* eslint-disable multiline-ternary */\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\n\n\nfunction initCursors(browser) {\n  return browser.isIe9 ? {\n    x: 'e-resize',\n    y: 's-resize',\n    xy: 'se-resize',\n    top: 'n-resize',\n    left: 'w-resize',\n    bottom: 's-resize',\n    right: 'e-resize',\n    topleft: 'se-resize',\n    bottomright: 'se-resize',\n    topright: 'ne-resize',\n    bottomleft: 'ne-resize'\n  } : {\n    x: 'ew-resize',\n    y: 'ns-resize',\n    xy: 'nwse-resize',\n    top: 'ns-resize',\n    left: 'ew-resize',\n    bottom: 'ns-resize',\n    right: 'ew-resize',\n    topleft: 'nwse-resize',\n    bottomright: 'nwse-resize',\n    topright: 'nesw-resize',\n    bottomleft: 'nesw-resize'\n  };\n}\n/* eslint-enable multiline-ternary */\n\n\nfunction start({\n  iEvent,\n  interaction\n}) {\n  if (interaction.prepared.name !== 'resize' || !interaction.prepared.edges) {\n    return;\n  }\n\n  const resizeEvent = iEvent;\n  const rect = interaction.rect;\n  interaction._rects = {\n    start: extend({}, rect),\n    corrected: extend({}, rect),\n    previous: extend({}, rect),\n    delta: {\n      left: 0,\n      right: 0,\n      width: 0,\n      top: 0,\n      bottom: 0,\n      height: 0\n    }\n  };\n  resizeEvent.edges = interaction.prepared.edges;\n  resizeEvent.rect = interaction._rects.corrected;\n  resizeEvent.deltaRect = interaction._rects.delta;\n}\n\nfunction move({\n  iEvent,\n  interaction\n}) {\n  if (interaction.prepared.name !== 'resize' || !interaction.prepared.edges) return;\n  const resizeEvent = iEvent;\n  const resizeOptions = interaction.interactable.options.resize;\n  const invert = resizeOptions.invert;\n  const invertible = invert === 'reposition' || invert === 'negate';\n  const current = interaction.rect;\n  const {\n    start: startRect,\n    corrected,\n    delta: deltaRect,\n    previous\n  } = interaction._rects;\n  extend(previous, corrected);\n\n  if (invertible) {\n    // if invertible, copy the current rect\n    extend(corrected, current);\n\n    if (invert === 'reposition') {\n      // swap edge values if necessary to keep width/height positive\n      if (corrected.top > corrected.bottom) {\n        const swap = corrected.top;\n        corrected.top = corrected.bottom;\n        corrected.bottom = swap;\n      }\n\n      if (corrected.left > corrected.right) {\n        const swap = corrected.left;\n        corrected.left = corrected.right;\n        corrected.right = swap;\n      }\n    }\n  } else {\n    // if not invertible, restrict to minimum of 0x0 rect\n    corrected.top = Math.min(current.top, startRect.bottom);\n    corrected.bottom = Math.max(current.bottom, startRect.top);\n    corrected.left = Math.min(current.left, startRect.right);\n    corrected.right = Math.max(current.right, startRect.left);\n  }\n\n  corrected.width = corrected.right - corrected.left;\n  corrected.height = corrected.bottom - corrected.top;\n\n  for (const edge in corrected) {\n    deltaRect[edge] = corrected[edge] - previous[edge];\n  }\n\n  resizeEvent.edges = interaction.prepared.edges;\n  resizeEvent.rect = corrected;\n  resizeEvent.deltaRect = deltaRect;\n}\n\nfunction end({\n  iEvent,\n  interaction\n}) {\n  if (interaction.prepared.name !== 'resize' || !interaction.prepared.edges) return;\n  const resizeEvent = iEvent;\n  resizeEvent.edges = interaction.prepared.edges;\n  resizeEvent.rect = interaction._rects.corrected;\n  resizeEvent.deltaRect = interaction._rects.delta;\n}\n\nfunction updateEventAxes({\n  iEvent,\n  interaction\n}) {\n  if (interaction.prepared.name !== 'resize' || !interaction.resizeAxes) return;\n  const options = interaction.interactable.options;\n  const resizeEvent = iEvent;\n\n  if (options.resize.square) {\n    if (interaction.resizeAxes === 'y') {\n      resizeEvent.delta.x = resizeEvent.delta.y;\n    } else {\n      resizeEvent.delta.y = resizeEvent.delta.x;\n    }\n\n    resizeEvent.axes = 'xy';\n  } else {\n    resizeEvent.axes = interaction.resizeAxes;\n\n    if (interaction.resizeAxes === 'x') {\n      resizeEvent.delta.y = 0;\n    } else if (interaction.resizeAxes === 'y') {\n      resizeEvent.delta.x = 0;\n    }\n  }\n}\n\nconst resize = {\n  id: 'actions/resize',\n  before: ['actions/drag'],\n  install,\n  listeners: {\n    'interactions:new': ({\n      interaction\n    }) => {\n      interaction.resizeAxes = 'xy';\n    },\n    'interactions:action-start': arg => {\n      start(arg);\n      updateEventAxes(arg);\n    },\n    'interactions:action-move': arg => {\n      move(arg);\n      updateEventAxes(arg);\n    },\n    'interactions:action-end': end,\n    'auto-start:check': resizeChecker\n  },\n  defaults: {\n    square: false,\n    preserveAspectRatio: false,\n    axis: 'xy',\n    // use default margin\n    margin: NaN,\n    // object with props left, right, top, bottom which are\n    // true/false values to resize when the pointer is over that edge,\n    // CSS selectors to match the handles for each direction\n    // or the Elements for each handle\n    edges: null,\n    // a value of 'none' will limit the resize rect to a minimum of 0x0\n    // 'negate' will alow the rect to have negative width/height\n    // 'reposition' will keep the width/height positive by swapping\n    // the top and bottom edges and/or swapping the left and right edges\n    invert: 'none'\n  },\n  cursors: null,\n\n  getCursor({\n    edges,\n    axis,\n    name\n  }) {\n    const cursors = resize.cursors;\n    let result = null;\n\n    if (axis) {\n      result = cursors[name + axis];\n    } else if (edges) {\n      let cursorKey = '';\n\n      for (const edge of ['top', 'bottom', 'left', 'right']) {\n        if (edges[edge]) {\n          cursorKey += edge;\n        }\n      }\n\n      result = cursors[cursorKey];\n    }\n\n    return result;\n  },\n\n  defaultMargin: null\n};\nexport default resize;\n//# sourceMappingURL=plugin.js.map","/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './drag/plugin';\nimport './drop/plugin';\nimport './gesture/plugin';\nimport './resize/plugin';\nimport drag from './drag/plugin';\nimport drop from './drop/plugin';\nimport gesture from './gesture/plugin';\nimport resize from './resize/plugin';\n/* eslint-enable import/no-duplicates */\n\nexport default {\n  id: 'actions',\n\n  install(scope) {\n    scope.usePlugin(gesture);\n    scope.usePlugin(resize);\n    scope.usePlugin(drag);\n    scope.usePlugin(drop);\n  }\n\n};\n//# sourceMappingURL=plugin.js.map","let lastTime = 0;\nlet request;\nlet cancel;\n\nfunction init(global) {\n  request = global.requestAnimationFrame;\n  cancel = global.cancelAnimationFrame;\n\n  if (!request) {\n    const vendors = ['ms', 'moz', 'webkit', 'o'];\n\n    for (const vendor of vendors) {\n      request = global[`${vendor}RequestAnimationFrame`];\n      cancel = global[`${vendor}CancelAnimationFrame`] || global[`${vendor}CancelRequestAnimationFrame`];\n    }\n  }\n\n  request = request && request.bind(global);\n  cancel = cancel && cancel.bind(global);\n\n  if (!request) {\n    request = callback => {\n      const currTime = Date.now();\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      const token = global.setTimeout(() => {\n        // eslint-disable-next-line n/no-callback-literal\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return token;\n    };\n\n    cancel = token => clearTimeout(token);\n  }\n}\n\nexport default {\n  request: callback => request(callback),\n  cancel: token => cancel(token),\n  init\n};\n//# sourceMappingURL=raf.js.map","import * as domUtils from \"../utils/domUtils.js\";\nimport is from \"../utils/is.js\";\nimport raf from \"../utils/raf.js\";\nimport { getStringOptionResult } from \"../utils/rect.js\";\nimport { getWindow } from \"../utils/window.js\";\n\nfunction install(scope) {\n  const {\n    defaults,\n    actions\n  } = scope;\n  scope.autoScroll = autoScroll;\n\n  autoScroll.now = () => scope.now();\n\n  actions.phaselessTypes.autoscroll = true;\n  defaults.perAction.autoScroll = autoScroll.defaults;\n}\n\nconst autoScroll = {\n  defaults: {\n    enabled: false,\n    margin: 60,\n    // the item that is scrolled (Window or HTMLElement)\n    container: null,\n    // the scroll speed in pixels per second\n    speed: 300\n  },\n  now: Date.now,\n  interaction: null,\n  i: 0,\n  // the handle returned by window.setInterval\n  // Direction each pulse is to scroll in\n  x: 0,\n  y: 0,\n  isScrolling: false,\n  prevTime: 0,\n  margin: 0,\n  speed: 0,\n\n  start(interaction) {\n    autoScroll.isScrolling = true;\n    raf.cancel(autoScroll.i);\n    interaction.autoScroll = autoScroll;\n    autoScroll.interaction = interaction;\n    autoScroll.prevTime = autoScroll.now();\n    autoScroll.i = raf.request(autoScroll.scroll);\n  },\n\n  stop() {\n    autoScroll.isScrolling = false;\n\n    if (autoScroll.interaction) {\n      autoScroll.interaction.autoScroll = null;\n    }\n\n    raf.cancel(autoScroll.i);\n  },\n\n  // scroll the window by the values in scroll.x/y\n  scroll() {\n    const {\n      interaction\n    } = autoScroll;\n    const {\n      interactable,\n      element\n    } = interaction;\n    const actionName = interaction.prepared.name;\n    const options = interactable.options[actionName].autoScroll;\n    const container = getContainer(options.container, interactable, element);\n    const now = autoScroll.now(); // change in time in seconds\n\n    const dt = (now - autoScroll.prevTime) / 1000; // displacement\n\n    const s = options.speed * dt;\n\n    if (s >= 1) {\n      const scrollBy = {\n        x: autoScroll.x * s,\n        y: autoScroll.y * s\n      };\n\n      if (scrollBy.x || scrollBy.y) {\n        const prevScroll = getScroll(container);\n\n        if (is.window(container)) {\n          container.scrollBy(scrollBy.x, scrollBy.y);\n        } else if (container) {\n          container.scrollLeft += scrollBy.x;\n          container.scrollTop += scrollBy.y;\n        }\n\n        const curScroll = getScroll(container);\n        const delta = {\n          x: curScroll.x - prevScroll.x,\n          y: curScroll.y - prevScroll.y\n        };\n\n        if (delta.x || delta.y) {\n          interactable.fire({\n            type: 'autoscroll',\n            target: element,\n            interactable,\n            delta,\n            interaction,\n            container\n          });\n        }\n      }\n\n      autoScroll.prevTime = now;\n    }\n\n    if (autoScroll.isScrolling) {\n      raf.cancel(autoScroll.i);\n      autoScroll.i = raf.request(autoScroll.scroll);\n    }\n  },\n\n  check(interactable, actionName) {\n    var _options$actionName$a;\n\n    const options = interactable.options;\n    return (_options$actionName$a = options[actionName].autoScroll) == null ? void 0 : _options$actionName$a.enabled;\n  },\n\n  onInteractionMove({\n    interaction,\n    pointer\n  }) {\n    if (!(interaction.interacting() && autoScroll.check(interaction.interactable, interaction.prepared.name))) {\n      return;\n    }\n\n    if (interaction.simulation) {\n      autoScroll.x = autoScroll.y = 0;\n      return;\n    }\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n    const {\n      interactable,\n      element\n    } = interaction;\n    const actionName = interaction.prepared.name;\n    const options = interactable.options[actionName].autoScroll;\n    const container = getContainer(options.container, interactable, element);\n\n    if (is.window(container)) {\n      left = pointer.clientX < autoScroll.margin;\n      top = pointer.clientY < autoScroll.margin;\n      right = pointer.clientX > container.innerWidth - autoScroll.margin;\n      bottom = pointer.clientY > container.innerHeight - autoScroll.margin;\n    } else {\n      const rect = domUtils.getElementClientRect(container);\n      left = pointer.clientX < rect.left + autoScroll.margin;\n      top = pointer.clientY < rect.top + autoScroll.margin;\n      right = pointer.clientX > rect.right - autoScroll.margin;\n      bottom = pointer.clientY > rect.bottom - autoScroll.margin;\n    }\n\n    autoScroll.x = right ? 1 : left ? -1 : 0;\n    autoScroll.y = bottom ? 1 : top ? -1 : 0;\n\n    if (!autoScroll.isScrolling) {\n      // set the autoScroll properties to those of the target\n      autoScroll.margin = options.margin;\n      autoScroll.speed = options.speed;\n      autoScroll.start(interaction);\n    }\n  }\n\n};\nexport function getContainer(value, interactable, element) {\n  return (is.string(value) ? getStringOptionResult(value, interactable, element) : value) || getWindow(element);\n}\nexport function getScroll(container) {\n  if (is.window(container)) {\n    container = window.document.body;\n  }\n\n  return {\n    x: container.scrollLeft,\n    y: container.scrollTop\n  };\n}\nexport function getScrollSize(container) {\n  if (is.window(container)) {\n    container = window.document.body;\n  }\n\n  return {\n    x: container.scrollWidth,\n    y: container.scrollHeight\n  };\n}\nexport function getScrollSizeDelta({\n  interaction,\n  element\n}, func) {\n  const scrollOptions = interaction && interaction.interactable.options[interaction.prepared.name].autoScroll;\n\n  if (!scrollOptions || !scrollOptions.enabled) {\n    func();\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  const scrollContainer = getContainer(scrollOptions.container, interaction.interactable, element);\n  const prevSize = getScroll(scrollContainer);\n  func();\n  const curSize = getScroll(scrollContainer);\n  return {\n    x: curSize.x - prevSize.x,\n    y: curSize.y - prevSize.y\n  };\n}\nconst autoScrollPlugin = {\n  id: 'auto-scroll',\n  install,\n  listeners: {\n    'interactions:new': ({\n      interaction\n    }) => {\n      interaction.autoScroll = null;\n    },\n    'interactions:destroy': ({\n      interaction\n    }) => {\n      interaction.autoScroll = null;\n      autoScroll.stop();\n\n      if (autoScroll.interaction) {\n        autoScroll.interaction = null;\n      }\n    },\n    'interactions:stop': autoScroll.stop,\n    'interactions:action-move': arg => autoScroll.onInteractionMove(arg)\n  }\n};\nexport default autoScrollPlugin;\n//# sourceMappingURL=plugin.js.map","import { window } from './window';\nexport function warnOnce(method, message) {\n  let warned = false;\n  return function () {\n    if (!warned) {\n      ;\n      window.console.warn(message);\n      warned = true;\n    }\n\n    return method.apply(this, arguments);\n  };\n}\nexport function copyAction(dest, src) {\n  dest.name = src.name;\n  dest.axis = src.axis;\n  dest.edges = src.edges;\n  return dest;\n}\nexport const sign = n => n >= 0 ? 1 : -1;\n//# sourceMappingURL=misc.js.map","import is from \"../utils/is.js\";\nimport { warnOnce } from \"../utils/misc.js\";\n\nfunction install(scope) {\n  const {\n    /** @lends Interactable */\n    Interactable // tslint:disable-line no-shadowed-variable\n\n  } = scope;\n\n  Interactable.prototype.getAction = function getAction(pointer, event, interaction, element) {\n    const action = defaultActionChecker(this, event, interaction, element, scope);\n\n    if (this.options.actionChecker) {\n      return this.options.actionChecker(pointer, event, action, this, element, interaction);\n    }\n\n    return action;\n  };\n  /**\n   * If the target of the `mousedown`, `pointerdown` or `touchstart` event or any\n   * of it's parents match the given CSS selector or Element, no\n   * drag/resize/gesture is started.\n   *\n   * @deprecated\n   * Don't use this method. Instead set the `ignoreFrom` option for each action\n   * or for `pointerEvents`\n   *\n   * ```js\n   * interact(targett)\n   *   .draggable({\n   *     ignoreFrom: 'input, textarea, a[href]'',\n   *   })\n   *   .pointerEvents({\n   *     ignoreFrom: '[no-pointer]',\n   *   })\n   * ```\n   *\n   * @param {string | Element | null} [newValue] a CSS selector string, an\n   * Element or `null` to not ignore any elements\n   * @return {string | Element | object} The current ignoreFrom value or this\n   * Interactable\n   */\n\n\n  Interactable.prototype.ignoreFrom = warnOnce(function (newValue) {\n    return this._backCompatOption('ignoreFrom', newValue);\n  }, 'Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue}).');\n  /**\n   *\n   * A drag/resize/gesture is started only If the target of the `mousedown`,\n   * `pointerdown` or `touchstart` event or any of it's parents match the given\n   * CSS selector or Element.\n   *\n   * @deprecated\n   * Don't use this method. Instead set the `allowFrom` option for each action\n   * or for `pointerEvents`\n   *\n   * ```js\n   * interact(targett)\n   *   .resizable({\n   *     allowFrom: '.resize-handle',\n   *   .pointerEvents({\n   *     allowFrom: '.handle',,\n   *   })\n   * ```\n   *\n   * @param {string | Element | null} [newValue] a CSS selector string, an\n   * Element or `null` to allow from any element\n   * @return {string | Element | object} The current allowFrom value or this\n   * Interactable\n   */\n\n  Interactable.prototype.allowFrom = warnOnce(function (newValue) {\n    return this._backCompatOption('allowFrom', newValue);\n  }, 'Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue}).');\n  /**\n   * ```js\n   * interact('.resize-drag')\n   *   .resizable(true)\n   *   .draggable(true)\n   *   .actionChecker(function (pointer, event, action, interactable, element, interaction) {\n   *\n   *     if (interact.matchesSelector(event.target, '.drag-handle')) {\n   *       // force drag with handle target\n   *       action.name = drag\n   *     }\n   *     else {\n   *       // resize from the top and right edges\n   *       action.name  = 'resize'\n   *       action.edges = { top: true, right: true }\n   *     }\n   *\n   *     return action\n   * })\n   * ```\n   *\n   * Returns or sets the function used to check action to be performed on\n   * pointerDown\n   *\n   * @param {function | null} [checker] A function which takes a pointer event,\n   * defaultAction string, interactable, element and interaction as parameters\n   * and returns an object with name property 'drag' 'resize' or 'gesture' and\n   * optionally an `edges` object with boolean 'top', 'left', 'bottom' and right\n   * props.\n   * @return {Function | Interactable} The checker function or this Interactable\n   */\n\n  Interactable.prototype.actionChecker = actionChecker;\n  /**\n   * Returns or sets whether the the cursor should be changed depending on the\n   * action that would be performed if the mouse were pressed and dragged.\n   *\n   * @param {boolean} [newValue]\n   * @return {boolean | Interactable} The current setting or this Interactable\n   */\n\n  Interactable.prototype.styleCursor = styleCursor;\n}\n\nfunction defaultActionChecker(interactable, event, interaction, element, scope) {\n  const rect = interactable.getRect(element);\n  const buttons = event.buttons || {\n    0: 1,\n    1: 4,\n    3: 8,\n    4: 16\n  }[event.button];\n  const arg = {\n    action: null,\n    interactable,\n    interaction,\n    element,\n    rect,\n    buttons\n  };\n  scope.fire('auto-start:check', arg);\n  return arg.action;\n}\n\nfunction styleCursor(newValue) {\n  if (is.bool(newValue)) {\n    this.options.styleCursor = newValue;\n    return this;\n  }\n\n  if (newValue === null) {\n    delete this.options.styleCursor;\n    return this;\n  }\n\n  return this.options.styleCursor;\n}\n\nfunction actionChecker(checker) {\n  if (is.func(checker)) {\n    this.options.actionChecker = checker;\n    return this;\n  }\n\n  if (checker === null) {\n    delete this.options.actionChecker;\n    return this;\n  }\n\n  return this.options.actionChecker;\n}\n\nexport default {\n  id: 'auto-start/interactableMethods',\n  install\n};\n//# sourceMappingURL=InteractableMethods.js.map","import * as domUtils from \"../utils/domUtils.js\";\nimport extend from \"../utils/extend.js\";\nimport is from \"../utils/is.js\";\nimport { copyAction } from \"../utils/misc.js\";\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\n\nimport './InteractableMethods';\nimport InteractableMethods from './InteractableMethods';\n/* eslint-enable import/no-duplicates */\n\nfunction install(scope) {\n  const {\n    interactStatic: interact,\n    defaults\n  } = scope;\n  scope.usePlugin(InteractableMethods);\n  defaults.base.actionChecker = null;\n  defaults.base.styleCursor = true;\n  extend(defaults.perAction, {\n    manualStart: false,\n    max: Infinity,\n    maxPerElement: 1,\n    allowFrom: null,\n    ignoreFrom: null,\n    // only allow left button by default\n    // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons#Return_value\n    mouseButtons: 1\n  });\n  /**\n   * Returns or sets the maximum number of concurrent interactions allowed.  By\n   * default only 1 interaction is allowed at a time (for backwards\n   * compatibility). To allow multiple interactions on the same Interactables and\n   * elements, you need to enable it in the draggable, resizable and gesturable\n   * `'max'` and `'maxPerElement'` options.\n   *\n   * @alias module:interact.maxInteractions\n   *\n   * @param {number} [newValue] Any number. newValue <= 0 means no interactions.\n   */\n\n  interact.maxInteractions = newValue => maxInteractions(newValue, scope);\n\n  scope.autoStart = {\n    // Allow this many interactions to happen simultaneously\n    maxInteractions: Infinity,\n    withinInteractionLimit,\n    cursorElement: null\n  };\n}\n\nfunction prepareOnDown({\n  interaction,\n  pointer,\n  event,\n  eventTarget\n}, scope) {\n  if (interaction.interacting()) return;\n  const actionInfo = getActionInfo(interaction, pointer, event, eventTarget, scope);\n  prepare(interaction, actionInfo, scope);\n}\n\nfunction prepareOnMove({\n  interaction,\n  pointer,\n  event,\n  eventTarget\n}, scope) {\n  if (interaction.pointerType !== 'mouse' || interaction.pointerIsDown || interaction.interacting()) return;\n  const actionInfo = getActionInfo(interaction, pointer, event, eventTarget, scope);\n  prepare(interaction, actionInfo, scope);\n}\n\nfunction startOnMove(arg, scope) {\n  const {\n    interaction\n  } = arg;\n\n  if (!interaction.pointerIsDown || interaction.interacting() || !interaction.pointerWasMoved || !interaction.prepared.name) {\n    return;\n  }\n\n  scope.fire('autoStart:before-start', arg);\n  const {\n    interactable\n  } = interaction;\n  const actionName = interaction.prepared.name;\n\n  if (actionName && interactable) {\n    // check manualStart and interaction limit\n    if (interactable.options[actionName].manualStart || !withinInteractionLimit(interactable, interaction.element, interaction.prepared, scope)) {\n      interaction.stop();\n    } else {\n      interaction.start(interaction.prepared, interactable, interaction.element);\n      setInteractionCursor(interaction, scope);\n    }\n  }\n}\n\nfunction clearCursorOnStop({\n  interaction\n}, scope) {\n  const {\n    interactable\n  } = interaction;\n\n  if (interactable && interactable.options.styleCursor) {\n    setCursor(interaction.element, '', scope);\n  }\n} // Check if the current interactable supports the action.\n// If so, return the validated action. Otherwise, return null\n\n\nfunction validateAction(action, interactable, element, eventTarget, scope) {\n  if (interactable.testIgnoreAllow(interactable.options[action.name], element, eventTarget) && interactable.options[action.name].enabled && withinInteractionLimit(interactable, element, action, scope)) {\n    return action;\n  }\n\n  return null;\n}\n\nfunction validateMatches(interaction, pointer, event, matches, matchElements, eventTarget, scope) {\n  for (let i = 0, len = matches.length; i < len; i++) {\n    const match = matches[i];\n    const matchElement = matchElements[i];\n    const matchAction = match.getAction(pointer, event, interaction, matchElement);\n\n    if (!matchAction) {\n      continue;\n    }\n\n    const action = validateAction(matchAction, match, matchElement, eventTarget, scope);\n\n    if (action) {\n      return {\n        action,\n        interactable: match,\n        element: matchElement\n      };\n    }\n  }\n\n  return {\n    action: null,\n    interactable: null,\n    element: null\n  };\n}\n\nfunction getActionInfo(interaction, pointer, event, eventTarget, scope) {\n  let matches = [];\n  let matchElements = [];\n  let element = eventTarget;\n\n  function pushMatches(interactable) {\n    matches.push(interactable);\n    matchElements.push(element);\n  }\n\n  while (is.element(element)) {\n    matches = [];\n    matchElements = [];\n    scope.interactables.forEachMatch(element, pushMatches);\n    const actionInfo = validateMatches(interaction, pointer, event, matches, matchElements, eventTarget, scope);\n\n    if (actionInfo.action && !actionInfo.interactable.options[actionInfo.action.name].manualStart) {\n      return actionInfo;\n    }\n\n    element = domUtils.parentNode(element);\n  }\n\n  return {\n    action: null,\n    interactable: null,\n    element: null\n  };\n}\n\nfunction prepare(interaction, {\n  action,\n  interactable,\n  element\n}, scope) {\n  action = action || {\n    name: null\n  };\n  interaction.interactable = interactable;\n  interaction.element = element;\n  copyAction(interaction.prepared, action);\n  interaction.rect = interactable && action.name ? interactable.getRect(element) : null;\n  setInteractionCursor(interaction, scope);\n  scope.fire('autoStart:prepared', {\n    interaction\n  });\n}\n\nfunction withinInteractionLimit(interactable, element, action, scope) {\n  const options = interactable.options;\n  const maxActions = options[action.name].max;\n  const maxPerElement = options[action.name].maxPerElement;\n  const autoStartMax = scope.autoStart.maxInteractions;\n  let activeInteractions = 0;\n  let interactableCount = 0;\n  let elementCount = 0; // no actions if any of these values == 0\n\n  if (!(maxActions && maxPerElement && autoStartMax)) {\n    return false;\n  }\n\n  for (const interaction of scope.interactions.list) {\n    const otherAction = interaction.prepared.name;\n\n    if (!interaction.interacting()) {\n      continue;\n    }\n\n    activeInteractions++;\n\n    if (activeInteractions >= autoStartMax) {\n      return false;\n    }\n\n    if (interaction.interactable !== interactable) {\n      continue;\n    }\n\n    interactableCount += otherAction === action.name ? 1 : 0;\n\n    if (interactableCount >= maxActions) {\n      return false;\n    }\n\n    if (interaction.element === element) {\n      elementCount++;\n\n      if (otherAction === action.name && elementCount >= maxPerElement) {\n        return false;\n      }\n    }\n  }\n\n  return autoStartMax > 0;\n}\n\nfunction maxInteractions(newValue, scope) {\n  if (is.number(newValue)) {\n    scope.autoStart.maxInteractions = newValue;\n    return this;\n  }\n\n  return scope.autoStart.maxInteractions;\n}\n\nfunction setCursor(element, cursor, scope) {\n  const {\n    cursorElement: prevCursorElement\n  } = scope.autoStart;\n\n  if (prevCursorElement && prevCursorElement !== element) {\n    prevCursorElement.style.cursor = '';\n  }\n\n  element.ownerDocument.documentElement.style.cursor = cursor;\n  element.style.cursor = cursor;\n  scope.autoStart.cursorElement = cursor ? element : null;\n}\n\nfunction setInteractionCursor(interaction, scope) {\n  const {\n    interactable,\n    element,\n    prepared\n  } = interaction;\n\n  if (!(interaction.pointerType === 'mouse' && interactable && interactable.options.styleCursor)) {\n    // clear previous target element cursor\n    if (scope.autoStart.cursorElement) {\n      setCursor(scope.autoStart.cursorElement, '', scope);\n    }\n\n    return;\n  }\n\n  let cursor = '';\n\n  if (prepared.name) {\n    const cursorChecker = interactable.options[prepared.name].cursorChecker;\n\n    if (is.func(cursorChecker)) {\n      cursor = cursorChecker(prepared, interactable, element, interaction._interacting);\n    } else {\n      cursor = scope.actions.map[prepared.name].getCursor(prepared);\n    }\n  }\n\n  setCursor(interaction.element, cursor || '', scope);\n}\n\nconst autoStart = {\n  id: 'auto-start/base',\n  before: ['actions'],\n  install,\n  listeners: {\n    'interactions:down': prepareOnDown,\n    'interactions:move': (arg, scope) => {\n      prepareOnMove(arg, scope);\n      startOnMove(arg, scope);\n    },\n    'interactions:stop': clearCursorOnStop\n  },\n  maxInteractions,\n  withinInteractionLimit,\n  validateAction\n};\nexport default autoStart;\n//# sourceMappingURL=base.js.map","import { parentNode } from \"../utils/domUtils.js\";\nimport is from \"../utils/is.js\";\nimport autoStart from './base';\n\nfunction beforeStart({\n  interaction,\n  eventTarget,\n  dx,\n  dy\n}, scope) {\n  if (interaction.prepared.name !== 'drag') return; // check if a drag is in the correct axis\n\n  const absX = Math.abs(dx);\n  const absY = Math.abs(dy);\n  const targetOptions = interaction.interactable.options.drag;\n  const startAxis = targetOptions.startAxis;\n  const currentAxis = absX > absY ? 'x' : absX < absY ? 'y' : 'xy';\n  interaction.prepared.axis = targetOptions.lockAxis === 'start' ? currentAxis[0] // always lock to one axis even if currentAxis === 'xy'\n  : targetOptions.lockAxis; // if the movement isn't in the startAxis of the interactable\n\n  if (currentAxis !== 'xy' && startAxis !== 'xy' && startAxis !== currentAxis) {\n    // cancel the prepared action\n    ;\n    interaction.prepared.name = null; // then try to get a drag from another ineractable\n\n    let element = eventTarget;\n\n    const getDraggable = function (interactable) {\n      if (interactable === interaction.interactable) return;\n      const options = interaction.interactable.options.drag;\n\n      if (!options.manualStart && interactable.testIgnoreAllow(options, element, eventTarget)) {\n        const action = interactable.getAction(interaction.downPointer, interaction.downEvent, interaction, element);\n\n        if (action && action.name === 'drag' && checkStartAxis(currentAxis, interactable) && autoStart.validateAction(action, interactable, element, eventTarget, scope)) {\n          return interactable;\n        }\n      }\n    }; // check all interactables\n\n\n    while (is.element(element)) {\n      const interactable = scope.interactables.forEachMatch(element, getDraggable);\n\n      if (interactable) {\n        ;\n        interaction.prepared.name = 'drag';\n        interaction.interactable = interactable;\n        interaction.element = element;\n        break;\n      }\n\n      element = parentNode(element);\n    }\n  }\n}\n\nfunction checkStartAxis(startAxis, interactable) {\n  if (!interactable) {\n    return false;\n  }\n\n  const thisAxis = interactable.options.drag.startAxis;\n  return startAxis === 'xy' || thisAxis === 'xy' || thisAxis === startAxis;\n}\n\nexport default {\n  id: 'auto-start/dragAxis',\n  listeners: {\n    'autoStart:before-start': beforeStart\n  }\n};\n//# sourceMappingURL=dragAxis.js.map","/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './base';\nimport basePlugin from './base';\n/* eslint-enable */\n\nfunction install(scope) {\n  const {\n    defaults\n  } = scope;\n  scope.usePlugin(basePlugin);\n  defaults.perAction.hold = 0;\n  defaults.perAction.delay = 0;\n}\n\nfunction getHoldDuration(interaction) {\n  const actionName = interaction.prepared && interaction.prepared.name;\n\n  if (!actionName) {\n    return null;\n  }\n\n  const options = interaction.interactable.options;\n  return options[actionName].hold || options[actionName].delay;\n}\n\nconst hold = {\n  id: 'auto-start/hold',\n  install,\n  listeners: {\n    'interactions:new': ({\n      interaction\n    }) => {\n      interaction.autoStartHoldTimer = null;\n    },\n    'autoStart:prepared': ({\n      interaction\n    }) => {\n      const hold = getHoldDuration(interaction);\n\n      if (hold > 0) {\n        interaction.autoStartHoldTimer = setTimeout(() => {\n          interaction.start(interaction.prepared, interaction.interactable, interaction.element);\n        }, hold);\n      }\n    },\n    'interactions:move': ({\n      interaction,\n      duplicate\n    }) => {\n      if (interaction.autoStartHoldTimer && interaction.pointerWasMoved && !duplicate) {\n        clearTimeout(interaction.autoStartHoldTimer);\n        interaction.autoStartHoldTimer = null;\n      }\n    },\n    // prevent regular down->move autoStart\n    'autoStart:before-start': ({\n      interaction\n    }) => {\n      const holdDuration = getHoldDuration(interaction);\n\n      if (holdDuration > 0) {\n        interaction.prepared.name = null;\n      }\n    }\n  },\n  getHoldDuration\n};\nexport default hold;\n//# sourceMappingURL=hold.js.map","/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './base';\nimport './dragAxis';\nimport './hold';\nimport autoStart from './base';\nimport dragAxis from './dragAxis';\nimport hold from './hold';\n/* eslint-enable import/no-duplicates */\n\nexport default {\n  id: 'auto-start',\n\n  install(scope) {\n    scope.usePlugin(autoStart);\n    scope.usePlugin(hold);\n    scope.usePlugin(dragAxis);\n  }\n\n};\n//# sourceMappingURL=plugin.js.map","import { matchesSelector, nodeContains } from \"../utils/domUtils.js\";\nimport is from \"../utils/is.js\";\nimport { getWindow } from \"../utils/window.js\";\n\nfunction preventDefault(newValue) {\n  if (/^(always|never|auto)$/.test(newValue)) {\n    this.options.preventDefault = newValue;\n    return this;\n  }\n\n  if (is.bool(newValue)) {\n    this.options.preventDefault = newValue ? 'always' : 'never';\n    return this;\n  }\n\n  return this.options.preventDefault;\n}\n\nfunction checkAndPreventDefault(interactable, scope, event) {\n  const setting = interactable.options.preventDefault;\n  if (setting === 'never') return;\n\n  if (setting === 'always') {\n    event.preventDefault();\n    return;\n  } // setting === 'auto'\n  // if the browser supports passive event listeners and isn't running on iOS,\n  // don't preventDefault of touch{start,move} events. CSS touch-action and\n  // user-select should be used instead of calling event.preventDefault().\n\n\n  if (scope.events.supportsPassive && /^touch(start|move)$/.test(event.type)) {\n    const doc = getWindow(event.target).document;\n    const docOptions = scope.getDocOptions(doc);\n\n    if (!(docOptions && docOptions.events) || docOptions.events.passive !== false) {\n      return;\n    }\n  } // don't preventDefault of pointerdown events\n\n\n  if (/^(mouse|pointer|touch)*(down|start)/i.test(event.type)) {\n    return;\n  } // don't preventDefault on editable elements\n\n\n  if (is.element(event.target) && matchesSelector(event.target, 'input,select,textarea,[contenteditable=true],[contenteditable=true] *')) {\n    return;\n  }\n\n  event.preventDefault();\n}\n\nfunction onInteractionEvent({\n  interaction,\n  event\n}) {\n  if (interaction.interactable) {\n    interaction.interactable.checkAndPreventDefault(event);\n  }\n}\n\nexport function install(scope) {\n  /** @lends Interactable */\n  const {\n    Interactable\n  } = scope;\n  /**\n   * Returns or sets whether to prevent the browser's default behaviour in\n   * response to pointer events. Can be set to:\n   *  - `'always'` to always prevent\n   *  - `'never'` to never prevent\n   *  - `'auto'` to let interact.js try to determine what would be best\n   *\n   * @param {string} [newValue] `'always'`, `'never'` or `'auto'`\n   * @return {string | Interactable} The current setting or this Interactable\n   */\n\n  Interactable.prototype.preventDefault = preventDefault;\n\n  Interactable.prototype.checkAndPreventDefault = function (event) {\n    return checkAndPreventDefault(this, scope, event);\n  }; // prevent native HTML5 drag on interact.js target elements\n\n\n  scope.interactions.docEvents.push({\n    type: 'dragstart',\n\n    listener(event) {\n      for (const interaction of scope.interactions.list) {\n        if (interaction.element && (interaction.element === event.target || nodeContains(interaction.element, event.target))) {\n          interaction.interactable.checkAndPreventDefault(event);\n          return;\n        }\n      }\n    }\n\n  });\n}\nexport default {\n  id: 'core/interactablePreventDefault',\n  install,\n  listeners: ['down', 'move', 'up', 'cancel'].reduce((acc, eventType) => {\n    acc[`interactions:${eventType}`] = onInteractionEvent;\n    return acc;\n  }, {})\n};\n//# sourceMappingURL=interactablePreventDefault.js.map","export default {};\n//# sourceMappingURL=plugin.js.map","// eslint-disable-next-line import/no-extraneous-dependencies, import/no-duplicates\nimport \"./visualizer/plugin.js\";\n// eslint-disable-next-line import/no-extraneous-dependencies, import/no-duplicates\nimport visualizer from \"./visualizer/plugin.js\";\nimport domObjects from \"../utils/domObjects.js\";\nimport { parentNode } from \"../utils/domUtils.js\";\nimport extend from \"../utils/extend.js\";\nimport is from \"../utils/is.js\";\nimport * as win from \"../utils/window.js\";\nvar CheckName;\n\n(function (CheckName) {\n  CheckName[\"touchAction\"] = \"touchAction\";\n  CheckName[\"boxSizing\"] = \"boxSizing\";\n  CheckName[\"noListeners\"] = \"noListeners\";\n})(CheckName || (CheckName = {}));\n\nconst prefix = '[interact.js] ';\nconst links = {\n  touchAction: 'https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action',\n  boxSizing: 'https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing'\n}; // eslint-disable-next-line no-undef\n\nconst isProduction = \"development\" === 'production';\n\nfunction install(scope, {\n  logger\n} = {}) {\n  const {\n    Interactable,\n    defaults\n  } = scope;\n  scope.logger = logger || console;\n  defaults.base.devTools = {\n    ignore: {}\n  };\n\n  Interactable.prototype.devTools = function (options) {\n    if (options) {\n      extend(this.options.devTools, options);\n      return this;\n    }\n\n    return this.options.devTools;\n  };\n\n  scope.usePlugin(visualizer);\n}\n\nconst checks = [{\n  name: CheckName.touchAction,\n\n  perform({\n    element\n  }) {\n    return !!element && !parentHasStyle(element, 'touchAction', /pan-|pinch|none/);\n  },\n\n  getInfo({\n    element\n  }) {\n    return [element, links.touchAction];\n  },\n\n  text: 'Consider adding CSS \"touch-action: none\" to this element\\n'\n}, {\n  name: CheckName.boxSizing,\n\n  perform(interaction) {\n    const {\n      element\n    } = interaction;\n    return interaction.prepared.name === 'resize' && element instanceof domObjects.HTMLElement && !hasStyle(element, 'boxSizing', /border-box/);\n  },\n\n  text: 'Consider adding CSS \"box-sizing: border-box\" to this resizable element',\n\n  getInfo({\n    element\n  }) {\n    return [element, links.boxSizing];\n  }\n\n}, {\n  name: CheckName.noListeners,\n\n  perform(interaction) {\n    var _interaction$interact;\n\n    const actionName = interaction.prepared.name;\n    const moveListeners = ((_interaction$interact = interaction.interactable) == null ? void 0 : _interaction$interact.events.types[`${actionName}move`]) || [];\n    return !moveListeners.length;\n  },\n\n  getInfo(interaction) {\n    return [interaction.prepared.name, interaction.interactable];\n  },\n\n  text: 'There are no listeners set for this action'\n}];\n\nfunction hasStyle(element, prop, styleRe) {\n  const value = element.style[prop] || win.window.getComputedStyle(element)[prop];\n  return styleRe.test((value || '').toString());\n}\n\nfunction parentHasStyle(element, prop, styleRe) {\n  let parent = element;\n\n  while (is.element(parent)) {\n    if (hasStyle(parent, prop, styleRe)) {\n      return true;\n    }\n\n    parent = parentNode(parent);\n  }\n\n  return false;\n}\n\nconst id = 'dev-tools';\nconst defaultExport = isProduction ? {\n  id,\n  install: () => {}\n} : {\n  id,\n  install,\n  listeners: {\n    'interactions:action-start': ({\n      interaction\n    }, scope) => {\n      for (const check of checks) {\n        const options = interaction.interactable && interaction.interactable.options;\n\n        if (!(options && options.devTools && options.devTools.ignore[check.name]) && check.perform(interaction)) {\n          scope.logger.warn(prefix + check.text, ...check.getInfo(interaction));\n        }\n      }\n    }\n  },\n  checks,\n  CheckName,\n  links,\n  prefix\n};\nexport default defaultExport;\n//# sourceMappingURL=plugin.js.map","import * as arr from './arr';\nimport is from './is'; // tslint:disable-next-line ban-types\n\nexport default function clone(source) {\n  const dest = {};\n\n  for (const prop in source) {\n    const value = source[prop];\n\n    if (is.plainObject(value)) {\n      dest[prop] = clone(value);\n    } else if (is.array(value)) {\n      dest[prop] = arr.from(value);\n    } else {\n      dest[prop] = value;\n    }\n  }\n\n  return dest;\n}\n//# sourceMappingURL=clone.js.map","import clone from \"../utils/clone.js\";\nimport extend from \"../utils/extend.js\";\nimport * as rectUtils from \"../utils/rect.js\";\nexport default class Modification {\n  states = [];\n  startOffset = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  startDelta;\n  result;\n  endResult;\n  startEdges;\n  edges;\n  interaction;\n\n  constructor(interaction) {\n    this.interaction = interaction;\n    this.result = createResult();\n    this.edges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n  }\n\n  start({\n    phase\n  }, pageCoords) {\n    const {\n      interaction\n    } = this;\n    const modifierList = getModifierList(interaction);\n    this.prepareStates(modifierList);\n    this.startEdges = extend({}, interaction.edges);\n    this.edges = extend({}, this.startEdges);\n    this.startOffset = getRectOffset(interaction.rect, pageCoords);\n    this.startDelta = {\n      x: 0,\n      y: 0\n    };\n    const arg = this.fillArg({\n      phase,\n      pageCoords,\n      preEnd: false\n    });\n    this.result = createResult();\n    this.startAll(arg);\n    const result = this.result = this.setAll(arg);\n    return result;\n  }\n\n  fillArg(arg) {\n    const {\n      interaction\n    } = this;\n    arg.interaction = interaction;\n    arg.interactable = interaction.interactable;\n    arg.element = interaction.element;\n    arg.rect ||= interaction.rect;\n    arg.edges ||= this.startEdges;\n    arg.startOffset = this.startOffset;\n    return arg;\n  }\n\n  startAll(arg) {\n    for (const state of this.states) {\n      if (state.methods.start) {\n        arg.state = state;\n        state.methods.start(arg);\n      }\n    }\n  }\n\n  setAll(arg) {\n    const {\n      phase,\n      preEnd,\n      skipModifiers,\n      rect: unmodifiedRect,\n      edges: unmodifiedEdges\n    } = arg;\n    arg.coords = extend({}, arg.pageCoords);\n    arg.rect = extend({}, unmodifiedRect);\n    arg.edges = extend({}, unmodifiedEdges);\n    const states = skipModifiers ? this.states.slice(skipModifiers) : this.states;\n    const newResult = createResult(arg.coords, arg.rect);\n\n    for (const state of states) {\n      var _state$methods;\n\n      const {\n        options\n      } = state;\n      const lastModifierCoords = extend({}, arg.coords);\n      let returnValue = null;\n\n      if ((_state$methods = state.methods) != null && _state$methods.set && this.shouldDo(options, preEnd, phase)) {\n        arg.state = state;\n        returnValue = state.methods.set(arg);\n        rectUtils.addEdges(arg.edges, arg.rect, {\n          x: arg.coords.x - lastModifierCoords.x,\n          y: arg.coords.y - lastModifierCoords.y\n        });\n      }\n\n      newResult.eventProps.push(returnValue);\n    }\n\n    extend(this.edges, arg.edges);\n    newResult.delta.x = arg.coords.x - arg.pageCoords.x;\n    newResult.delta.y = arg.coords.y - arg.pageCoords.y;\n    newResult.rectDelta.left = arg.rect.left - unmodifiedRect.left;\n    newResult.rectDelta.right = arg.rect.right - unmodifiedRect.right;\n    newResult.rectDelta.top = arg.rect.top - unmodifiedRect.top;\n    newResult.rectDelta.bottom = arg.rect.bottom - unmodifiedRect.bottom;\n    const prevCoords = this.result.coords;\n    const prevRect = this.result.rect;\n\n    if (prevCoords && prevRect) {\n      const rectChanged = newResult.rect.left !== prevRect.left || newResult.rect.right !== prevRect.right || newResult.rect.top !== prevRect.top || newResult.rect.bottom !== prevRect.bottom;\n      newResult.changed = rectChanged || prevCoords.x !== newResult.coords.x || prevCoords.y !== newResult.coords.y;\n    }\n\n    return newResult;\n  }\n\n  applyToInteraction(arg) {\n    const {\n      interaction\n    } = this;\n    const {\n      phase\n    } = arg;\n    const curCoords = interaction.coords.cur;\n    const startCoords = interaction.coords.start;\n    const {\n      result,\n      startDelta\n    } = this;\n    const curDelta = result.delta;\n\n    if (phase === 'start') {\n      extend(this.startDelta, result.delta);\n    }\n\n    for (const [coordsSet, delta] of [[startCoords, startDelta], [curCoords, curDelta]]) {\n      coordsSet.page.x += delta.x;\n      coordsSet.page.y += delta.y;\n      coordsSet.client.x += delta.x;\n      coordsSet.client.y += delta.y;\n    }\n\n    const {\n      rectDelta\n    } = this.result;\n    const rect = arg.rect || interaction.rect;\n    rect.left += rectDelta.left;\n    rect.right += rectDelta.right;\n    rect.top += rectDelta.top;\n    rect.bottom += rectDelta.bottom;\n    rect.width = rect.right - rect.left;\n    rect.height = rect.bottom - rect.top;\n  }\n\n  setAndApply(arg) {\n    const {\n      interaction\n    } = this;\n    const {\n      phase,\n      preEnd,\n      skipModifiers\n    } = arg;\n    const result = this.setAll(this.fillArg({\n      preEnd,\n      phase,\n      pageCoords: arg.modifiedCoords || interaction.coords.cur.page\n    }));\n    this.result = result; // don't fire an action move if a modifier would keep the event in the same\n    // cordinates as before\n\n    if (!result.changed && (!skipModifiers || skipModifiers < this.states.length) && interaction.interacting()) {\n      return false;\n    }\n\n    if (arg.modifiedCoords) {\n      const {\n        page\n      } = interaction.coords.cur;\n      const adjustment = {\n        x: arg.modifiedCoords.x - page.x,\n        y: arg.modifiedCoords.y - page.y\n      };\n      result.coords.x += adjustment.x;\n      result.coords.y += adjustment.y;\n      result.delta.x += adjustment.x;\n      result.delta.y += adjustment.y;\n    }\n\n    this.applyToInteraction(arg);\n  }\n\n  beforeEnd(arg) {\n    const {\n      interaction,\n      event\n    } = arg;\n    const states = this.states;\n\n    if (!states || !states.length) {\n      return;\n    }\n\n    let doPreend = false;\n\n    for (const state of states) {\n      arg.state = state;\n      const {\n        options,\n        methods\n      } = state;\n      const endPosition = methods.beforeEnd && methods.beforeEnd(arg);\n\n      if (endPosition) {\n        this.endResult = endPosition;\n        return false;\n      }\n\n      doPreend = doPreend || !doPreend && this.shouldDo(options, true, arg.phase, true);\n    }\n\n    if (doPreend) {\n      // trigger a final modified move before ending\n      interaction.move({\n        event,\n        preEnd: true\n      });\n    }\n  }\n\n  stop(arg) {\n    const {\n      interaction\n    } = arg;\n\n    if (!this.states || !this.states.length) {\n      return;\n    }\n\n    const modifierArg = extend({\n      states: this.states,\n      interactable: interaction.interactable,\n      element: interaction.element,\n      rect: null\n    }, arg);\n    this.fillArg(modifierArg);\n\n    for (const state of this.states) {\n      modifierArg.state = state;\n\n      if (state.methods.stop) {\n        state.methods.stop(modifierArg);\n      }\n    }\n\n    this.states = null;\n    this.endResult = null;\n  }\n\n  prepareStates(modifierList) {\n    this.states = [];\n\n    for (let index = 0; index < modifierList.length; index++) {\n      const {\n        options,\n        methods,\n        name\n      } = modifierList[index];\n      this.states.push({\n        options,\n        methods,\n        index,\n        name\n      });\n    }\n\n    return this.states;\n  }\n\n  restoreInteractionCoords({\n    interaction: {\n      coords,\n      rect,\n      modification\n    }\n  }) {\n    if (!modification.result) return;\n    const {\n      startDelta\n    } = modification;\n    const {\n      delta: curDelta,\n      rectDelta\n    } = modification.result;\n    const coordsAndDeltas = [[coords.start, startDelta], [coords.cur, curDelta]];\n\n    for (const [coordsSet, delta] of coordsAndDeltas) {\n      coordsSet.page.x -= delta.x;\n      coordsSet.page.y -= delta.y;\n      coordsSet.client.x -= delta.x;\n      coordsSet.client.y -= delta.y;\n    }\n\n    rect.left -= rectDelta.left;\n    rect.right -= rectDelta.right;\n    rect.top -= rectDelta.top;\n    rect.bottom -= rectDelta.bottom;\n  }\n\n  shouldDo(options, preEnd, phase, requireEndOnly) {\n    if ( // ignore disabled modifiers\n    !options || options.enabled === false || // check if we require endOnly option to fire move before end\n    requireEndOnly && !options.endOnly || // don't apply endOnly modifiers when not ending\n    options.endOnly && !preEnd || // check if modifier should run be applied on start\n    phase === 'start' && !options.setStart) {\n      return false;\n    }\n\n    return true;\n  }\n\n  copyFrom(other) {\n    this.startOffset = other.startOffset;\n    this.startDelta = other.startDelta;\n    this.startEdges = other.startEdges;\n    this.edges = other.edges;\n    this.states = other.states.map(s => clone(s));\n    this.result = createResult(extend({}, other.result.coords), extend({}, other.result.rect));\n  }\n\n  destroy() {\n    for (const prop in this) {\n      this[prop] = null;\n    }\n  }\n\n}\n\nfunction createResult(coords, rect) {\n  return {\n    rect,\n    coords,\n    delta: {\n      x: 0,\n      y: 0\n    },\n    rectDelta: {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n    eventProps: [],\n    changed: true\n  };\n}\n\nfunction getModifierList(interaction) {\n  const actionOptions = interaction.interactable.options[interaction.prepared.name];\n  const actionModifiers = actionOptions.modifiers;\n\n  if (actionModifiers && actionModifiers.length) {\n    return actionModifiers;\n  }\n\n  return ['snap', 'snapSize', 'snapEdges', 'restrict', 'restrictEdges', 'restrictSize'].map(type => {\n    const options = actionOptions[type];\n    return options && options.enabled && {\n      options,\n      methods: options._methods\n    };\n  }).filter(m => !!m);\n}\n\nexport function getRectOffset(rect, coords) {\n  return rect ? {\n    left: coords.x - rect.left,\n    top: coords.y - rect.top,\n    right: rect.right - coords.x,\n    bottom: rect.bottom - coords.y\n  } : {\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0\n  };\n}\n//# sourceMappingURL=Modification.js.map","import Modification from './Modification';\nexport function makeModifier(module, name) {\n  const {\n    defaults\n  } = module;\n  const methods = {\n    start: module.start,\n    set: module.set,\n    beforeEnd: module.beforeEnd,\n    stop: module.stop\n  };\n\n  const modifier = _options => {\n    const options = _options || {};\n    options.enabled = options.enabled !== false; // add missing defaults to options\n\n    for (const prop in defaults) {\n      if (!(prop in options)) {\n        ;\n        options[prop] = defaults[prop];\n      }\n    }\n\n    const m = {\n      options,\n      methods,\n      name,\n      enable: () => {\n        options.enabled = true;\n        return m;\n      },\n      disable: () => {\n        options.enabled = false;\n        return m;\n      }\n    };\n    return m;\n  };\n\n  if (name && typeof name === 'string') {\n    // for backwrads compatibility\n    modifier._defaults = defaults;\n    modifier._methods = methods;\n  }\n\n  return modifier;\n}\nexport function addEventModifiers({\n  iEvent,\n  interaction\n}) {\n  const result = interaction.modification.result;\n\n  if (result) {\n    iEvent.modifiers = result.eventProps;\n  }\n}\nconst modifiersBase = {\n  id: 'modifiers/base',\n  before: ['actions'],\n  install: scope => {\n    scope.defaults.perAction.modifiers = [];\n  },\n  listeners: {\n    'interactions:new': ({\n      interaction\n    }) => {\n      interaction.modification = new Modification(interaction);\n    },\n    'interactions:before-action-start': arg => {\n      const {\n        interaction\n      } = arg;\n      const modification = arg.interaction.modification;\n      modification.start(arg, interaction.coords.start.page);\n      interaction.edges = modification.edges;\n      modification.applyToInteraction(arg);\n    },\n    'interactions:before-action-move': arg => {\n      const {\n        interaction\n      } = arg;\n      const {\n        modification\n      } = interaction;\n      const ret = modification.setAndApply(arg);\n      interaction.edges = modification.edges;\n      return ret;\n    },\n    'interactions:before-action-end': arg => {\n      const {\n        interaction\n      } = arg;\n      const {\n        modification\n      } = interaction;\n      const ret = modification.beforeEnd(arg);\n      interaction.edges = modification.startEdges;\n      return ret;\n    },\n    'interactions:action-start': addEventModifiers,\n    'interactions:action-move': addEventModifiers,\n    'interactions:action-end': addEventModifiers,\n    'interactions:after-action-start': arg => arg.interaction.modification.restoreInteractionCoords(arg),\n    'interactions:after-action-move': arg => arg.interaction.modification.restoreInteractionCoords(arg),\n    'interactions:stop': arg => arg.interaction.modification.stop(arg)\n  }\n};\nexport default modifiersBase;\n//# sourceMappingURL=base.js.map","// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport const defaults = {\n  base: {\n    preventDefault: 'auto',\n    deltaSource: 'page'\n  },\n  perAction: {\n    enabled: false,\n    origin: {\n      x: 0,\n      y: 0\n    }\n  },\n  actions: {}\n};\n//# sourceMappingURL=options.js.map","import extend from \"../utils/extend.js\";\nimport getOriginXY from \"../utils/getOriginXY.js\";\nimport hypot from \"../utils/hypot.js\";\nimport { BaseEvent } from './BaseEvent';\nimport { defaults } from './options';\nexport class InteractEvent extends BaseEvent {\n  relatedTarget = null;\n  screenX;\n  screenY;\n  button;\n  buttons;\n  ctrlKey;\n  shiftKey;\n  altKey;\n  metaKey;\n  page;\n  client;\n  delta;\n  rect;\n  x0;\n  y0;\n  t0;\n  dt;\n  duration;\n  clientX0;\n  clientY0;\n  velocity;\n  speed;\n  swipe; // resize\n\n  axes;\n  preEnd;\n  /** */\n\n  constructor(interaction, event, actionName, phase, element, preEnd, type) {\n    super(interaction);\n    element = element || interaction.element;\n    const target = interaction.interactable;\n    const deltaSource = (target && target.options || defaults).deltaSource;\n    const origin = getOriginXY(target, element, actionName);\n    const starting = phase === 'start';\n    const ending = phase === 'end';\n    const prevEvent = starting ? this : interaction.prevEvent;\n    const coords = starting ? interaction.coords.start : ending ? {\n      page: prevEvent.page,\n      client: prevEvent.client,\n      timeStamp: interaction.coords.cur.timeStamp\n    } : interaction.coords.cur;\n    this.page = extend({}, coords.page);\n    this.client = extend({}, coords.client);\n    this.rect = extend({}, interaction.rect);\n    this.timeStamp = coords.timeStamp;\n\n    if (!ending) {\n      this.page.x -= origin.x;\n      this.page.y -= origin.y;\n      this.client.x -= origin.x;\n      this.client.y -= origin.y;\n    }\n\n    this.ctrlKey = event.ctrlKey;\n    this.altKey = event.altKey;\n    this.shiftKey = event.shiftKey;\n    this.metaKey = event.metaKey;\n    this.button = event.button;\n    this.buttons = event.buttons;\n    this.target = element;\n    this.currentTarget = element;\n    this.preEnd = preEnd;\n    this.type = type || actionName + (phase || '');\n    this.interactable = target;\n    this.t0 = starting ? interaction.pointers[interaction.pointers.length - 1].downTime : prevEvent.t0;\n    this.x0 = interaction.coords.start.page.x - origin.x;\n    this.y0 = interaction.coords.start.page.y - origin.y;\n    this.clientX0 = interaction.coords.start.client.x - origin.x;\n    this.clientY0 = interaction.coords.start.client.y - origin.y;\n\n    if (starting || ending) {\n      this.delta = {\n        x: 0,\n        y: 0\n      };\n    } else {\n      this.delta = {\n        x: this[deltaSource].x - prevEvent[deltaSource].x,\n        y: this[deltaSource].y - prevEvent[deltaSource].y\n      };\n    }\n\n    this.dt = interaction.coords.delta.timeStamp;\n    this.duration = this.timeStamp - this.t0; // velocity and speed in pixels per second\n\n    this.velocity = extend({}, interaction.coords.velocity[deltaSource]);\n    this.speed = hypot(this.velocity.x, this.velocity.y);\n    this.swipe = ending || phase === 'inertiastart' ? this.getSwipe() : null;\n  }\n\n  getSwipe() {\n    const interaction = this._interaction;\n\n    if (interaction.prevEvent.speed < 600 || this.timeStamp - interaction.prevEvent.timeStamp > 150) {\n      return null;\n    }\n\n    let angle = 180 * Math.atan2(interaction.prevEvent.velocityY, interaction.prevEvent.velocityX) / Math.PI;\n    const overlap = 22.5;\n\n    if (angle < 0) {\n      angle += 360;\n    }\n\n    const left = 135 - overlap <= angle && angle < 225 + overlap;\n    const up = 225 - overlap <= angle && angle < 315 + overlap;\n    const right = !left && (315 - overlap <= angle || angle < 45 + overlap);\n    const down = !up && 45 - overlap <= angle && angle < 135 + overlap;\n    return {\n      up,\n      down,\n      left,\n      right,\n      angle,\n      speed: interaction.prevEvent.speed,\n      velocity: {\n        x: interaction.prevEvent.velocityX,\n        y: interaction.prevEvent.velocityY\n      }\n    };\n  }\n\n  preventDefault() {}\n  /**\n   * Don't call listeners on the remaining targets\n   */\n\n\n  stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  }\n  /**\n   * Don't call any other listeners (even on the current target)\n   */\n\n\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n\n} // getters and setters defined here to support typescript 3.6 and below which\n// don't support getter and setters in .d.ts files\n\nObject.defineProperties(InteractEvent.prototype, {\n  pageX: {\n    get() {\n      return this.page.x;\n    },\n\n    set(value) {\n      this.page.x = value;\n    }\n\n  },\n  pageY: {\n    get() {\n      return this.page.y;\n    },\n\n    set(value) {\n      this.page.y = value;\n    }\n\n  },\n  clientX: {\n    get() {\n      return this.client.x;\n    },\n\n    set(value) {\n      this.client.x = value;\n    }\n\n  },\n  clientY: {\n    get() {\n      return this.client.y;\n    },\n\n    set(value) {\n      this.client.y = value;\n    }\n\n  },\n  dx: {\n    get() {\n      return this.delta.x;\n    },\n\n    set(value) {\n      this.delta.x = value;\n    }\n\n  },\n  dy: {\n    get() {\n      return this.delta.y;\n    },\n\n    set(value) {\n      this.delta.y = value;\n    }\n\n  },\n  velocityX: {\n    get() {\n      return this.velocity.x;\n    },\n\n    set(value) {\n      this.velocity.x = value;\n    }\n\n  },\n  velocityY: {\n    get() {\n      return this.velocity.y;\n    },\n\n    set(value) {\n      this.velocity.y = value;\n    }\n\n  }\n});\n//# sourceMappingURL=InteractEvent.js.map","export class PointerInfo {\n  id;\n  pointer;\n  event;\n  downTime;\n  downTarget;\n\n  constructor(id, pointer, event, downTime, downTarget) {\n    this.id = id;\n    this.pointer = pointer;\n    this.event = event;\n    this.downTime = downTime;\n    this.downTarget = downTarget;\n  }\n\n}\n//# sourceMappingURL=PointerInfo.js.map","import * as arr from \"../utils/arr.js\";\nimport extend from \"../utils/extend.js\";\nimport hypot from \"../utils/hypot.js\";\nimport { warnOnce, copyAction } from \"../utils/misc.js\";\nimport * as pointerUtils from \"../utils/pointerUtils.js\";\nimport * as rectUtils from \"../utils/rect.js\";\nimport { InteractEvent } from './InteractEvent';\nimport { PointerInfo } from './PointerInfo';\nexport let _ProxyValues;\n\n(function (_ProxyValues) {\n  _ProxyValues[\"interactable\"] = \"\";\n  _ProxyValues[\"element\"] = \"\";\n  _ProxyValues[\"prepared\"] = \"\";\n  _ProxyValues[\"pointerIsDown\"] = \"\";\n  _ProxyValues[\"pointerWasMoved\"] = \"\";\n  _ProxyValues[\"_proxy\"] = \"\";\n})(_ProxyValues || (_ProxyValues = {}));\n\nexport let _ProxyMethods;\n\n(function (_ProxyMethods) {\n  _ProxyMethods[\"start\"] = \"\";\n  _ProxyMethods[\"move\"] = \"\";\n  _ProxyMethods[\"end\"] = \"\";\n  _ProxyMethods[\"stop\"] = \"\";\n  _ProxyMethods[\"interacting\"] = \"\";\n})(_ProxyMethods || (_ProxyMethods = {}));\n\nlet idCounter = 0;\nexport class Interaction {\n  // current interactable being interacted with\n  interactable = null; // the target element of the interactable\n\n  element = null;\n  rect = null;\n  _rects;\n  edges = null;\n  _scopeFire; // action that's ready to be fired on next move event\n\n  prepared = {\n    name: null,\n    axis: null,\n    edges: null\n  };\n  pointerType; // keep track of added pointers\n\n  pointers = []; // pointerdown/mousedown/touchstart event\n\n  downEvent = null;\n  downPointer = {};\n  _latestPointer = {\n    pointer: null,\n    event: null,\n    eventTarget: null\n  }; // previous action event\n\n  prevEvent = null;\n  pointerIsDown = false;\n  pointerWasMoved = false;\n  _interacting = false;\n  _ending = false;\n  _stopped = true;\n  _proxy;\n  simulation = null;\n  /** @internal */\n\n  get pointerMoveTolerance() {\n    return 1;\n  }\n  /**\n   * @alias Interaction.prototype.move\n   */\n\n\n  doMove = warnOnce(function (signalArg) {\n    this.move(signalArg);\n  }, 'The interaction.doMove() method has been renamed to interaction.move()');\n  coords = {\n    // Starting InteractEvent pointer coordinates\n    start: pointerUtils.newCoords(),\n    // Previous native pointer move event coordinates\n    prev: pointerUtils.newCoords(),\n    // current native pointer move event coordinates\n    cur: pointerUtils.newCoords(),\n    // Change in coordinates and time of the pointer\n    delta: pointerUtils.newCoords(),\n    // pointer velocity\n    velocity: pointerUtils.newCoords()\n  };\n  _id = idCounter++;\n  /** */\n\n  constructor({\n    pointerType,\n    scopeFire\n  }) {\n    this._scopeFire = scopeFire;\n    this.pointerType = pointerType;\n    const that = this;\n    this._proxy = {};\n\n    for (const key in _ProxyValues) {\n      Object.defineProperty(this._proxy, key, {\n        get() {\n          return that[key];\n        }\n\n      });\n    }\n\n    for (const key in _ProxyMethods) {\n      Object.defineProperty(this._proxy, key, {\n        value: (...args) => that[key](...args)\n      });\n    }\n\n    this._scopeFire('interactions:new', {\n      interaction: this\n    });\n  }\n\n  pointerDown(pointer, event, eventTarget) {\n    const pointerIndex = this.updatePointer(pointer, event, eventTarget, true);\n    const pointerInfo = this.pointers[pointerIndex];\n\n    this._scopeFire('interactions:down', {\n      pointer,\n      event,\n      eventTarget,\n      pointerIndex,\n      pointerInfo,\n      type: 'down',\n      interaction: this\n    });\n  }\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable({\n   *     // disable the default drag start by down->move\n   *     manualStart: true\n   *   })\n   *   // start dragging after the user holds the pointer down\n   *   .on('hold', function (event) {\n   *     var interaction = event.interaction\n   *\n   *     if (!interaction.interacting()) {\n   *       interaction.start({ name: 'drag' },\n   *                         event.interactable,\n   *                         event.currentTarget)\n   *     }\n   * })\n   * ```\n   *\n   * Start an action with the given Interactable and Element as tartgets. The\n   * action must be enabled for the target Interactable and an appropriate\n   * number of pointers must be held down - 1 for drag/resize, 2 for gesture.\n   *\n   * Use it with `interactable.<action>able({ manualStart: false })` to always\n   * [start actions manually](https://github.com/taye/interact.js/issues/114)\n   *\n   * @param {object} action   The action to be performed - drag, resize, etc.\n   * @param {Interactable} target  The Interactable to target\n   * @param {Element} element The DOM Element to target\n   * @return {Boolean} Whether the interaction was successfully started\n   */\n\n\n  start(action, interactable, element) {\n    if (this.interacting() || !this.pointerIsDown || this.pointers.length < (action.name === 'gesture' ? 2 : 1) || !interactable.options[action.name].enabled) {\n      return false;\n    }\n\n    copyAction(this.prepared, action);\n    this.interactable = interactable;\n    this.element = element;\n    this.rect = interactable.getRect(element);\n    this.edges = this.prepared.edges ? extend({}, this.prepared.edges) : {\n      left: true,\n      right: true,\n      top: true,\n      bottom: true\n    };\n    this._stopped = false;\n    this._interacting = this._doPhase({\n      interaction: this,\n      event: this.downEvent,\n      phase: 'start'\n    }) && !this._stopped;\n    return this._interacting;\n  }\n\n  pointerMove(pointer, event, eventTarget) {\n    if (!this.simulation && !(this.modification && this.modification.endResult)) {\n      this.updatePointer(pointer, event, eventTarget, false);\n    }\n\n    const duplicateMove = this.coords.cur.page.x === this.coords.prev.page.x && this.coords.cur.page.y === this.coords.prev.page.y && this.coords.cur.client.x === this.coords.prev.client.x && this.coords.cur.client.y === this.coords.prev.client.y;\n    let dx;\n    let dy; // register movement greater than pointerMoveTolerance\n\n    if (this.pointerIsDown && !this.pointerWasMoved) {\n      dx = this.coords.cur.client.x - this.coords.start.client.x;\n      dy = this.coords.cur.client.y - this.coords.start.client.y;\n      this.pointerWasMoved = hypot(dx, dy) > this.pointerMoveTolerance;\n    }\n\n    const pointerIndex = this.getPointerIndex(pointer);\n    const signalArg = {\n      pointer,\n      pointerIndex,\n      pointerInfo: this.pointers[pointerIndex],\n      event,\n      type: 'move',\n      eventTarget,\n      dx,\n      dy,\n      duplicate: duplicateMove,\n      interaction: this\n    };\n\n    if (!duplicateMove) {\n      // set pointer coordinate, time changes and velocity\n      pointerUtils.setCoordVelocity(this.coords.velocity, this.coords.delta);\n    }\n\n    this._scopeFire('interactions:move', signalArg);\n\n    if (!duplicateMove && !this.simulation) {\n      // if interacting, fire an 'action-move' signal etc\n      if (this.interacting()) {\n        signalArg.type = null;\n        this.move(signalArg);\n      }\n\n      if (this.pointerWasMoved) {\n        pointerUtils.copyCoords(this.coords.prev, this.coords.cur);\n      }\n    }\n  }\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('dragmove', function (event) {\n   *     if (someCondition) {\n   *       // change the snap settings\n   *       event.interactable.draggable({ snap: { targets: [] }})\n   *       // fire another move event with re-calculated snap\n   *       event.interaction.move()\n   *     }\n   *   })\n   * ```\n   *\n   * Force a move of the current action at the same coordinates. Useful if\n   * snap/restrict has been changed and you want a movement with the new\n   * settings.\n   */\n\n\n  move(signalArg) {\n    if (!signalArg || !signalArg.event) {\n      pointerUtils.setZeroCoords(this.coords.delta);\n    }\n\n    signalArg = extend({\n      pointer: this._latestPointer.pointer,\n      event: this._latestPointer.event,\n      eventTarget: this._latestPointer.eventTarget,\n      interaction: this\n    }, signalArg || {});\n    signalArg.phase = 'move';\n\n    this._doPhase(signalArg);\n  } // End interact move events and stop auto-scroll unless simulation is running\n\n\n  pointerUp(pointer, event, eventTarget, curEventTarget) {\n    let pointerIndex = this.getPointerIndex(pointer);\n\n    if (pointerIndex === -1) {\n      pointerIndex = this.updatePointer(pointer, event, eventTarget, false);\n    }\n\n    const type = /cancel$/i.test(event.type) ? 'cancel' : 'up';\n\n    this._scopeFire(`interactions:${type}`, {\n      pointer,\n      pointerIndex,\n      pointerInfo: this.pointers[pointerIndex],\n      event,\n      eventTarget,\n      type: type,\n      curEventTarget,\n      interaction: this\n    });\n\n    if (!this.simulation) {\n      this.end(event);\n    }\n\n    this.removePointer(pointer, event);\n  }\n\n  documentBlur(event) {\n    this.end(event);\n\n    this._scopeFire('interactions:blur', {\n      event,\n      type: 'blur',\n      interaction: this\n    });\n  }\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('move', function (event) {\n   *     if (event.pageX > 1000) {\n   *       // end the current action\n   *       event.interaction.end()\n   *       // stop all further listeners from being called\n   *       event.stopImmediatePropagation()\n   *     }\n   *   })\n   * ```\n   *\n   * @param {PointerEvent} [event]\n   */\n\n\n  end(event) {\n    this._ending = true;\n    event = event || this._latestPointer.event;\n    let endPhaseResult;\n\n    if (this.interacting()) {\n      endPhaseResult = this._doPhase({\n        event,\n        interaction: this,\n        phase: 'end'\n      });\n    }\n\n    this._ending = false;\n\n    if (endPhaseResult === true) {\n      this.stop();\n    }\n  }\n\n  currentAction() {\n    return this._interacting ? this.prepared.name : null;\n  }\n\n  interacting() {\n    return this._interacting;\n  }\n  /** */\n\n\n  stop() {\n    this._scopeFire('interactions:stop', {\n      interaction: this\n    });\n\n    this.interactable = this.element = null;\n    this._interacting = false;\n    this._stopped = true;\n    this.prepared.name = this.prevEvent = null;\n  }\n\n  getPointerIndex(pointer) {\n    const pointerId = pointerUtils.getPointerId(pointer); // mouse and pen interactions may have only one pointer\n\n    return this.pointerType === 'mouse' || this.pointerType === 'pen' ? this.pointers.length - 1 : arr.findIndex(this.pointers, curPointer => curPointer.id === pointerId);\n  }\n\n  getPointerInfo(pointer) {\n    return this.pointers[this.getPointerIndex(pointer)];\n  }\n\n  updatePointer(pointer, event, eventTarget, down) {\n    const id = pointerUtils.getPointerId(pointer);\n    let pointerIndex = this.getPointerIndex(pointer);\n    let pointerInfo = this.pointers[pointerIndex];\n    down = down === false ? false : down || /(down|start)$/i.test(event.type);\n\n    if (!pointerInfo) {\n      pointerInfo = new PointerInfo(id, pointer, event, null, null);\n      pointerIndex = this.pointers.length;\n      this.pointers.push(pointerInfo);\n    } else {\n      pointerInfo.pointer = pointer;\n    }\n\n    pointerUtils.setCoords(this.coords.cur, this.pointers.map(p => p.pointer), this._now());\n    pointerUtils.setCoordDeltas(this.coords.delta, this.coords.prev, this.coords.cur);\n\n    if (down) {\n      this.pointerIsDown = true;\n      pointerInfo.downTime = this.coords.cur.timeStamp;\n      pointerInfo.downTarget = eventTarget;\n      pointerUtils.pointerExtend(this.downPointer, pointer);\n\n      if (!this.interacting()) {\n        pointerUtils.copyCoords(this.coords.start, this.coords.cur);\n        pointerUtils.copyCoords(this.coords.prev, this.coords.cur);\n        this.downEvent = event;\n        this.pointerWasMoved = false;\n      }\n    }\n\n    this._updateLatestPointer(pointer, event, eventTarget);\n\n    this._scopeFire('interactions:update-pointer', {\n      pointer,\n      event,\n      eventTarget,\n      down,\n      pointerInfo,\n      pointerIndex,\n      interaction: this\n    });\n\n    return pointerIndex;\n  }\n\n  removePointer(pointer, event) {\n    const pointerIndex = this.getPointerIndex(pointer);\n    if (pointerIndex === -1) return;\n    const pointerInfo = this.pointers[pointerIndex];\n\n    this._scopeFire('interactions:remove-pointer', {\n      pointer,\n      event,\n      eventTarget: null,\n      pointerIndex,\n      pointerInfo,\n      interaction: this\n    });\n\n    this.pointers.splice(pointerIndex, 1);\n    this.pointerIsDown = false;\n  }\n\n  _updateLatestPointer(pointer, event, eventTarget) {\n    this._latestPointer.pointer = pointer;\n    this._latestPointer.event = event;\n    this._latestPointer.eventTarget = eventTarget;\n  }\n\n  destroy() {\n    this._latestPointer.pointer = null;\n    this._latestPointer.event = null;\n    this._latestPointer.eventTarget = null;\n  }\n\n  _createPreparedEvent(event, phase, preEnd, type) {\n    return new InteractEvent(this, event, this.prepared.name, phase, this.element, preEnd, type);\n  }\n\n  _fireEvent(iEvent) {\n    var _this$interactable;\n\n    (_this$interactable = this.interactable) == null ? void 0 : _this$interactable.fire(iEvent);\n\n    if (!this.prevEvent || iEvent.timeStamp >= this.prevEvent.timeStamp) {\n      this.prevEvent = iEvent;\n    }\n  }\n\n  _doPhase(signalArg) {\n    const {\n      event,\n      phase,\n      preEnd,\n      type\n    } = signalArg;\n    const {\n      rect\n    } = this;\n\n    if (rect && phase === 'move') {\n      // update the rect changes due to pointer move\n      rectUtils.addEdges(this.edges, rect, this.coords.delta[this.interactable.options.deltaSource]);\n      rect.width = rect.right - rect.left;\n      rect.height = rect.bottom - rect.top;\n    }\n\n    const beforeResult = this._scopeFire(`interactions:before-action-${phase}`, signalArg);\n\n    if (beforeResult === false) {\n      return false;\n    }\n\n    const iEvent = signalArg.iEvent = this._createPreparedEvent(event, phase, preEnd, type);\n\n    this._scopeFire(`interactions:action-${phase}`, signalArg);\n\n    if (phase === 'start') {\n      this.prevEvent = iEvent;\n    }\n\n    this._fireEvent(iEvent);\n\n    this._scopeFire(`interactions:after-action-${phase}`, signalArg);\n\n    return true;\n  }\n\n  _now() {\n    return Date.now();\n  }\n\n}\nexport default Interaction;\nexport { PointerInfo };\n//# sourceMappingURL=Interaction.js.map","import { _ProxyMethods } from \"../core/Interaction.js\";\nimport * as rectUtils from \"../utils/rect.js\";\n;\n_ProxyMethods.offsetBy = '';\nexport function addTotal(interaction) {\n  if (!interaction.pointerIsDown) {\n    return;\n  }\n\n  addToCoords(interaction.coords.cur, interaction.offset.total);\n  interaction.offset.pending.x = 0;\n  interaction.offset.pending.y = 0;\n}\n\nfunction beforeAction({\n  interaction\n}) {\n  applyPending(interaction);\n}\n\nfunction beforeEnd({\n  interaction\n}) {\n  const hadPending = applyPending(interaction);\n  if (!hadPending) return;\n  interaction.move({\n    offset: true\n  });\n  interaction.end();\n  return false;\n}\n\nfunction end({\n  interaction\n}) {\n  interaction.offset.total.x = 0;\n  interaction.offset.total.y = 0;\n  interaction.offset.pending.x = 0;\n  interaction.offset.pending.y = 0;\n}\n\nexport function applyPending(interaction) {\n  if (!hasPending(interaction)) {\n    return false;\n  }\n\n  const {\n    pending\n  } = interaction.offset;\n  addToCoords(interaction.coords.cur, pending);\n  addToCoords(interaction.coords.delta, pending);\n  rectUtils.addEdges(interaction.edges, interaction.rect, pending);\n  pending.x = 0;\n  pending.y = 0;\n  return true;\n}\n\nfunction offsetBy({\n  x,\n  y\n}) {\n  this.offset.pending.x += x;\n  this.offset.pending.y += y;\n  this.offset.total.x += x;\n  this.offset.total.y += y;\n}\n\nfunction addToCoords({\n  page,\n  client\n}, {\n  x,\n  y\n}) {\n  page.x += x;\n  page.y += y;\n  client.x += x;\n  client.y += y;\n}\n\nfunction hasPending(interaction) {\n  return !!(interaction.offset.pending.x || interaction.offset.pending.y);\n}\n\nconst offset = {\n  id: 'offset',\n  before: ['modifiers', 'pointer-events', 'actions', 'inertia'],\n\n  install(scope) {\n    scope.Interaction.prototype.offsetBy = offsetBy;\n  },\n\n  listeners: {\n    'interactions:new': ({\n      interaction\n    }) => {\n      interaction.offset = {\n        total: {\n          x: 0,\n          y: 0\n        },\n        pending: {\n          x: 0,\n          y: 0\n        }\n      };\n    },\n    'interactions:update-pointer': ({\n      interaction\n    }) => addTotal(interaction),\n    'interactions:before-action-start': beforeAction,\n    'interactions:before-action-move': beforeAction,\n    'interactions:before-action-end': beforeEnd,\n    'interactions:stop': end\n  }\n};\nexport default offset;\n//# sourceMappingURL=plugin.js.map","import Modification from \"../modifiers/Modification.js\";\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\n\nimport \"../modifiers/base.js\";\nimport \"../offset/plugin.js\";\nimport * as modifiers from \"../modifiers/base.js\";\nimport offset from \"../offset/plugin.js\";\n/* eslint-enable import/no-duplicates */\n\nimport * as dom from \"../utils/domUtils.js\";\nimport hypot from \"../utils/hypot.js\";\nimport is from \"../utils/is.js\";\nimport { copyCoords } from \"../utils/pointerUtils.js\";\nimport raf from \"../utils/raf.js\";\n\nfunction install(scope) {\n  const {\n    defaults\n  } = scope;\n  scope.usePlugin(offset);\n  scope.usePlugin(modifiers.default);\n  scope.actions.phases.inertiastart = true;\n  scope.actions.phases.resume = true;\n  defaults.perAction.inertia = {\n    enabled: false,\n    resistance: 10,\n    // the lambda in exponential decay\n    minSpeed: 100,\n    // target speed must be above this for inertia to start\n    endSpeed: 10,\n    // the speed at which inertia is slow enough to stop\n    allowResume: true,\n    // allow resuming an action in inertia phase\n    smoothEndDuration: 300 // animate to snap/restrict endOnly if there's no inertia\n\n  };\n}\n\nexport class InertiaState {\n  active = false;\n  isModified = false;\n  smoothEnd = false;\n  allowResume = false;\n  modification;\n  modifierCount = 0;\n  modifierArg;\n  startCoords;\n  t0 = 0;\n  v0 = 0;\n  te = 0;\n  targetOffset;\n  modifiedOffset;\n  currentOffset;\n  lambda_v0 = 0; // eslint-disable-line camelcase\n\n  one_ve_v0 = 0; // eslint-disable-line camelcase\n\n  timeout;\n  interaction;\n\n  constructor(interaction) {\n    this.interaction = interaction;\n  }\n\n  start(event) {\n    const {\n      interaction\n    } = this;\n    const options = getOptions(interaction);\n\n    if (!options || !options.enabled) {\n      return false;\n    }\n\n    const {\n      client: velocityClient\n    } = interaction.coords.velocity;\n    const pointerSpeed = hypot(velocityClient.x, velocityClient.y);\n    const modification = this.modification || (this.modification = new Modification(interaction));\n    modification.copyFrom(interaction.modification);\n    this.t0 = interaction._now();\n    this.allowResume = options.allowResume;\n    this.v0 = pointerSpeed;\n    this.currentOffset = {\n      x: 0,\n      y: 0\n    };\n    this.startCoords = interaction.coords.cur.page;\n    this.modifierArg = modification.fillArg({\n      pageCoords: this.startCoords,\n      preEnd: true,\n      phase: 'inertiastart'\n    });\n    const thrown = this.t0 - interaction.coords.cur.timeStamp < 50 && pointerSpeed > options.minSpeed && pointerSpeed > options.endSpeed;\n\n    if (thrown) {\n      this.startInertia();\n    } else {\n      modification.result = modification.setAll(this.modifierArg);\n\n      if (!modification.result.changed) {\n        return false;\n      }\n\n      this.startSmoothEnd();\n    } // force modification change\n\n\n    interaction.modification.result.rect = null; // bring inertiastart event to the target coords\n\n    interaction.offsetBy(this.targetOffset);\n\n    interaction._doPhase({\n      interaction,\n      event,\n      phase: 'inertiastart'\n    });\n\n    interaction.offsetBy({\n      x: -this.targetOffset.x,\n      y: -this.targetOffset.y\n    }); // force modification change\n\n    interaction.modification.result.rect = null;\n    this.active = true;\n    interaction.simulation = this;\n    return true;\n  }\n\n  startInertia() {\n    const startVelocity = this.interaction.coords.velocity.client;\n    const options = getOptions(this.interaction);\n    const lambda = options.resistance;\n    const inertiaDur = -Math.log(options.endSpeed / this.v0) / lambda;\n    this.targetOffset = {\n      x: (startVelocity.x - inertiaDur) / lambda,\n      y: (startVelocity.y - inertiaDur) / lambda\n    };\n    this.te = inertiaDur;\n    this.lambda_v0 = lambda / this.v0;\n    this.one_ve_v0 = 1 - options.endSpeed / this.v0;\n    const {\n      modification,\n      modifierArg\n    } = this;\n    modifierArg.pageCoords = {\n      x: this.startCoords.x + this.targetOffset.x,\n      y: this.startCoords.y + this.targetOffset.y\n    };\n    modification.result = modification.setAll(modifierArg);\n\n    if (modification.result.changed) {\n      this.isModified = true;\n      this.modifiedOffset = {\n        x: this.targetOffset.x + modification.result.delta.x,\n        y: this.targetOffset.y + modification.result.delta.y\n      };\n    }\n\n    this.onNextFrame(() => this.inertiaTick());\n  }\n\n  startSmoothEnd() {\n    this.smoothEnd = true;\n    this.isModified = true;\n    this.targetOffset = {\n      x: this.modification.result.delta.x,\n      y: this.modification.result.delta.y\n    };\n    this.onNextFrame(() => this.smoothEndTick());\n  }\n\n  onNextFrame(tickFn) {\n    this.timeout = raf.request(() => {\n      if (this.active) {\n        tickFn();\n      }\n    });\n  }\n\n  inertiaTick() {\n    const {\n      interaction\n    } = this;\n    const options = getOptions(interaction);\n    const lambda = options.resistance;\n    const t = (interaction._now() - this.t0) / 1000;\n\n    if (t < this.te) {\n      const progress = 1 - (Math.exp(-lambda * t) - this.lambda_v0) / this.one_ve_v0;\n      let newOffset;\n\n      if (this.isModified) {\n        newOffset = getQuadraticCurvePoint(0, 0, this.targetOffset.x, this.targetOffset.y, this.modifiedOffset.x, this.modifiedOffset.y, progress);\n      } else {\n        newOffset = {\n          x: this.targetOffset.x * progress,\n          y: this.targetOffset.y * progress\n        };\n      }\n\n      const delta = {\n        x: newOffset.x - this.currentOffset.x,\n        y: newOffset.y - this.currentOffset.y\n      };\n      this.currentOffset.x += delta.x;\n      this.currentOffset.y += delta.y;\n      interaction.offsetBy(delta);\n      interaction.move();\n      this.onNextFrame(() => this.inertiaTick());\n    } else {\n      interaction.offsetBy({\n        x: this.modifiedOffset.x - this.currentOffset.x,\n        y: this.modifiedOffset.y - this.currentOffset.y\n      });\n      this.end();\n    }\n  }\n\n  smoothEndTick() {\n    const {\n      interaction\n    } = this;\n    const t = interaction._now() - this.t0;\n    const {\n      smoothEndDuration: duration\n    } = getOptions(interaction);\n\n    if (t < duration) {\n      const newOffset = {\n        x: easeOutQuad(t, 0, this.targetOffset.x, duration),\n        y: easeOutQuad(t, 0, this.targetOffset.y, duration)\n      };\n      const delta = {\n        x: newOffset.x - this.currentOffset.x,\n        y: newOffset.y - this.currentOffset.y\n      };\n      this.currentOffset.x += delta.x;\n      this.currentOffset.y += delta.y;\n      interaction.offsetBy(delta);\n      interaction.move({\n        skipModifiers: this.modifierCount\n      });\n      this.onNextFrame(() => this.smoothEndTick());\n    } else {\n      interaction.offsetBy({\n        x: this.targetOffset.x - this.currentOffset.x,\n        y: this.targetOffset.y - this.currentOffset.y\n      });\n      this.end();\n    }\n  }\n\n  resume({\n    pointer,\n    event,\n    eventTarget\n  }) {\n    const {\n      interaction\n    } = this; // undo inertia changes to interaction coords\n\n    interaction.offsetBy({\n      x: -this.currentOffset.x,\n      y: -this.currentOffset.y\n    }); // update pointer at pointer down position\n\n    interaction.updatePointer(pointer, event, eventTarget, true); // fire resume signals and event\n\n    interaction._doPhase({\n      interaction,\n      event,\n      phase: 'resume'\n    });\n\n    copyCoords(interaction.coords.prev, interaction.coords.cur);\n    this.stop();\n  }\n\n  end() {\n    this.interaction.move();\n    this.interaction.end();\n    this.stop();\n  }\n\n  stop() {\n    this.active = this.smoothEnd = false;\n    this.interaction.simulation = null;\n    raf.cancel(this.timeout);\n  }\n\n}\n\nfunction start({\n  interaction,\n  event\n}) {\n  if (!interaction._interacting || interaction.simulation) {\n    return null;\n  }\n\n  const started = interaction.inertia.start(event); // prevent action end if inertia or smoothEnd\n\n  return started ? false : null;\n} // Check if the down event hits the current inertia target\n// control should be return to the user\n\n\nfunction resume(arg) {\n  const {\n    interaction,\n    eventTarget\n  } = arg;\n  const state = interaction.inertia;\n  if (!state.active) return;\n  let element = eventTarget; // climb up the DOM tree from the event target\n\n  while (is.element(element)) {\n    // if interaction element is the current inertia target element\n    if (element === interaction.element) {\n      state.resume(arg);\n      break;\n    }\n\n    element = dom.parentNode(element);\n  }\n}\n\nfunction stop({\n  interaction\n}) {\n  const state = interaction.inertia;\n\n  if (state.active) {\n    state.stop();\n  }\n}\n\nfunction getOptions({\n  interactable,\n  prepared\n}) {\n  return interactable && interactable.options && prepared.name && interactable.options[prepared.name].inertia;\n}\n\nconst inertia = {\n  id: 'inertia',\n  before: ['modifiers', 'actions'],\n  install,\n  listeners: {\n    'interactions:new': ({\n      interaction\n    }) => {\n      interaction.inertia = new InertiaState(interaction);\n    },\n    'interactions:before-action-end': start,\n    'interactions:down': resume,\n    'interactions:stop': stop,\n    'interactions:before-action-resume': arg => {\n      const {\n        modification\n      } = arg.interaction;\n      modification.stop(arg);\n      modification.start(arg, arg.interaction.coords.cur.page);\n      modification.applyToInteraction(arg);\n    },\n    'interactions:before-action-inertiastart': arg => arg.interaction.modification.setAndApply(arg),\n    'interactions:action-resume': modifiers.addEventModifiers,\n    'interactions:action-inertiastart': modifiers.addEventModifiers,\n    'interactions:after-action-inertiastart': arg => arg.interaction.modification.restoreInteractionCoords(arg),\n    'interactions:after-action-resume': arg => arg.interaction.modification.restoreInteractionCoords(arg)\n  }\n}; // http://stackoverflow.com/a/5634528/2280888\n\nfunction _getQBezierValue(t, p1, p2, p3) {\n  const iT = 1 - t;\n  return iT * iT * p1 + 2 * iT * t * p2 + t * t * p3;\n}\n\nfunction getQuadraticCurvePoint(startX, startY, cpX, cpY, endX, endY, position) {\n  return {\n    x: _getQBezierValue(position, startX, cpX, endX),\n    y: _getQBezierValue(position, startY, cpY, endY)\n  };\n} // http://gizma.com/easing/\n\n\nfunction easeOutQuad(t, b, c, d) {\n  t /= d;\n  return -c * t * (t - 2) + b;\n}\n\nexport default inertia;\n//# sourceMappingURL=plugin.js.map","import * as arr from \"../utils/arr.js\";\nimport extend from \"../utils/extend.js\";\nimport normalize from \"../utils/normalizeListeners.js\";\n\nfunction fireUntilImmediateStopped(event, listeners) {\n  for (const listener of listeners) {\n    if (event.immediatePropagationStopped) {\n      break;\n    }\n\n    listener(event);\n  }\n}\n\nexport class Eventable {\n  options;\n  types = {};\n  propagationStopped = false;\n  immediatePropagationStopped = false;\n  global;\n\n  constructor(options) {\n    this.options = extend({}, options || {});\n  }\n\n  fire(event) {\n    let listeners;\n    const global = this.global; // Interactable#on() listeners\n    // tslint:disable no-conditional-assignment\n\n    if (listeners = this.types[event.type]) {\n      fireUntilImmediateStopped(event, listeners);\n    } // interact.on() listeners\n\n\n    if (!event.propagationStopped && global && (listeners = global[event.type])) {\n      fireUntilImmediateStopped(event, listeners);\n    }\n  }\n\n  on(type, listener) {\n    const listeners = normalize(type, listener);\n\n    for (type in listeners) {\n      this.types[type] = arr.merge(this.types[type] || [], listeners[type]);\n    }\n  }\n\n  off(type, listener) {\n    const listeners = normalize(type, listener);\n\n    for (type in listeners) {\n      const eventList = this.types[type];\n\n      if (!eventList || !eventList.length) {\n        continue;\n      }\n\n      for (const subListener of listeners[type]) {\n        const index = eventList.indexOf(subListener);\n\n        if (index !== -1) {\n          eventList.splice(index, 1);\n        }\n      }\n    }\n  }\n\n  getRect(_element) {\n    return null;\n  }\n\n}\n//# sourceMappingURL=Eventable.js.map","export default function isNonNativeEvent(type, actions) {\n  if (actions.phaselessTypes[type]) {\n    return true;\n  }\n\n  for (const name in actions.map) {\n    if (type.indexOf(name) === 0 && type.substr(name.length) in actions.phases) {\n      return true;\n    }\n  }\n\n  return false;\n}\n//# sourceMappingURL=isNonNativeEvent.js.map","/** @module interact */\nimport browser from \"../utils/browser.js\";\nimport * as domUtils from \"../utils/domUtils.js\";\nimport is from \"../utils/is.js\";\nimport { warnOnce } from \"../utils/misc.js\";\nimport * as pointerUtils from \"../utils/pointerUtils.js\";\nimport isNonNativeEvent from './isNonNativeEvent';\nexport function createInteractStatic(scope) {\n  /**\n   * ```js\n   * interact('#draggable').draggable(true)\n   *\n   * var rectables = interact('rect')\n   * rectables\n   *   .gesturable(true)\n   *   .on('gesturemove', function (event) {\n   *       // ...\n   *   })\n   * ```\n   *\n   * The methods of this variable can be used to set elements as interactables\n   * and also to change various default settings.\n   *\n   * Calling it as a function and passing an element or a valid CSS selector\n   * string returns an Interactable object which has various methods to configure\n   * it.\n   *\n   * @global\n   *\n   * @param {Element | string} target The HTML or SVG Element to interact with\n   * or CSS selector\n   * @return {Interactable}\n   */\n  const interact = (target, options) => {\n    let interactable = scope.interactables.get(target, options);\n\n    if (!interactable) {\n      interactable = scope.interactables.new(target, options);\n      interactable.events.global = interact.globalEvents;\n    }\n\n    return interactable;\n  }; // expose the functions used to calculate multi-touch properties\n\n\n  interact.getPointerAverage = pointerUtils.pointerAverage;\n  interact.getTouchBBox = pointerUtils.touchBBox;\n  interact.getTouchDistance = pointerUtils.touchDistance;\n  interact.getTouchAngle = pointerUtils.touchAngle;\n  interact.getElementRect = domUtils.getElementRect;\n  interact.getElementClientRect = domUtils.getElementClientRect;\n  interact.matchesSelector = domUtils.matchesSelector;\n  interact.closest = domUtils.closest;\n  interact.globalEvents = {}; // eslint-disable-next-line no-undef\n\n  interact.version = \"1.10.20\";\n  interact.scope = scope;\n  /**\n   * Use a plugin\n   *\n   * @alias module:interact.use\n   *\n   */\n\n  interact.use = function (plugin, options) {\n    this.scope.usePlugin(plugin, options);\n    return this;\n  };\n  /**\n   * Check if an element or selector has been set with the {@link interact}\n   * function\n   *\n   * @alias module:interact.isSet\n   *\n   * @param {Target} target The Element or string being searched for\n   * @param {object} options\n   * @return {boolean} Indicates if the element or CSS selector was previously\n   * passed to interact\n   */\n\n\n  interact.isSet = function (target, options) {\n    return !!this.scope.interactables.get(target, options && options.context);\n  };\n  /**\n   * @deprecated\n   * Add a global listener for an InteractEvent or adds a DOM event to `document`\n   *\n   * @alias module:interact.on\n   *\n   * @param {string | array | object} type The types of events to listen for\n   * @param {function} listener The function event (s)\n   * @param {object | boolean} [options] object or useCapture flag for\n   * addEventListener\n   * @return {object} interact\n   */\n\n\n  interact.on = warnOnce(function on(type, listener, options) {\n    if (is.string(type) && type.search(' ') !== -1) {\n      type = type.trim().split(/ +/);\n    }\n\n    if (is.array(type)) {\n      for (const eventType of type) {\n        this.on(eventType, listener, options);\n      }\n\n      return this;\n    }\n\n    if (is.object(type)) {\n      for (const prop in type) {\n        this.on(prop, type[prop], listener);\n      }\n\n      return this;\n    } // if it is an InteractEvent type, add listener to globalEvents\n\n\n    if (isNonNativeEvent(type, this.scope.actions)) {\n      // if this type of event was never bound\n      if (!this.globalEvents[type]) {\n        this.globalEvents[type] = [listener];\n      } else {\n        this.globalEvents[type].push(listener);\n      }\n    } // If non InteractEvent type, addEventListener to document\n    else {\n      this.scope.events.add(this.scope.document, type, listener, {\n        options\n      });\n    }\n\n    return this;\n  }, 'The interact.on() method is being deprecated');\n  /**\n   * @deprecated\n   * Removes a global InteractEvent listener or DOM event from `document`\n   *\n   * @alias module:interact.off\n   *\n   * @param {string | array | object} type The types of events that were listened\n   * for\n   * @param {function} listener The listener function to be removed\n   * @param {object | boolean} options [options] object or useCapture flag for\n   * removeEventListener\n   * @return {object} interact\n   */\n\n  interact.off = warnOnce(function off(type, listener, options) {\n    if (is.string(type) && type.search(' ') !== -1) {\n      type = type.trim().split(/ +/);\n    }\n\n    if (is.array(type)) {\n      for (const eventType of type) {\n        this.off(eventType, listener, options);\n      }\n\n      return this;\n    }\n\n    if (is.object(type)) {\n      for (const prop in type) {\n        this.off(prop, type[prop], listener);\n      }\n\n      return this;\n    }\n\n    if (isNonNativeEvent(type, this.scope.actions)) {\n      let index;\n\n      if (type in this.globalEvents && (index = this.globalEvents[type].indexOf(listener)) !== -1) {\n        this.globalEvents[type].splice(index, 1);\n      }\n    } else {\n      this.scope.events.remove(this.scope.document, type, listener, options);\n    }\n\n    return this;\n  }, 'The interact.off() method is being deprecated');\n\n  interact.debug = function () {\n    return this.scope;\n  };\n  /**\n   * @alias module:interact.supportsTouch\n   *\n   * @return {boolean} Whether or not the browser supports touch input\n   */\n\n\n  interact.supportsTouch = function () {\n    return browser.supportsTouch;\n  };\n  /**\n   * @alias module:interact.supportsPointerEvent\n   *\n   * @return {boolean} Whether or not the browser supports PointerEvents\n   */\n\n\n  interact.supportsPointerEvent = function () {\n    return browser.supportsPointerEvent;\n  };\n  /**\n   * Cancels all interactions (end events are not fired)\n   *\n   * @alias module:interact.stop\n   *\n   * @return {object} interact\n   */\n\n\n  interact.stop = function () {\n    for (const interaction of this.scope.interactions.list) {\n      interaction.stop();\n    }\n\n    return this;\n  };\n  /**\n   * Returns or sets the distance the pointer must be moved before an action\n   * sequence occurs. This also affects tolerance for tap events.\n   *\n   * @alias module:interact.pointerMoveTolerance\n   *\n   * @param {number} [newValue] The movement from the start position must be greater than this value\n   * @return {interact | number}\n   */\n\n\n  interact.pointerMoveTolerance = function (newValue) {\n    if (is.number(newValue)) {\n      this.scope.interactions.pointerMoveTolerance = newValue;\n      return this;\n    }\n\n    return this.scope.interactions.pointerMoveTolerance;\n  };\n\n  interact.addDocument = function (doc, options) {\n    this.scope.addDocument(doc, options);\n  };\n\n  interact.removeDocument = function (doc) {\n    this.scope.removeDocument(doc);\n  };\n\n  return interact;\n}\n//# sourceMappingURL=InteractStatic.js.map","/* eslint-disable no-dupe-class-members */\nimport * as arr from \"../utils/arr.js\";\nimport browser from \"../utils/browser.js\";\nimport clone from \"../utils/clone.js\";\nimport { getElementRect, matchesUpTo, nodeContains, trySelector } from \"../utils/domUtils.js\";\nimport extend from \"../utils/extend.js\";\nimport is from \"../utils/is.js\";\nimport normalizeListeners from \"../utils/normalizeListeners.js\";\nimport { getWindow } from \"../utils/window.js\";\nimport { Eventable } from './Eventable';\nimport isNonNativeEvent from './isNonNativeEvent';\n\n/** */\nexport class Interactable {\n  /** @internal */\n  get _defaults() {\n    return {\n      base: {},\n      perAction: {},\n      actions: {}\n    };\n  }\n\n  options;\n  _actions;\n  target;\n  events = new Eventable();\n  _context;\n  _win;\n  _doc;\n  _scopeEvents;\n  /** */\n\n  constructor(target, options, defaultContext, scopeEvents) {\n    this._actions = options.actions;\n    this.target = target;\n    this._context = options.context || defaultContext;\n    this._win = getWindow(trySelector(target) ? this._context : target);\n    this._doc = this._win.document;\n    this._scopeEvents = scopeEvents;\n    this.set(options);\n  }\n\n  setOnEvents(actionName, phases) {\n    if (is.func(phases.onstart)) {\n      this.on(`${actionName}start`, phases.onstart);\n    }\n\n    if (is.func(phases.onmove)) {\n      this.on(`${actionName}move`, phases.onmove);\n    }\n\n    if (is.func(phases.onend)) {\n      this.on(`${actionName}end`, phases.onend);\n    }\n\n    if (is.func(phases.oninertiastart)) {\n      this.on(`${actionName}inertiastart`, phases.oninertiastart);\n    }\n\n    return this;\n  }\n\n  updatePerActionListeners(actionName, prev, cur) {\n    if (is.array(prev) || is.object(prev)) {\n      this.off(actionName, prev);\n    }\n\n    if (is.array(cur) || is.object(cur)) {\n      this.on(actionName, cur);\n    }\n  }\n\n  setPerAction(actionName, options) {\n    const defaults = this._defaults; // for all the default per-action options\n\n    for (const optionName_ in options) {\n      const optionName = optionName_;\n      const actionOptions = this.options[actionName];\n      const optionValue = options[optionName]; // remove old event listeners and add new ones\n\n      if (optionName === 'listeners') {\n        this.updatePerActionListeners(actionName, actionOptions.listeners, optionValue);\n      } // if the option value is an array\n\n\n      if (is.array(optionValue)) {\n        ;\n        actionOptions[optionName] = arr.from(optionValue);\n      } // if the option value is an object\n      else if (is.plainObject(optionValue)) {\n        // copy the object\n        ;\n        actionOptions[optionName] = extend(actionOptions[optionName] || {}, clone(optionValue)); // set anabled field to true if it exists in the defaults\n\n        if (is.object(defaults.perAction[optionName]) && 'enabled' in defaults.perAction[optionName]) {\n          ;\n          actionOptions[optionName].enabled = optionValue.enabled !== false;\n        }\n      } // if the option value is a boolean and the default is an object\n      else if (is.bool(optionValue) && is.object(defaults.perAction[optionName])) {\n        ;\n        actionOptions[optionName].enabled = optionValue;\n      } // if it's anything else, do a plain assignment\n      else {\n        ;\n        actionOptions[optionName] = optionValue;\n      }\n    }\n  }\n  /**\n   * The default function to get an Interactables bounding rect. Can be\n   * overridden using {@link Interactable.rectChecker}.\n   *\n   * @param {Element} [element] The element to measure.\n   * @return {Rect} The object's bounding rectangle.\n   */\n\n\n  getRect(element) {\n    element = element || (is.element(this.target) ? this.target : null);\n\n    if (is.string(this.target)) {\n      element = element || this._context.querySelector(this.target);\n    }\n\n    return getElementRect(element);\n  }\n  /**\n   * Returns or sets the function used to calculate the interactable's\n   * element's rectangle\n   *\n   * @param {function} [checker] A function which returns this Interactable's\n   * bounding rectangle. See {@link Interactable.getRect}\n   * @return {function | object} The checker function or this Interactable\n   */\n\n\n  rectChecker(checker) {\n    if (is.func(checker)) {\n      this.getRect = element => {\n        const rect = extend({}, checker.apply(this, element));\n\n        if (!('width' in rect)) {\n          rect.width = rect.right - rect.left;\n          rect.height = rect.bottom - rect.top;\n        }\n\n        return rect;\n      };\n\n      return this;\n    }\n\n    if (checker === null) {\n      delete this.getRect;\n      return this;\n    }\n\n    return this.getRect;\n  }\n\n  _backCompatOption(optionName, newValue) {\n    if (trySelector(newValue) || is.object(newValue)) {\n      ;\n      this.options[optionName] = newValue;\n\n      for (const action in this._actions.map) {\n        ;\n        this.options[action][optionName] = newValue;\n      }\n\n      return this;\n    }\n\n    return this.options[optionName];\n  }\n  /**\n   * Gets or sets the origin of the Interactable's element.  The x and y\n   * of the origin will be subtracted from action event coordinates.\n   *\n   * @param {Element | object | string} [origin] An HTML or SVG Element whose\n   * rect will be used, an object eg. { x: 0, y: 0 } or string 'parent', 'self'\n   * or any CSS selector\n   *\n   * @return {object} The current origin or this Interactable\n   */\n\n\n  origin(newValue) {\n    return this._backCompatOption('origin', newValue);\n  }\n  /**\n   * Returns or sets the mouse coordinate types used to calculate the\n   * movement of the pointer.\n   *\n   * @param {string} [newValue] Use 'client' if you will be scrolling while\n   * interacting; Use 'page' if you want autoScroll to work\n   * @return {string | object} The current deltaSource or this Interactable\n   */\n\n\n  deltaSource(newValue) {\n    if (newValue === 'page' || newValue === 'client') {\n      this.options.deltaSource = newValue;\n      return this;\n    }\n\n    return this.options.deltaSource;\n  }\n  /**\n   * Gets the selector context Node of the Interactable. The default is\n   * `window.document`.\n   *\n   * @return {Node} The context Node of this Interactable\n   */\n\n\n  context() {\n    return this._context;\n  }\n\n  inContext(element) {\n    return this._context === element.ownerDocument || nodeContains(this._context, element);\n  }\n\n  testIgnoreAllow(options, targetNode, eventTarget) {\n    return !this.testIgnore(options.ignoreFrom, targetNode, eventTarget) && this.testAllow(options.allowFrom, targetNode, eventTarget);\n  }\n\n  testAllow(allowFrom, targetNode, element) {\n    if (!allowFrom) {\n      return true;\n    }\n\n    if (!is.element(element)) {\n      return false;\n    }\n\n    if (is.string(allowFrom)) {\n      return matchesUpTo(element, allowFrom, targetNode);\n    } else if (is.element(allowFrom)) {\n      return nodeContains(allowFrom, element);\n    }\n\n    return false;\n  }\n\n  testIgnore(ignoreFrom, targetNode, element) {\n    if (!ignoreFrom || !is.element(element)) {\n      return false;\n    }\n\n    if (is.string(ignoreFrom)) {\n      return matchesUpTo(element, ignoreFrom, targetNode);\n    } else if (is.element(ignoreFrom)) {\n      return nodeContains(ignoreFrom, element);\n    }\n\n    return false;\n  }\n  /**\n   * Calls listeners for the given InteractEvent type bound globally\n   * and directly to this Interactable\n   *\n   * @param {InteractEvent} iEvent The InteractEvent object to be fired on this\n   * Interactable\n   * @return {Interactable} this Interactable\n   */\n\n\n  fire(iEvent) {\n    this.events.fire(iEvent);\n    return this;\n  }\n\n  _onOff(method, typeArg, listenerArg, options) {\n    if (is.object(typeArg) && !is.array(typeArg)) {\n      options = listenerArg;\n      listenerArg = null;\n    }\n\n    const addRemove = method === 'on' ? 'add' : 'remove';\n    const listeners = normalizeListeners(typeArg, listenerArg);\n\n    for (let type in listeners) {\n      if (type === 'wheel') {\n        type = browser.wheelEvent;\n      }\n\n      for (const listener of listeners[type]) {\n        // if it is an action event type\n        if (isNonNativeEvent(type, this._actions)) {\n          this.events[method](type, listener);\n        } // delegated event\n        else if (is.string(this.target)) {\n          this._scopeEvents[`${addRemove}Delegate`](this.target, this._context, type, listener, options);\n        } // remove listener from this Interactable's element\n        else {\n          this._scopeEvents[addRemove](this.target, type, listener, options);\n        }\n      }\n    }\n\n    return this;\n  }\n  /**\n   * Binds a listener for an InteractEvent, pointerEvent or DOM event.\n   *\n   * @param {string | array | object} types The types of events to listen\n   * for\n   * @param {function | array | object} [listener] The event listener function(s)\n   * @param {object | boolean} [options] options object or useCapture flag for\n   * addEventListener\n   * @return {Interactable} This Interactable\n   */\n\n\n  on(types, listener, options) {\n    return this._onOff('on', types, listener, options);\n  }\n  /**\n   * Removes an InteractEvent, pointerEvent or DOM event listener.\n   *\n   * @param {string | array | object} types The types of events that were\n   * listened for\n   * @param {function | array | object} [listener] The event listener function(s)\n   * @param {object | boolean} [options] options object or useCapture flag for\n   * removeEventListener\n   * @return {Interactable} This Interactable\n   */\n\n\n  off(types, listener, options) {\n    return this._onOff('off', types, listener, options);\n  }\n  /**\n   * Reset the options of this Interactable\n   *\n   * @param {object} options The new settings to apply\n   * @return {object} This Interactable\n   */\n\n\n  set(options) {\n    const defaults = this._defaults;\n\n    if (!is.object(options)) {\n      options = {};\n    }\n\n    ;\n    this.options = clone(defaults.base);\n\n    for (const actionName_ in this._actions.methodDict) {\n      const actionName = actionName_;\n      const methodName = this._actions.methodDict[actionName];\n      this.options[actionName] = {};\n      this.setPerAction(actionName, extend(extend({}, defaults.perAction), defaults.actions[actionName]));\n      this[methodName](options[actionName]);\n    }\n\n    for (const setting in options) {\n      if (is.func(this[setting])) {\n        ;\n        this[setting](options[setting]);\n      }\n    }\n\n    return this;\n  }\n  /**\n   * Remove this interactable from the list of interactables and remove it's\n   * action capabilities and event listeners\n   */\n\n\n  unset() {\n    if (is.string(this.target)) {\n      // remove delegated events\n      for (const type in this._scopeEvents.delegatedEvents) {\n        const delegated = this._scopeEvents.delegatedEvents[type];\n\n        for (let i = delegated.length - 1; i >= 0; i--) {\n          const {\n            selector,\n            context,\n            listeners\n          } = delegated[i];\n\n          if (selector === this.target && context === this._context) {\n            delegated.splice(i, 1);\n          }\n\n          for (let l = listeners.length - 1; l >= 0; l--) {\n            this._scopeEvents.removeDelegate(this.target, this._context, type, listeners[l][0], listeners[l][1]);\n          }\n        }\n      }\n    } else {\n      this._scopeEvents.remove(this.target, 'all');\n    }\n  }\n\n}\n//# sourceMappingURL=Interactable.js.map","import * as arr from \"../utils/arr.js\";\nimport * as domUtils from \"../utils/domUtils.js\";\nimport extend from \"../utils/extend.js\";\nimport is from \"../utils/is.js\";\nexport class InteractableSet {\n  // all set interactables\n  list = [];\n  selectorMap = {};\n  scope;\n\n  constructor(scope) {\n    this.scope = scope;\n    scope.addListeners({\n      'interactable:unset': ({\n        interactable\n      }) => {\n        const {\n          target,\n          _context: context\n        } = interactable;\n        const targetMappings = is.string(target) ? this.selectorMap[target] : target[this.scope.id];\n        const targetIndex = arr.findIndex(targetMappings, m => m.context === context);\n\n        if (targetMappings[targetIndex]) {\n          // Destroying mappingInfo's context and interactable\n          targetMappings[targetIndex].context = null;\n          targetMappings[targetIndex].interactable = null;\n        }\n\n        targetMappings.splice(targetIndex, 1);\n      }\n    });\n  }\n\n  new(target, options) {\n    options = extend(options || {}, {\n      actions: this.scope.actions\n    });\n    const interactable = new this.scope.Interactable(target, options, this.scope.document, this.scope.events);\n    const mappingInfo = {\n      context: interactable._context,\n      interactable\n    };\n    this.scope.addDocument(interactable._doc);\n    this.list.push(interactable);\n\n    if (is.string(target)) {\n      if (!this.selectorMap[target]) {\n        this.selectorMap[target] = [];\n      }\n\n      this.selectorMap[target].push(mappingInfo);\n    } else {\n      if (!interactable.target[this.scope.id]) {\n        Object.defineProperty(target, this.scope.id, {\n          value: [],\n          configurable: true\n        });\n      }\n\n      ;\n      target[this.scope.id].push(mappingInfo);\n    }\n\n    this.scope.fire('interactable:new', {\n      target,\n      options,\n      interactable,\n      win: this.scope._win\n    });\n    return interactable;\n  }\n\n  get(target, options) {\n    const context = options && options.context || this.scope.document;\n    const isSelector = is.string(target);\n    const targetMappings = isSelector ? this.selectorMap[target] : target[this.scope.id];\n\n    if (!targetMappings) {\n      return null;\n    }\n\n    const found = arr.find(targetMappings, m => m.context === context && (isSelector || m.interactable.inContext(target)));\n    return found && found.interactable;\n  }\n\n  forEachMatch(node, callback) {\n    for (const interactable of this.list) {\n      let ret;\n\n      if ((is.string(interactable.target) ? // target is a selector and the element matches\n      is.element(node) && domUtils.matchesSelector(node, interactable.target) : // target is the element\n      node === interactable.target) && // the element is in context\n      interactable.inContext(node)) {\n        ret = callback(interactable);\n      }\n\n      if (ret !== undefined) {\n        return ret;\n      }\n    }\n  }\n\n}\n//# sourceMappingURL=InteractableSet.js.map","import * as arr from \"../utils/arr.js\";\nimport * as domUtils from \"../utils/domUtils.js\";\nimport extend from \"../utils/extend.js\";\nimport is from \"../utils/is.js\";\nimport pExtend from \"../utils/pointerExtend.js\";\nimport * as pointerUtils from \"../utils/pointerUtils.js\";\n\nfunction install(scope) {\n  var _scope$document;\n\n  const targets = [];\n  const delegatedEvents = {};\n  const documents = [];\n  const eventsMethods = {\n    add,\n    remove,\n    addDelegate,\n    removeDelegate,\n    delegateListener,\n    delegateUseCapture,\n    delegatedEvents,\n    documents,\n    targets,\n    supportsOptions: false,\n    supportsPassive: false\n  }; // check if browser supports passive events and options arg\n\n  (_scope$document = scope.document) == null ? void 0 : _scope$document.createElement('div').addEventListener('test', null, {\n    get capture() {\n      return eventsMethods.supportsOptions = true;\n    },\n\n    get passive() {\n      return eventsMethods.supportsPassive = true;\n    }\n\n  });\n  scope.events = eventsMethods;\n\n  function add(eventTarget, type, listener, optionalArg) {\n    const options = getOptions(optionalArg);\n    let target = arr.find(targets, t => t.eventTarget === eventTarget);\n\n    if (!target) {\n      target = {\n        eventTarget,\n        events: {}\n      };\n      targets.push(target);\n    }\n\n    if (!target.events[type]) {\n      target.events[type] = [];\n    }\n\n    if (eventTarget.addEventListener && !arr.contains(target.events[type], listener)) {\n      eventTarget.addEventListener(type, listener, eventsMethods.supportsOptions ? options : options.capture);\n      target.events[type].push(listener);\n    }\n  }\n\n  function remove(eventTarget, type, listener, optionalArg) {\n    const options = getOptions(optionalArg);\n    const targetIndex = arr.findIndex(targets, t => t.eventTarget === eventTarget);\n    const target = targets[targetIndex];\n\n    if (!target || !target.events) {\n      return;\n    }\n\n    if (type === 'all') {\n      for (type in target.events) {\n        if (target.events.hasOwnProperty(type)) {\n          remove(eventTarget, type, 'all');\n        }\n      }\n\n      return;\n    }\n\n    let typeIsEmpty = false;\n    const typeListeners = target.events[type];\n\n    if (typeListeners) {\n      if (listener === 'all') {\n        for (let i = typeListeners.length - 1; i >= 0; i--) {\n          remove(eventTarget, type, typeListeners[i], options);\n        }\n\n        return;\n      } else {\n        for (let i = 0; i < typeListeners.length; i++) {\n          if (typeListeners[i] === listener) {\n            eventTarget.removeEventListener(type, listener, eventsMethods.supportsOptions ? options : options.capture);\n            typeListeners.splice(i, 1);\n\n            if (typeListeners.length === 0) {\n              delete target.events[type];\n              typeIsEmpty = true;\n            }\n\n            break;\n          }\n        }\n      }\n    }\n\n    if (typeIsEmpty && !Object.keys(target.events).length) {\n      targets.splice(targetIndex, 1);\n    }\n  }\n\n  function addDelegate(selector, context, type, listener, optionalArg) {\n    const options = getOptions(optionalArg);\n\n    if (!delegatedEvents[type]) {\n      delegatedEvents[type] = []; // add delegate listener functions\n\n      for (const doc of documents) {\n        add(doc, type, delegateListener);\n        add(doc, type, delegateUseCapture, true);\n      }\n    }\n\n    const delegates = delegatedEvents[type];\n    let delegate = arr.find(delegates, d => d.selector === selector && d.context === context);\n\n    if (!delegate) {\n      delegate = {\n        selector,\n        context,\n        listeners: []\n      };\n      delegates.push(delegate);\n    }\n\n    delegate.listeners.push([listener, options]);\n  }\n\n  function removeDelegate(selector, context, type, listener, optionalArg) {\n    const options = getOptions(optionalArg);\n    const delegates = delegatedEvents[type];\n    let matchFound = false;\n    let index;\n    if (!delegates) return; // count from last index of delegated to 0\n\n    for (index = delegates.length - 1; index >= 0; index--) {\n      const cur = delegates[index]; // look for matching selector and context Node\n\n      if (cur.selector === selector && cur.context === context) {\n        const {\n          listeners\n        } = cur; // each item of the listeners array is an array: [function, capture, passive]\n\n        for (let i = listeners.length - 1; i >= 0; i--) {\n          const [fn, {\n            capture,\n            passive\n          }] = listeners[i]; // check if the listener functions and capture and passive flags match\n\n          if (fn === listener && capture === options.capture && passive === options.passive) {\n            // remove the listener from the array of listeners\n            listeners.splice(i, 1); // if all listeners for this target have been removed\n            // remove the target from the delegates array\n\n            if (!listeners.length) {\n              delegates.splice(index, 1); // remove delegate function from context\n\n              remove(context, type, delegateListener);\n              remove(context, type, delegateUseCapture, true);\n            } // only remove one listener\n\n\n            matchFound = true;\n            break;\n          }\n        }\n\n        if (matchFound) {\n          break;\n        }\n      }\n    }\n  } // bound to the interactable context when a DOM event\n  // listener is added to a selector interactable\n\n\n  function delegateListener(event, optionalArg) {\n    const options = getOptions(optionalArg);\n    const fakeEvent = new FakeEvent(event);\n    const delegates = delegatedEvents[event.type];\n    const [eventTarget] = pointerUtils.getEventTargets(event);\n    let element = eventTarget; // climb up document tree looking for selector matches\n\n    while (is.element(element)) {\n      for (let i = 0; i < delegates.length; i++) {\n        const cur = delegates[i];\n        const {\n          selector,\n          context\n        } = cur;\n\n        if (domUtils.matchesSelector(element, selector) && domUtils.nodeContains(context, eventTarget) && domUtils.nodeContains(context, element)) {\n          const {\n            listeners\n          } = cur;\n          fakeEvent.currentTarget = element;\n\n          for (const [fn, {\n            capture,\n            passive\n          }] of listeners) {\n            if (capture === options.capture && passive === options.passive) {\n              fn(fakeEvent);\n            }\n          }\n        }\n      }\n\n      element = domUtils.parentNode(element);\n    }\n  }\n\n  function delegateUseCapture(event) {\n    return delegateListener.call(this, event, true);\n  } // for type inferrence\n\n\n  return eventsMethods;\n}\n\nclass FakeEvent {\n  currentTarget;\n  originalEvent;\n  type;\n\n  constructor(originalEvent) {\n    this.originalEvent = originalEvent; // duplicate the event so that currentTarget can be changed\n\n    pExtend(this, originalEvent);\n  }\n\n  preventOriginalDefault() {\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation() {\n    this.originalEvent.stopPropagation();\n  }\n\n  stopImmediatePropagation() {\n    this.originalEvent.stopImmediatePropagation();\n  }\n\n}\n\nfunction getOptions(param) {\n  if (!is.object(param)) {\n    return {\n      capture: !!param,\n      passive: false\n    };\n  }\n\n  const options = extend({}, param);\n  options.capture = !!param.capture;\n  options.passive = !!param.passive;\n  return options;\n}\n\nexport default {\n  id: 'events',\n  install\n};\n//# sourceMappingURL=events.js.map","import * as dom from \"../utils/domUtils.js\";\nconst finder = {\n  methodOrder: ['simulationResume', 'mouseOrPen', 'hasPointer', 'idle'],\n\n  search(details) {\n    for (const method of finder.methodOrder) {\n      const interaction = finder[method](details);\n\n      if (interaction) {\n        return interaction;\n      }\n    }\n\n    return null;\n  },\n\n  // try to resume simulation with a new pointer\n  simulationResume({\n    pointerType,\n    eventType,\n    eventTarget,\n    scope\n  }) {\n    if (!/down|start/i.test(eventType)) {\n      return null;\n    }\n\n    for (const interaction of scope.interactions.list) {\n      let element = eventTarget;\n\n      if (interaction.simulation && interaction.simulation.allowResume && interaction.pointerType === pointerType) {\n        while (element) {\n          // if the element is the interaction element\n          if (element === interaction.element) {\n            return interaction;\n          }\n\n          element = dom.parentNode(element);\n        }\n      }\n    }\n\n    return null;\n  },\n\n  // if it's a mouse or pen interaction\n  mouseOrPen({\n    pointerId,\n    pointerType,\n    eventType,\n    scope\n  }) {\n    if (pointerType !== 'mouse' && pointerType !== 'pen') {\n      return null;\n    }\n\n    let firstNonActive;\n\n    for (const interaction of scope.interactions.list) {\n      if (interaction.pointerType === pointerType) {\n        // if it's a down event, skip interactions with running simulations\n        if (interaction.simulation && !hasPointerId(interaction, pointerId)) {\n          continue;\n        } // if the interaction is active, return it immediately\n\n\n        if (interaction.interacting()) {\n          return interaction;\n        } // otherwise save it and look for another active interaction\n        else if (!firstNonActive) {\n          firstNonActive = interaction;\n        }\n      }\n    } // if no active mouse interaction was found use the first inactive mouse\n    // interaction\n\n\n    if (firstNonActive) {\n      return firstNonActive;\n    } // find any mouse or pen interaction.\n    // ignore the interaction if the eventType is a *down, and a simulation\n    // is active\n\n\n    for (const interaction of scope.interactions.list) {\n      if (interaction.pointerType === pointerType && !(/down/i.test(eventType) && interaction.simulation)) {\n        return interaction;\n      }\n    }\n\n    return null;\n  },\n\n  // get interaction that has this pointer\n  hasPointer({\n    pointerId,\n    scope\n  }) {\n    for (const interaction of scope.interactions.list) {\n      if (hasPointerId(interaction, pointerId)) {\n        return interaction;\n      }\n    }\n\n    return null;\n  },\n\n  // get first idle interaction with a matching pointerType\n  idle({\n    pointerType,\n    scope\n  }) {\n    for (const interaction of scope.interactions.list) {\n      // if there's already a pointer held down\n      if (interaction.pointers.length === 1) {\n        const target = interaction.interactable; // don't add this pointer if there is a target interactable and it\n        // isn't gesturable\n\n        if (target && !(target.options.gesture && target.options.gesture.enabled)) {\n          continue;\n        }\n      } // maximum of 2 pointers per interaction\n      else if (interaction.pointers.length >= 2) {\n        continue;\n      }\n\n      if (!interaction.interacting() && pointerType === interaction.pointerType) {\n        return interaction;\n      }\n    }\n\n    return null;\n  }\n\n};\n\nfunction hasPointerId(interaction, pointerId) {\n  return interaction.pointers.some(({\n    id\n  }) => id === pointerId);\n}\n\nexport default finder;\n//# sourceMappingURL=interactionFinder.js.map","import browser from \"../utils/browser.js\";\nimport domObjects from \"../utils/domObjects.js\";\nimport { nodeContains } from \"../utils/domUtils.js\";\nimport * as pointerUtils from \"../utils/pointerUtils.js\";\nimport InteractionBase from './Interaction';\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\n\nimport './interactablePreventDefault';\nimport interactablePreventDefault from './interactablePreventDefault';\n/* eslint-enable import/no-duplicates */\n\nimport finder from './interactionFinder';\nconst methodNames = ['pointerDown', 'pointerMove', 'pointerUp', 'updatePointer', 'removePointer', 'windowBlur'];\n\nfunction install(scope) {\n  const listeners = {};\n\n  for (const method of methodNames) {\n    listeners[method] = doOnInteractions(method, scope);\n  }\n\n  const pEventTypes = browser.pEventTypes;\n  let docEvents;\n\n  if (domObjects.PointerEvent) {\n    docEvents = [{\n      type: pEventTypes.down,\n      listener: releasePointersOnRemovedEls\n    }, {\n      type: pEventTypes.down,\n      listener: listeners.pointerDown\n    }, {\n      type: pEventTypes.move,\n      listener: listeners.pointerMove\n    }, {\n      type: pEventTypes.up,\n      listener: listeners.pointerUp\n    }, {\n      type: pEventTypes.cancel,\n      listener: listeners.pointerUp\n    }];\n  } else {\n    docEvents = [{\n      type: 'mousedown',\n      listener: listeners.pointerDown\n    }, {\n      type: 'mousemove',\n      listener: listeners.pointerMove\n    }, {\n      type: 'mouseup',\n      listener: listeners.pointerUp\n    }, {\n      type: 'touchstart',\n      listener: releasePointersOnRemovedEls\n    }, {\n      type: 'touchstart',\n      listener: listeners.pointerDown\n    }, {\n      type: 'touchmove',\n      listener: listeners.pointerMove\n    }, {\n      type: 'touchend',\n      listener: listeners.pointerUp\n    }, {\n      type: 'touchcancel',\n      listener: listeners.pointerUp\n    }];\n  }\n\n  docEvents.push({\n    type: 'blur',\n\n    listener(event) {\n      for (const interaction of scope.interactions.list) {\n        interaction.documentBlur(event);\n      }\n    }\n\n  }); // for ignoring browser's simulated mouse events\n\n  scope.prevTouchTime = 0;\n  scope.Interaction = class extends InteractionBase {\n    get pointerMoveTolerance() {\n      return scope.interactions.pointerMoveTolerance;\n    }\n\n    set pointerMoveTolerance(value) {\n      scope.interactions.pointerMoveTolerance = value;\n    }\n\n    _now() {\n      return scope.now();\n    }\n\n  };\n  scope.interactions = {\n    // all active and idle interactions\n    list: [],\n\n    new(options) {\n      options.scopeFire = (name, arg) => scope.fire(name, arg);\n\n      const interaction = new scope.Interaction(options);\n      scope.interactions.list.push(interaction);\n      return interaction;\n    },\n\n    listeners,\n    docEvents,\n    pointerMoveTolerance: 1\n  };\n\n  function releasePointersOnRemovedEls() {\n    // for all inactive touch interactions with pointers down\n    for (const interaction of scope.interactions.list) {\n      if (!interaction.pointerIsDown || interaction.pointerType !== 'touch' || interaction._interacting) {\n        continue;\n      } // if a pointer is down on an element that is no longer in the DOM tree\n\n\n      for (const pointer of interaction.pointers) {\n        if (!scope.documents.some(({\n          doc\n        }) => nodeContains(doc, pointer.downTarget))) {\n          // remove the pointer from the interaction\n          interaction.removePointer(pointer.pointer, pointer.event);\n        }\n      }\n    }\n  }\n\n  scope.usePlugin(interactablePreventDefault);\n}\n\nfunction doOnInteractions(method, scope) {\n  return function (event) {\n    const interactions = scope.interactions.list;\n    const pointerType = pointerUtils.getPointerType(event);\n    const [eventTarget, curEventTarget] = pointerUtils.getEventTargets(event);\n    const matches = []; // [ [pointer, interaction], ...]\n\n    if (/^touch/.test(event.type)) {\n      scope.prevTouchTime = scope.now(); // @ts-expect-error\n\n      for (const changedTouch of event.changedTouches) {\n        const pointer = changedTouch;\n        const pointerId = pointerUtils.getPointerId(pointer);\n        const searchDetails = {\n          pointer,\n          pointerId,\n          pointerType,\n          eventType: event.type,\n          eventTarget,\n          curEventTarget,\n          scope\n        };\n        const interaction = getInteraction(searchDetails);\n        matches.push([searchDetails.pointer, searchDetails.eventTarget, searchDetails.curEventTarget, interaction]);\n      }\n    } else {\n      let invalidPointer = false;\n\n      if (!browser.supportsPointerEvent && /mouse/.test(event.type)) {\n        // ignore mouse events while touch interactions are active\n        for (let i = 0; i < interactions.length && !invalidPointer; i++) {\n          invalidPointer = interactions[i].pointerType !== 'mouse' && interactions[i].pointerIsDown;\n        } // try to ignore mouse events that are simulated by the browser\n        // after a touch event\n\n\n        invalidPointer = invalidPointer || scope.now() - scope.prevTouchTime < 500 || // on iOS and Firefox Mobile, MouseEvent.timeStamp is zero if simulated\n        event.timeStamp === 0;\n      }\n\n      if (!invalidPointer) {\n        const searchDetails = {\n          pointer: event,\n          pointerId: pointerUtils.getPointerId(event),\n          pointerType,\n          eventType: event.type,\n          curEventTarget,\n          eventTarget,\n          scope\n        };\n        const interaction = getInteraction(searchDetails);\n        matches.push([searchDetails.pointer, searchDetails.eventTarget, searchDetails.curEventTarget, interaction]);\n      }\n    } // eslint-disable-next-line no-shadow\n\n\n    for (const [pointer, eventTarget, curEventTarget, interaction] of matches) {\n      interaction[method](pointer, event, eventTarget, curEventTarget);\n    }\n  };\n}\n\nfunction getInteraction(searchDetails) {\n  const {\n    pointerType,\n    scope\n  } = searchDetails;\n  const foundInteraction = finder.search(searchDetails);\n  const signalArg = {\n    interaction: foundInteraction,\n    searchDetails\n  };\n  scope.fire('interactions:find', signalArg);\n  return signalArg.interaction || scope.interactions.new({\n    pointerType\n  });\n}\n\nfunction onDocSignal({\n  doc,\n  scope,\n  options\n}, eventMethodName) {\n  const {\n    interactions: {\n      docEvents\n    },\n    events\n  } = scope;\n  const eventMethod = events[eventMethodName];\n\n  if (scope.browser.isIOS && !options.events) {\n    options.events = {\n      passive: false\n    };\n  } // delegate event listener\n\n\n  for (const eventType in events.delegatedEvents) {\n    eventMethod(doc, eventType, events.delegateListener);\n    eventMethod(doc, eventType, events.delegateUseCapture, true);\n  }\n\n  const eventOptions = options && options.events;\n\n  for (const {\n    type,\n    listener\n  } of docEvents) {\n    eventMethod(doc, type, listener, eventOptions);\n  }\n}\n\nconst interactions = {\n  id: 'core/interactions',\n  install,\n  listeners: {\n    'scope:add-document': arg => onDocSignal(arg, 'add'),\n    'scope:remove-document': arg => onDocSignal(arg, 'remove'),\n    'interactable:unset': ({\n      interactable\n    }, scope) => {\n      // Stop and destroy related interactions when an Interactable is unset\n      for (let i = scope.interactions.list.length - 1; i >= 0; i--) {\n        const interaction = scope.interactions.list[i];\n\n        if (interaction.interactable !== interactable) {\n          continue;\n        }\n\n        interaction.stop();\n        scope.fire('interactions:destroy', {\n          interaction\n        });\n        interaction.destroy();\n\n        if (scope.interactions.list.length > 2) {\n          scope.interactions.list.splice(i, 1);\n        }\n      }\n    }\n  },\n  onDocSignal,\n  doOnInteractions,\n  methodNames\n};\nexport default interactions;\n//# sourceMappingURL=interactions.js.map","import browser from \"../utils/browser.js\";\nimport clone from \"../utils/clone.js\";\nimport domObjects from \"../utils/domObjects.js\";\nimport extend from \"../utils/extend.js\";\nimport is from \"../utils/is.js\";\nimport raf from \"../utils/raf.js\";\nimport * as win from \"../utils/window.js\";\nimport { Eventable } from './Eventable';\nimport { InteractEvent } from './InteractEvent';\nimport { createInteractStatic } from './InteractStatic';\nimport { Interactable as InteractableBase } from './Interactable';\nimport { InteractableSet } from './InteractableSet';\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\n\nimport './events';\nimport './interactions';\nimport events from './events';\nimport interactions from './interactions';\n/* eslint-enable import/no-duplicates */\n\nimport { defaults } from './options';\nexport class Scope {\n  id = `__interact_scope_${Math.floor(Math.random() * 100)}`;\n  isInitialized = false;\n  listenerMaps = [];\n  browser = browser;\n  defaults = clone(defaults);\n  Eventable = Eventable;\n  actions = {\n    map: {},\n    phases: {\n      start: true,\n      move: true,\n      end: true\n    },\n    methodDict: {},\n    phaselessTypes: {}\n  };\n  interactStatic = createInteractStatic(this);\n  InteractEvent = InteractEvent;\n  Interactable;\n  interactables = new InteractableSet(this); // main window\n\n  _win; // main document\n\n  document; // main window\n\n  window; // all documents being listened to\n\n  documents = [];\n  _plugins = {\n    list: [],\n    map: {}\n  };\n\n  constructor() {\n    const scope = this;\n    this.Interactable = class extends InteractableBase {\n      get _defaults() {\n        return scope.defaults;\n      }\n\n      set(options) {\n        super.set(options);\n        scope.fire('interactable:set', {\n          options,\n          interactable: this\n        });\n        return this;\n      }\n\n      unset() {\n        super.unset();\n        const index = scope.interactables.list.indexOf(this);\n        if (index < 0) return;\n        scope.interactables.list.splice(index, 1);\n        scope.fire('interactable:unset', {\n          interactable: this\n        });\n      }\n\n    };\n  }\n\n  addListeners(map, id) {\n    this.listenerMaps.push({\n      id,\n      map\n    });\n  }\n\n  fire(name, arg) {\n    for (const {\n      map: {\n        [name]: listener\n      }\n    } of this.listenerMaps) {\n      if (!!listener && listener(arg, this, name) === false) {\n        return false;\n      }\n    }\n  }\n\n  onWindowUnload = event => this.removeDocument(event.target);\n\n  init(window) {\n    return this.isInitialized ? this : initScope(this, window);\n  }\n\n  pluginIsInstalled(plugin) {\n    const {\n      id\n    } = plugin;\n    return id ? !!this._plugins.map[id] : this._plugins.list.indexOf(plugin) !== -1;\n  }\n\n  usePlugin(plugin, options) {\n    if (!this.isInitialized) {\n      return this;\n    }\n\n    if (this.pluginIsInstalled(plugin)) {\n      return this;\n    }\n\n    if (plugin.id) {\n      this._plugins.map[plugin.id] = plugin;\n    }\n\n    this._plugins.list.push(plugin);\n\n    if (plugin.install) {\n      plugin.install(this, options);\n    }\n\n    if (plugin.listeners && plugin.before) {\n      let index = 0;\n      const len = this.listenerMaps.length;\n      const before = plugin.before.reduce((acc, id) => {\n        acc[id] = true;\n        acc[pluginIdRoot(id)] = true;\n        return acc;\n      }, {});\n\n      for (; index < len; index++) {\n        const otherId = this.listenerMaps[index].id;\n\n        if (otherId && (before[otherId] || before[pluginIdRoot(otherId)])) {\n          break;\n        }\n      }\n\n      this.listenerMaps.splice(index, 0, {\n        id: plugin.id,\n        map: plugin.listeners\n      });\n    } else if (plugin.listeners) {\n      this.listenerMaps.push({\n        id: plugin.id,\n        map: plugin.listeners\n      });\n    }\n\n    return this;\n  }\n\n  addDocument(doc, options) {\n    // do nothing if document is already known\n    if (this.getDocIndex(doc) !== -1) {\n      return false;\n    }\n\n    const window = win.getWindow(doc);\n    options = options ? extend({}, options) : {};\n    this.documents.push({\n      doc,\n      options\n    });\n    this.events.documents.push(doc); // don't add an unload event for the main document\n    // so that the page may be cached in browser history\n\n    if (doc !== this.document) {\n      this.events.add(window, 'unload', this.onWindowUnload);\n    }\n\n    this.fire('scope:add-document', {\n      doc,\n      window,\n      scope: this,\n      options\n    });\n  }\n\n  removeDocument(doc) {\n    const index = this.getDocIndex(doc);\n    const window = win.getWindow(doc);\n    const options = this.documents[index].options;\n    this.events.remove(window, 'unload', this.onWindowUnload);\n    this.documents.splice(index, 1);\n    this.events.documents.splice(index, 1);\n    this.fire('scope:remove-document', {\n      doc,\n      window,\n      scope: this,\n      options\n    });\n  }\n\n  getDocIndex(doc) {\n    for (let i = 0; i < this.documents.length; i++) {\n      if (this.documents[i].doc === doc) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  getDocOptions(doc) {\n    const docIndex = this.getDocIndex(doc);\n    return docIndex === -1 ? null : this.documents[docIndex].options;\n  }\n\n  now() {\n    return (this.window.Date || Date).now();\n  }\n\n}\nexport function initScope(scope, window) {\n  scope.isInitialized = true;\n\n  if (is.window(window)) {\n    win.init(window);\n  }\n\n  domObjects.init(window);\n  browser.init(window);\n  raf.init(window); // @ts-expect-error\n\n  scope.window = window;\n  scope.document = window.document;\n  scope.usePlugin(interactions);\n  scope.usePlugin(events);\n  return scope;\n}\n\nfunction pluginIdRoot(id) {\n  return id && id.replace(/\\/.*$/, '');\n}\n//# sourceMappingURL=scope.js.map","import { Scope } from \"../core/scope.js\";\nconst scope = new Scope();\nconst interact = scope.interactStatic;\nexport default interact;\n\nconst _global = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : this;\n\nscope.init(_global);\n//# sourceMappingURL=index.js.map","export default (() => {});\n//# sourceMappingURL=edgeTarget.js.map","export default (() => {});\n//# sourceMappingURL=elements.js.map","export default (grid => {\n  const coordFields = [['x', 'y'], ['left', 'top'], ['right', 'bottom'], ['width', 'height']].filter(([xField, yField]) => xField in grid || yField in grid);\n\n  const gridFunc = (x, y) => {\n    const {\n      range,\n      limits = {\n        left: -Infinity,\n        right: Infinity,\n        top: -Infinity,\n        bottom: Infinity\n      },\n      offset = {\n        x: 0,\n        y: 0\n      }\n    } = grid;\n    const result = {\n      range,\n      grid,\n      x: null,\n      y: null\n    };\n\n    for (const [xField, yField] of coordFields) {\n      const gridx = Math.round((x - offset.x) / grid[xField]);\n      const gridy = Math.round((y - offset.y) / grid[yField]);\n      result[xField] = Math.max(limits.left, Math.min(limits.right, gridx * grid[xField] + offset.x));\n      result[yField] = Math.max(limits.top, Math.min(limits.bottom, gridy * grid[yField] + offset.y));\n    }\n\n    return result;\n  };\n\n  gridFunc.grid = grid;\n  gridFunc.coordFields = coordFields;\n  return gridFunc;\n});\n//# sourceMappingURL=grid.js.map","import extend from \"../utils/extend.js\";\nimport * as allSnappers from './all';\nconst snappersPlugin = {\n  id: 'snappers',\n\n  install(scope) {\n    const {\n      interactStatic: interact\n    } = scope;\n    interact.snappers = extend(interact.snappers || {}, allSnappers);\n    interact.createSnapGrid = interact.snappers.grid;\n  }\n\n};\nexport default snappersPlugin;\n//# sourceMappingURL=plugin.js.map","/**\n * @module modifiers/aspectRatio\n *\n * @description\n * This module forces elements to be resized with a specified dx/dy ratio.\n *\n * ```js\n * interact(target).resizable({\n *   modifiers: [\n *     interact.modifiers.snapSize({\n *       targets: [ interact.snappers.grid({ x: 20, y: 20 }) ],\n *     }),\n *     interact.aspectRatio({ ratio: 'preserve' }),\n *   ],\n * });\n * ```\n */\nimport extend from \"../utils/extend.js\";\nimport { addEdges } from \"../utils/rect.js\";\nimport Modification from './Modification';\nimport { makeModifier } from './base';\nconst aspectRatio = {\n  start(arg) {\n    const {\n      state,\n      rect,\n      edges,\n      pageCoords: coords\n    } = arg;\n    let {\n      ratio,\n      enabled\n    } = state.options;\n    const {\n      equalDelta,\n      modifiers\n    } = state.options;\n\n    if (ratio === 'preserve') {\n      ratio = rect.width / rect.height;\n    }\n\n    state.startCoords = extend({}, coords);\n    state.startRect = extend({}, rect);\n    state.ratio = ratio;\n    state.equalDelta = equalDelta;\n    const linkedEdges = state.linkedEdges = {\n      top: edges.top || edges.left && !edges.bottom,\n      left: edges.left || edges.top && !edges.right,\n      bottom: edges.bottom || edges.right && !edges.top,\n      right: edges.right || edges.bottom && !edges.left\n    };\n    state.xIsPrimaryAxis = !!(edges.left || edges.right);\n\n    if (state.equalDelta) {\n      const sign = (linkedEdges.left ? 1 : -1) * (linkedEdges.top ? 1 : -1);\n      state.edgeSign = {\n        x: sign,\n        y: sign\n      };\n    } else {\n      state.edgeSign = {\n        x: linkedEdges.left ? -1 : 1,\n        y: linkedEdges.top ? -1 : 1\n      };\n    }\n\n    if (enabled !== false) {\n      extend(edges, linkedEdges);\n    }\n\n    if (!(modifiers != null && modifiers.length)) return;\n    const subModification = new Modification(arg.interaction);\n    subModification.copyFrom(arg.interaction.modification);\n    subModification.prepareStates(modifiers);\n    state.subModification = subModification;\n    subModification.startAll({ ...arg\n    });\n  },\n\n  set(arg) {\n    const {\n      state,\n      rect,\n      coords\n    } = arg;\n    const {\n      linkedEdges\n    } = state;\n    const initialCoords = extend({}, coords);\n    const aspectMethod = state.equalDelta ? setEqualDelta : setRatio;\n    extend(arg.edges, linkedEdges);\n    aspectMethod(state, state.xIsPrimaryAxis, coords, rect);\n\n    if (!state.subModification) {\n      return null;\n    }\n\n    const correctedRect = extend({}, rect);\n    addEdges(linkedEdges, correctedRect, {\n      x: coords.x - initialCoords.x,\n      y: coords.y - initialCoords.y\n    });\n    const result = state.subModification.setAll({ ...arg,\n      rect: correctedRect,\n      edges: linkedEdges,\n      pageCoords: coords,\n      prevCoords: coords,\n      prevRect: correctedRect\n    });\n    const {\n      delta\n    } = result;\n\n    if (result.changed) {\n      const xIsCriticalAxis = Math.abs(delta.x) > Math.abs(delta.y); // do aspect modification again with critical edge axis as primary\n\n      aspectMethod(state, xIsCriticalAxis, result.coords, result.rect);\n      extend(coords, result.coords);\n    }\n\n    return result.eventProps;\n  },\n\n  defaults: {\n    ratio: 'preserve',\n    equalDelta: false,\n    modifiers: [],\n    enabled: false\n  }\n};\n\nfunction setEqualDelta({\n  startCoords,\n  edgeSign\n}, xIsPrimaryAxis, coords) {\n  if (xIsPrimaryAxis) {\n    coords.y = startCoords.y + (coords.x - startCoords.x) * edgeSign.y;\n  } else {\n    coords.x = startCoords.x + (coords.y - startCoords.y) * edgeSign.x;\n  }\n}\n\nfunction setRatio({\n  startRect,\n  startCoords,\n  ratio,\n  edgeSign\n}, xIsPrimaryAxis, coords, rect) {\n  if (xIsPrimaryAxis) {\n    const newHeight = rect.width / ratio;\n    coords.y = startCoords.y + (newHeight - startRect.height) * edgeSign.y;\n  } else {\n    const newWidth = rect.height * ratio;\n    coords.x = startCoords.x + (newWidth - startRect.width) * edgeSign.x;\n  }\n}\n\nexport default makeModifier(aspectRatio, 'aspectRatio');\nexport { aspectRatio };\n//# sourceMappingURL=aspectRatio.js.map","const noop = () => {};\n\nnoop._defaults = {};\nexport default noop;\n//# sourceMappingURL=noop.js.map","import extend from \"../../utils/extend.js\";\nimport is from \"../../utils/is.js\";\nimport * as rectUtils from \"../../utils/rect.js\";\nimport { makeModifier } from '../base';\n\nfunction start({\n  rect,\n  startOffset,\n  state,\n  interaction,\n  pageCoords\n}) {\n  const {\n    options\n  } = state;\n  const {\n    elementRect\n  } = options;\n  const offset = extend({\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0\n  }, options.offset || {});\n\n  if (rect && elementRect) {\n    const restriction = getRestrictionRect(options.restriction, interaction, pageCoords);\n\n    if (restriction) {\n      const widthDiff = restriction.right - restriction.left - rect.width;\n      const heightDiff = restriction.bottom - restriction.top - rect.height;\n\n      if (widthDiff < 0) {\n        offset.left += widthDiff;\n        offset.right += widthDiff;\n      }\n\n      if (heightDiff < 0) {\n        offset.top += heightDiff;\n        offset.bottom += heightDiff;\n      }\n    }\n\n    offset.left += startOffset.left - rect.width * elementRect.left;\n    offset.top += startOffset.top - rect.height * elementRect.top;\n    offset.right += startOffset.right - rect.width * (1 - elementRect.right);\n    offset.bottom += startOffset.bottom - rect.height * (1 - elementRect.bottom);\n  }\n\n  state.offset = offset;\n}\n\nfunction set({\n  coords,\n  interaction,\n  state\n}) {\n  const {\n    options,\n    offset\n  } = state;\n  const restriction = getRestrictionRect(options.restriction, interaction, coords);\n  if (!restriction) return;\n  const rect = rectUtils.xywhToTlbr(restriction);\n  coords.x = Math.max(Math.min(rect.right - offset.right, coords.x), rect.left + offset.left);\n  coords.y = Math.max(Math.min(rect.bottom - offset.bottom, coords.y), rect.top + offset.top);\n}\n\nexport function getRestrictionRect(value, interaction, coords) {\n  if (is.func(value)) {\n    return rectUtils.resolveRectLike(value, interaction.interactable, interaction.element, [coords.x, coords.y, interaction]);\n  } else {\n    return rectUtils.resolveRectLike(value, interaction.interactable, interaction.element);\n  }\n}\nconst defaults = {\n  restriction: null,\n  elementRect: null,\n  offset: null,\n  endOnly: false,\n  enabled: false\n};\nconst restrict = {\n  start,\n  set,\n  defaults\n};\nexport default makeModifier(restrict, 'restrict');\nexport { restrict };\n//# sourceMappingURL=pointer.js.map","// This module adds the options.resize.restrictEdges setting which sets min and\n// max for the top, left, bottom and right edges of the target being resized.\n//\n// interact(target).resize({\n//   edges: { top: true, left: true },\n//   restrictEdges: {\n//     inner: { top: 200, left: 200, right: 400, bottom: 400 },\n//     outer: { top:   0, left:   0, right: 600, bottom: 600 },\n//   },\n// })\nimport extend from \"../../utils/extend.js\";\nimport * as rectUtils from \"../../utils/rect.js\";\nimport { makeModifier } from '../base';\nimport { getRestrictionRect } from './pointer';\nconst noInner = {\n  top: +Infinity,\n  left: +Infinity,\n  bottom: -Infinity,\n  right: -Infinity\n};\nconst noOuter = {\n  top: -Infinity,\n  left: -Infinity,\n  bottom: +Infinity,\n  right: +Infinity\n};\n\nfunction start({\n  interaction,\n  startOffset,\n  state\n}) {\n  const {\n    options\n  } = state;\n  let offset;\n\n  if (options) {\n    const offsetRect = getRestrictionRect(options.offset, interaction, interaction.coords.start.page);\n    offset = rectUtils.rectToXY(offsetRect);\n  }\n\n  offset = offset || {\n    x: 0,\n    y: 0\n  };\n  state.offset = {\n    top: offset.y + startOffset.top,\n    left: offset.x + startOffset.left,\n    bottom: offset.y - startOffset.bottom,\n    right: offset.x - startOffset.right\n  };\n}\n\nfunction set({\n  coords,\n  edges,\n  interaction,\n  state\n}) {\n  const {\n    offset,\n    options\n  } = state;\n\n  if (!edges) {\n    return;\n  }\n\n  const page = extend({}, coords);\n  const inner = getRestrictionRect(options.inner, interaction, page) || {};\n  const outer = getRestrictionRect(options.outer, interaction, page) || {};\n  fixRect(inner, noInner);\n  fixRect(outer, noOuter);\n\n  if (edges.top) {\n    coords.y = Math.min(Math.max(outer.top + offset.top, page.y), inner.top + offset.top);\n  } else if (edges.bottom) {\n    coords.y = Math.max(Math.min(outer.bottom + offset.bottom, page.y), inner.bottom + offset.bottom);\n  }\n\n  if (edges.left) {\n    coords.x = Math.min(Math.max(outer.left + offset.left, page.x), inner.left + offset.left);\n  } else if (edges.right) {\n    coords.x = Math.max(Math.min(outer.right + offset.right, page.x), inner.right + offset.right);\n  }\n}\n\nfunction fixRect(rect, defaults) {\n  for (const edge of ['top', 'left', 'bottom', 'right']) {\n    if (!(edge in rect)) {\n      rect[edge] = defaults[edge];\n    }\n  }\n\n  return rect;\n}\n\nconst defaults = {\n  inner: null,\n  outer: null,\n  offset: null,\n  endOnly: false,\n  enabled: false\n};\nconst restrictEdges = {\n  noInner,\n  noOuter,\n  start,\n  set,\n  defaults\n};\nexport default makeModifier(restrictEdges, 'restrictEdges');\nexport { restrictEdges };\n//# sourceMappingURL=edges.js.map","import extend from \"../../utils/extend.js\";\nimport { makeModifier } from '../base';\nimport { restrict } from './pointer';\nconst defaults = extend({\n  get elementRect() {\n    return {\n      top: 0,\n      left: 0,\n      bottom: 1,\n      right: 1\n    };\n  },\n\n  set elementRect(_) {}\n\n}, restrict.defaults);\nconst restrictRect = {\n  start: restrict.start,\n  set: restrict.set,\n  defaults\n};\nexport default makeModifier(restrictRect, 'restrictRect');\nexport { restrictRect };\n//# sourceMappingURL=rect.js.map","import extend from \"../../utils/extend.js\";\nimport * as rectUtils from \"../../utils/rect.js\";\nimport { makeModifier } from '../base';\nimport { restrictEdges } from './edges';\nimport { getRestrictionRect } from './pointer';\nconst noMin = {\n  width: -Infinity,\n  height: -Infinity\n};\nconst noMax = {\n  width: +Infinity,\n  height: +Infinity\n};\n\nfunction start(arg) {\n  return restrictEdges.start(arg);\n}\n\nfunction set(arg) {\n  const {\n    interaction,\n    state,\n    rect,\n    edges\n  } = arg;\n  const {\n    options\n  } = state;\n\n  if (!edges) {\n    return;\n  }\n\n  const minSize = rectUtils.tlbrToXywh(getRestrictionRect(options.min, interaction, arg.coords)) || noMin;\n  const maxSize = rectUtils.tlbrToXywh(getRestrictionRect(options.max, interaction, arg.coords)) || noMax;\n  state.options = {\n    endOnly: options.endOnly,\n    inner: extend({}, restrictEdges.noInner),\n    outer: extend({}, restrictEdges.noOuter)\n  };\n\n  if (edges.top) {\n    state.options.inner.top = rect.bottom - minSize.height;\n    state.options.outer.top = rect.bottom - maxSize.height;\n  } else if (edges.bottom) {\n    state.options.inner.bottom = rect.top + minSize.height;\n    state.options.outer.bottom = rect.top + maxSize.height;\n  }\n\n  if (edges.left) {\n    state.options.inner.left = rect.right - minSize.width;\n    state.options.outer.left = rect.right - maxSize.width;\n  } else if (edges.right) {\n    state.options.inner.right = rect.left + minSize.width;\n    state.options.outer.right = rect.left + maxSize.width;\n  }\n\n  restrictEdges.set(arg);\n  state.options = options;\n}\n\nconst defaults = {\n  min: null,\n  max: null,\n  endOnly: false,\n  enabled: false\n};\nconst restrictSize = {\n  start,\n  set,\n  defaults\n};\nexport default makeModifier(restrictSize, 'restrictSize');\nexport { restrictSize };\n//# sourceMappingURL=size.js.map","import extend from \"../../utils/extend.js\";\nimport getOriginXY from \"../../utils/getOriginXY.js\";\nimport hypot from \"../../utils/hypot.js\";\nimport is from \"../../utils/is.js\";\nimport { resolveRectLike, rectToXY } from \"../../utils/rect.js\";\nimport { makeModifier } from '../base';\n\nfunction start(arg) {\n  const {\n    interaction,\n    interactable,\n    element,\n    rect,\n    state,\n    startOffset\n  } = arg;\n  const {\n    options\n  } = state;\n  const origin = options.offsetWithOrigin ? getOrigin(arg) : {\n    x: 0,\n    y: 0\n  };\n  let snapOffset;\n\n  if (options.offset === 'startCoords') {\n    snapOffset = {\n      x: interaction.coords.start.page.x,\n      y: interaction.coords.start.page.y\n    };\n  } else {\n    const offsetRect = resolveRectLike(options.offset, interactable, element, [interaction]);\n    snapOffset = rectToXY(offsetRect) || {\n      x: 0,\n      y: 0\n    };\n    snapOffset.x += origin.x;\n    snapOffset.y += origin.y;\n  }\n\n  const {\n    relativePoints\n  } = options;\n  state.offsets = rect && relativePoints && relativePoints.length ? relativePoints.map((relativePoint, index) => ({\n    index,\n    relativePoint,\n    x: startOffset.left - rect.width * relativePoint.x + snapOffset.x,\n    y: startOffset.top - rect.height * relativePoint.y + snapOffset.y\n  })) : [{\n    index: 0,\n    relativePoint: null,\n    x: snapOffset.x,\n    y: snapOffset.y\n  }];\n}\n\nfunction set(arg) {\n  const {\n    interaction,\n    coords,\n    state\n  } = arg;\n  const {\n    options,\n    offsets\n  } = state;\n  const origin = getOriginXY(interaction.interactable, interaction.element, interaction.prepared.name);\n  const page = extend({}, coords);\n  const targets = [];\n\n  if (!options.offsetWithOrigin) {\n    page.x -= origin.x;\n    page.y -= origin.y;\n  }\n\n  for (const offset of offsets) {\n    const relativeX = page.x - offset.x;\n    const relativeY = page.y - offset.y;\n\n    for (let index = 0, len = options.targets.length; index < len; index++) {\n      const snapTarget = options.targets[index];\n      let target;\n\n      if (is.func(snapTarget)) {\n        target = snapTarget(relativeX, relativeY, interaction._proxy, offset, index);\n      } else {\n        target = snapTarget;\n      }\n\n      if (!target) {\n        continue;\n      }\n\n      targets.push({\n        x: (is.number(target.x) ? target.x : relativeX) + offset.x,\n        y: (is.number(target.y) ? target.y : relativeY) + offset.y,\n        range: is.number(target.range) ? target.range : options.range,\n        source: snapTarget,\n        index,\n        offset\n      });\n    }\n  }\n\n  const closest = {\n    target: null,\n    inRange: false,\n    distance: 0,\n    range: 0,\n    delta: {\n      x: 0,\n      y: 0\n    }\n  };\n\n  for (const target of targets) {\n    const range = target.range;\n    const dx = target.x - page.x;\n    const dy = target.y - page.y;\n    const distance = hypot(dx, dy);\n    let inRange = distance <= range; // Infinite targets count as being out of range\n    // compared to non infinite ones that are in range\n\n    if (range === Infinity && closest.inRange && closest.range !== Infinity) {\n      inRange = false;\n    }\n\n    if (!closest.target || (inRange ? // is the closest target in range?\n    closest.inRange && range !== Infinity ? // the pointer is relatively deeper in this target\n    distance / range < closest.distance / closest.range : // this target has Infinite range and the closest doesn't\n    range === Infinity && closest.range !== Infinity || // OR this target is closer that the previous closest\n    distance < closest.distance : // The other is not in range and the pointer is closer to this target\n    !closest.inRange && distance < closest.distance)) {\n      closest.target = target;\n      closest.distance = distance;\n      closest.range = range;\n      closest.inRange = inRange;\n      closest.delta.x = dx;\n      closest.delta.y = dy;\n    }\n  }\n\n  if (closest.inRange) {\n    coords.x = closest.target.x;\n    coords.y = closest.target.y;\n  }\n\n  state.closest = closest;\n  return closest;\n}\n\nfunction getOrigin(arg) {\n  const {\n    element\n  } = arg.interaction;\n  const optionsOrigin = rectToXY(resolveRectLike(arg.state.options.origin, null, null, [element]));\n  const origin = optionsOrigin || getOriginXY(arg.interactable, element, arg.interaction.prepared.name);\n  return origin;\n}\n\nconst defaults = {\n  range: Infinity,\n  targets: null,\n  offset: null,\n  offsetWithOrigin: true,\n  origin: null,\n  relativePoints: null,\n  endOnly: false,\n  enabled: false\n};\nconst snap = {\n  start,\n  set,\n  defaults\n};\nexport default makeModifier(snap, 'snap');\nexport { snap };\n//# sourceMappingURL=pointer.js.map","// This module allows snapping of the size of targets during resize\n// interactions.\nimport extend from \"../../utils/extend.js\";\nimport is from \"../../utils/is.js\";\nimport { makeModifier } from '../base';\nimport { snap } from './pointer';\n\nfunction start(arg) {\n  const {\n    state,\n    edges\n  } = arg;\n  const {\n    options\n  } = state;\n\n  if (!edges) {\n    return null;\n  }\n\n  arg.state = {\n    options: {\n      targets: null,\n      relativePoints: [{\n        x: edges.left ? 0 : 1,\n        y: edges.top ? 0 : 1\n      }],\n      offset: options.offset || 'self',\n      origin: {\n        x: 0,\n        y: 0\n      },\n      range: options.range\n    }\n  };\n  state.targetFields = state.targetFields || [['width', 'height'], ['x', 'y']];\n  snap.start(arg);\n  state.offsets = arg.state.offsets;\n  arg.state = state;\n}\n\nfunction set(arg) {\n  const {\n    interaction,\n    state,\n    coords\n  } = arg;\n  const {\n    options,\n    offsets\n  } = state;\n  const relative = {\n    x: coords.x - offsets[0].x,\n    y: coords.y - offsets[0].y\n  };\n  state.options = extend({}, options);\n  state.options.targets = [];\n\n  for (const snapTarget of options.targets || []) {\n    let target;\n\n    if (is.func(snapTarget)) {\n      target = snapTarget(relative.x, relative.y, interaction);\n    } else {\n      target = snapTarget;\n    }\n\n    if (!target) {\n      continue;\n    }\n\n    for (const [xField, yField] of state.targetFields) {\n      if (xField in target || yField in target) {\n        target.x = target[xField];\n        target.y = target[yField];\n        break;\n      }\n    }\n\n    state.options.targets.push(target);\n  }\n\n  const returnValue = snap.set(arg);\n  state.options = options;\n  return returnValue;\n}\n\nconst defaults = {\n  range: Infinity,\n  targets: null,\n  offset: null,\n  endOnly: false,\n  enabled: false\n};\nconst snapSize = {\n  start,\n  set,\n  defaults\n};\nexport default makeModifier(snapSize, 'snapSize');\nexport { snapSize };\n//# sourceMappingURL=size.js.map","/**\n * @module modifiers/snapEdges\n *\n * @description\n * WOW> This module allows snapping of the edges of targets during resize\n * interactions.\n *\n * ```js\n * interact(target).resizable({\n *   snapEdges: {\n *     targets: [interact.snappers.grid({ x: 100, y: 50 })],\n *   },\n * })\n *\n * interact(target).resizable({\n *   snapEdges: {\n *     targets: [\n *       interact.snappers.grid({\n *        top: 50,\n *        left: 50,\n *        bottom: 100,\n *        right: 100,\n *       }),\n *     ],\n *   },\n * })\n * ```\n */\nimport clone from \"../../utils/clone.js\";\nimport extend from \"../../utils/extend.js\";\nimport { makeModifier } from '../base';\nimport { snapSize } from './size';\n\nfunction start(arg) {\n  const {\n    edges\n  } = arg;\n\n  if (!edges) {\n    return null;\n  }\n\n  arg.state.targetFields = arg.state.targetFields || [[edges.left ? 'left' : 'right', edges.top ? 'top' : 'bottom']];\n  return snapSize.start(arg);\n}\n\nconst snapEdges = {\n  start,\n  set: snapSize.set,\n  defaults: extend(clone(snapSize.defaults), {\n    targets: undefined,\n    range: undefined,\n    offset: {\n      x: 0,\n      y: 0\n    }\n  })\n};\nexport default makeModifier(snapEdges, 'snapEdges');\nexport { snapEdges };\n//# sourceMappingURL=edges.js.map","/* eslint-disable n/no-extraneous-import, import/no-unresolved */\nimport aspectRatio from './aspectRatio';\nimport avoid from './avoid/avoid';\nimport restrictEdges from './restrict/edges';\nimport restrict from './restrict/pointer';\nimport restrictRect from './restrict/rect';\nimport restrictSize from './restrict/size';\nimport rubberband from './rubberband/rubberband';\nimport snapEdges from './snap/edges';\nimport snap from './snap/pointer';\nimport snapSize from './snap/size';\nimport spring from './spring/spring';\nimport transform from './transform/transform';\nexport default {\n  aspectRatio,\n  restrictEdges,\n  restrict,\n  restrictRect,\n  restrictSize,\n  snapEdges,\n  snap,\n  snapSize,\n  spring,\n  avoid,\n  transform,\n  rubberband\n};\n//# sourceMappingURL=all.js.map","import snappers from \"../snappers/plugin.js\";\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\n\nimport './all';\nimport './base';\nimport all from './all';\nimport base from './base';\n/* eslint-enable import/no-duplicates */\n\nconst modifiers = {\n  id: 'modifiers',\n\n  install(scope) {\n    const {\n      interactStatic: interact\n    } = scope;\n    scope.usePlugin(base);\n    scope.usePlugin(snappers);\n    interact.modifiers = all; // for backwrads compatibility\n\n    for (const type in all) {\n      const {\n        _defaults,\n        _methods\n      } = all[type];\n      _defaults._methods = _methods;\n      scope.defaults.perAction[type] = _defaults;\n    }\n  }\n\n};\nexport default modifiers;\n//# sourceMappingURL=plugin.js.map","import { BaseEvent } from \"../core/BaseEvent.js\";\nimport * as pointerUtils from \"../utils/pointerUtils.js\";\nexport default class PointerEvent extends BaseEvent {\n  /** */\n  constructor(type, pointer, event, eventTarget, interaction, timeStamp) {\n    super(interaction);\n    pointerUtils.pointerExtend(this, event);\n\n    if (event !== pointer) {\n      pointerUtils.pointerExtend(this, pointer);\n    }\n\n    this.timeStamp = timeStamp;\n    this.originalEvent = event;\n    this.type = type;\n    this.pointerId = pointerUtils.getPointerId(pointer);\n    this.pointerType = pointerUtils.getPointerType(pointer);\n    this.target = eventTarget;\n    this.currentTarget = null;\n\n    if (type === 'tap') {\n      const pointerIndex = interaction.getPointerIndex(pointer);\n      this.dt = this.timeStamp - interaction.pointers[pointerIndex].downTime;\n      const interval = this.timeStamp - interaction.tapTime;\n      this.double = !!interaction.prevTap && interaction.prevTap.type !== 'doubletap' && interaction.prevTap.target === this.target && interval < 500;\n    } else if (type === 'doubletap') {\n      this.dt = pointer.timeStamp - interaction.tapTime;\n      this.double = true;\n    }\n  }\n\n  _subtractOrigin({\n    x: originX,\n    y: originY\n  }) {\n    this.pageX -= originX;\n    this.pageY -= originY;\n    this.clientX -= originX;\n    this.clientY -= originY;\n    return this;\n  }\n\n  _addOrigin({\n    x: originX,\n    y: originY\n  }) {\n    this.pageX += originX;\n    this.pageY += originY;\n    this.clientX += originX;\n    this.clientY += originY;\n    return this;\n  }\n  /**\n   * Prevent the default behaviour of the original Event\n   */\n\n\n  preventDefault() {\n    this.originalEvent.preventDefault();\n  }\n\n}\nexport { PointerEvent };\n//# sourceMappingURL=PointerEvent.js.map","import * as domUtils from \"../utils/domUtils.js\";\nimport extend from \"../utils/extend.js\";\nimport getOriginXY from \"../utils/getOriginXY.js\";\nimport { PointerEvent } from './PointerEvent';\nconst defaults = {\n  holdDuration: 600,\n  ignoreFrom: null,\n  allowFrom: null,\n  origin: {\n    x: 0,\n    y: 0\n  }\n};\nconst pointerEvents = {\n  id: 'pointer-events/base',\n  before: ['inertia', 'modifiers', 'auto-start', 'actions'],\n  install,\n  listeners: {\n    'interactions:new': addInteractionProps,\n    'interactions:update-pointer': addHoldInfo,\n    'interactions:move': moveAndClearHold,\n    'interactions:down': (arg, scope) => {\n      downAndStartHold(arg, scope);\n      fire(arg, scope);\n    },\n    'interactions:up': (arg, scope) => {\n      clearHold(arg);\n      fire(arg, scope);\n      tapAfterUp(arg, scope);\n    },\n    'interactions:cancel': (arg, scope) => {\n      clearHold(arg);\n      fire(arg, scope);\n    }\n  },\n  PointerEvent,\n  fire,\n  collectEventTargets,\n  defaults,\n  types: {\n    down: true,\n    move: true,\n    up: true,\n    cancel: true,\n    tap: true,\n    doubletap: true,\n    hold: true\n  }\n};\n\nfunction fire(arg, scope) {\n  const {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    type,\n    targets = collectEventTargets(arg, scope)\n  } = arg;\n  const pointerEvent = new PointerEvent(type, pointer, event, eventTarget, interaction, scope.now());\n  scope.fire('pointerEvents:new', {\n    pointerEvent\n  });\n  const signalArg = {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    targets,\n    type,\n    pointerEvent\n  };\n\n  for (let i = 0; i < targets.length; i++) {\n    const target = targets[i];\n\n    for (const prop in target.props || {}) {\n      ;\n      pointerEvent[prop] = target.props[prop];\n    }\n\n    const origin = getOriginXY(target.eventable, target.node);\n\n    pointerEvent._subtractOrigin(origin);\n\n    pointerEvent.eventable = target.eventable;\n    pointerEvent.currentTarget = target.node;\n    target.eventable.fire(pointerEvent);\n\n    pointerEvent._addOrigin(origin);\n\n    if (pointerEvent.immediatePropagationStopped || pointerEvent.propagationStopped && i + 1 < targets.length && targets[i + 1].node !== pointerEvent.currentTarget) {\n      break;\n    }\n  }\n\n  scope.fire('pointerEvents:fired', signalArg);\n\n  if (type === 'tap') {\n    // if pointerEvent should make a double tap, create and fire a doubletap\n    // PointerEvent and use that as the prevTap\n    const prevTap = pointerEvent.double ? fire({\n      interaction,\n      pointer,\n      event,\n      eventTarget,\n      type: 'doubletap'\n    }, scope) : pointerEvent;\n    interaction.prevTap = prevTap;\n    interaction.tapTime = prevTap.timeStamp;\n  }\n\n  return pointerEvent;\n}\n\nfunction collectEventTargets({\n  interaction,\n  pointer,\n  event,\n  eventTarget,\n  type\n}, scope) {\n  const pointerIndex = interaction.getPointerIndex(pointer);\n  const pointerInfo = interaction.pointers[pointerIndex]; // do not fire a tap event if the pointer was moved before being lifted\n\n  if (type === 'tap' && (interaction.pointerWasMoved || // or if the pointerup target is different to the pointerdown target\n  !(pointerInfo && pointerInfo.downTarget === eventTarget))) {\n    return [];\n  }\n\n  const path = domUtils.getPath(eventTarget);\n  const signalArg = {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    type,\n    path,\n    targets: [],\n    node: null\n  };\n\n  for (const node of path) {\n    signalArg.node = node;\n    scope.fire('pointerEvents:collect-targets', signalArg);\n  }\n\n  if (type === 'hold') {\n    signalArg.targets = signalArg.targets.filter(target => {\n      var _interaction$pointers, _interaction$pointers2;\n\n      return target.eventable.options.holdDuration === ((_interaction$pointers = interaction.pointers[pointerIndex]) == null ? void 0 : (_interaction$pointers2 = _interaction$pointers.hold) == null ? void 0 : _interaction$pointers2.duration);\n    });\n  }\n\n  return signalArg.targets;\n}\n\nfunction addInteractionProps({\n  interaction\n}) {\n  interaction.prevTap = null; // the most recent tap event on this interaction\n\n  interaction.tapTime = 0; // time of the most recent tap event\n}\n\nfunction addHoldInfo({\n  down,\n  pointerInfo\n}) {\n  if (!down && pointerInfo.hold) {\n    return;\n  }\n\n  pointerInfo.hold = {\n    duration: Infinity,\n    timeout: null\n  };\n}\n\nfunction clearHold({\n  interaction,\n  pointerIndex\n}) {\n  const hold = interaction.pointers[pointerIndex].hold;\n\n  if (hold && hold.timeout) {\n    clearTimeout(hold.timeout);\n    hold.timeout = null;\n  }\n}\n\nfunction moveAndClearHold(arg, scope) {\n  const {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    duplicate\n  } = arg;\n\n  if (!duplicate && (!interaction.pointerIsDown || interaction.pointerWasMoved)) {\n    if (interaction.pointerIsDown) {\n      clearHold(arg);\n    }\n\n    fire({\n      interaction,\n      pointer,\n      event,\n      eventTarget: eventTarget,\n      type: 'move'\n    }, scope);\n  }\n}\n\nfunction downAndStartHold({\n  interaction,\n  pointer,\n  event,\n  eventTarget,\n  pointerIndex\n}, scope) {\n  const timer = interaction.pointers[pointerIndex].hold;\n  const path = domUtils.getPath(eventTarget);\n  const signalArg = {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    type: 'hold',\n    targets: [],\n    path,\n    node: null\n  };\n\n  for (const node of path) {\n    signalArg.node = node;\n    scope.fire('pointerEvents:collect-targets', signalArg);\n  }\n\n  if (!signalArg.targets.length) return;\n  let minDuration = Infinity;\n\n  for (const target of signalArg.targets) {\n    const holdDuration = target.eventable.options.holdDuration;\n\n    if (holdDuration < minDuration) {\n      minDuration = holdDuration;\n    }\n  }\n\n  timer.duration = minDuration;\n  timer.timeout = setTimeout(() => {\n    fire({\n      interaction,\n      eventTarget,\n      pointer,\n      event,\n      type: 'hold'\n    }, scope);\n  }, minDuration);\n}\n\nfunction tapAfterUp({\n  interaction,\n  pointer,\n  event,\n  eventTarget\n}, scope) {\n  if (!interaction.pointerWasMoved) {\n    fire({\n      interaction,\n      eventTarget,\n      pointer,\n      event,\n      type: 'tap'\n    }, scope);\n  }\n}\n\nfunction install(scope) {\n  scope.pointerEvents = pointerEvents;\n  scope.defaults.actions.pointerEvents = pointerEvents.defaults;\n  extend(scope.actions.phaselessTypes, pointerEvents.types);\n}\n\nexport default pointerEvents;\n//# sourceMappingURL=base.js.map","/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './base';\nimport basePlugin from './base';\n/* eslint-enable import/no-duplicates */\n\nfunction install(scope) {\n  scope.usePlugin(basePlugin);\n  const {\n    pointerEvents\n  } = scope; // don't repeat by default\n\n  pointerEvents.defaults.holdRepeatInterval = 0;\n  pointerEvents.types.holdrepeat = scope.actions.phaselessTypes.holdrepeat = true;\n}\n\nfunction onNew({\n  pointerEvent\n}) {\n  if (pointerEvent.type !== 'hold') return;\n  pointerEvent.count = (pointerEvent.count || 0) + 1;\n}\n\nfunction onFired({\n  interaction,\n  pointerEvent,\n  eventTarget,\n  targets\n}, scope) {\n  if (pointerEvent.type !== 'hold' || !targets.length) return; // get the repeat interval from the first eventable\n\n  const interval = targets[0].eventable.options.holdRepeatInterval; // don't repeat if the interval is 0 or less\n\n  if (interval <= 0) return; // set a timeout to fire the holdrepeat event\n\n  interaction.holdIntervalHandle = setTimeout(() => {\n    scope.pointerEvents.fire({\n      interaction,\n      eventTarget,\n      type: 'hold',\n      pointer: pointerEvent,\n      event: pointerEvent\n    }, scope);\n  }, interval);\n}\n\nfunction endHoldRepeat({\n  interaction\n}) {\n  // set the interaction's holdStopTime property\n  // to stop further holdRepeat events\n  if (interaction.holdIntervalHandle) {\n    clearInterval(interaction.holdIntervalHandle);\n    interaction.holdIntervalHandle = null;\n  }\n}\n\nconst holdRepeat = {\n  id: 'pointer-events/holdRepeat',\n  install,\n  listeners: ['move', 'up', 'cancel', 'endall'].reduce((acc, enderTypes) => {\n    ;\n    acc[`pointerEvents:${enderTypes}`] = endHoldRepeat;\n    return acc;\n  }, {\n    'pointerEvents:new': onNew,\n    'pointerEvents:fired': onFired\n  })\n};\nexport default holdRepeat;\n//# sourceMappingURL=holdRepeat.js.map","import extend from \"../utils/extend.js\";\n\nfunction install(scope) {\n  const {\n    Interactable\n  } = scope;\n  Interactable.prototype.pointerEvents = pointerEventsMethod;\n  const __backCompatOption = Interactable.prototype._backCompatOption;\n\n  Interactable.prototype._backCompatOption = function (optionName, newValue) {\n    const ret = __backCompatOption.call(this, optionName, newValue);\n\n    if (ret === this) {\n      this.events.options[optionName] = newValue;\n    }\n\n    return ret;\n  };\n}\n\nfunction pointerEventsMethod(options) {\n  extend(this.events.options, options);\n  return this;\n}\n\nconst plugin = {\n  id: 'pointer-events/interactableTargets',\n  install,\n  listeners: {\n    'pointerEvents:collect-targets': ({\n      targets,\n      node,\n      type,\n      eventTarget\n    }, scope) => {\n      scope.interactables.forEachMatch(node, interactable => {\n        const eventable = interactable.events;\n        const options = eventable.options;\n\n        if (eventable.types[type] && eventable.types[type].length && interactable.testIgnoreAllow(options, node, eventTarget)) {\n          targets.push({\n            node,\n            eventable,\n            props: {\n              interactable\n            }\n          });\n        }\n      });\n    },\n    'interactable:new': ({\n      interactable\n    }) => {\n      interactable.events.getRect = function (element) {\n        return interactable.getRect(element);\n      };\n    },\n    'interactable:set': ({\n      interactable,\n      options\n    }, scope) => {\n      extend(interactable.events.options, scope.pointerEvents.defaults);\n      extend(interactable.events.options, options.pointerEvents || {});\n    }\n  }\n};\nexport default plugin;\n//# sourceMappingURL=interactableTargets.js.map","/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './base';\nimport './holdRepeat';\nimport './interactableTargets';\nimport * as pointerEvents from './base';\nimport holdRepeat from './holdRepeat';\nimport interactableTargets from './interactableTargets';\n/* eslint-enable import/no-duplicates */\n\nconst plugin = {\n  id: 'pointer-events',\n\n  install(scope) {\n    scope.usePlugin(pointerEvents);\n    scope.usePlugin(holdRepeat);\n    scope.usePlugin(interactableTargets);\n  }\n\n};\nexport default plugin;\n//# sourceMappingURL=plugin.js.map","import * as arr from \"../utils/arr.js\";\nimport is from \"../utils/is.js\";\nimport { copyAction } from \"../utils/misc.js\";\nimport * as pointerUtils from \"../utils/pointerUtils.js\";\nimport { tlbrToXywh } from \"../utils/rect.js\";\nexport function install(scope) {\n  const {\n    /** @lends Interactable */\n    Interactable\n  } = scope;\n  scope.actions.phases.reflow = true;\n  /**\n   * ```js\n   * const interactable = interact(target)\n   * const drag = { name: drag, axis: 'x' }\n   * const resize = { name: resize, edges: { left: true, bottom: true }\n   *\n   * interactable.reflow(drag)\n   * interactable.reflow(resize)\n   * ```\n   *\n   * Start an action sequence to re-apply modifiers, check drops, etc.\n   *\n   * @param { Object } action The action to begin\n   * @param { string } action.name The name of the action\n   * @returns { Promise } A promise that resolves to the `Interactable` when actions on all targets have ended\n   */\n\n  Interactable.prototype.reflow = function (action) {\n    return doReflow(this, action, scope);\n  };\n}\n\nfunction doReflow(interactable, action, scope) {\n  const elements = is.string(interactable.target) ? arr.from(interactable._context.querySelectorAll(interactable.target)) : [interactable.target]; // tslint:disable-next-line variable-name\n\n  const Promise = scope.window.Promise;\n  const promises = Promise ? [] : null;\n\n  for (const element of elements) {\n    const rect = interactable.getRect(element);\n\n    if (!rect) {\n      break;\n    }\n\n    const runningInteraction = arr.find(scope.interactions.list, interaction => {\n      return interaction.interacting() && interaction.interactable === interactable && interaction.element === element && interaction.prepared.name === action.name;\n    });\n    let reflowPromise;\n\n    if (runningInteraction) {\n      runningInteraction.move();\n\n      if (promises) {\n        reflowPromise = runningInteraction._reflowPromise || new Promise(resolve => {\n          runningInteraction._reflowResolve = resolve;\n        });\n      }\n    } else {\n      const xywh = tlbrToXywh(rect);\n      const coords = {\n        page: {\n          x: xywh.x,\n          y: xywh.y\n        },\n        client: {\n          x: xywh.x,\n          y: xywh.y\n        },\n        timeStamp: scope.now()\n      };\n      const event = pointerUtils.coordsToEvent(coords);\n      reflowPromise = startReflow(scope, interactable, element, action, event);\n    }\n\n    if (promises) {\n      promises.push(reflowPromise);\n    }\n  }\n\n  return promises && Promise.all(promises).then(() => interactable);\n}\n\nfunction startReflow(scope, interactable, element, action, event) {\n  const interaction = scope.interactions.new({\n    pointerType: 'reflow'\n  });\n  const signalArg = {\n    interaction,\n    event,\n    pointer: event,\n    eventTarget: element,\n    phase: 'reflow'\n  };\n  interaction.interactable = interactable;\n  interaction.element = element;\n  interaction.prevEvent = event;\n  interaction.updatePointer(event, event, element, true);\n  pointerUtils.setZeroCoords(interaction.coords.delta);\n  copyAction(interaction.prepared, action);\n\n  interaction._doPhase(signalArg);\n\n  const {\n    Promise\n  } = scope.window;\n  const reflowPromise = Promise ? new Promise(resolve => {\n    interaction._reflowResolve = resolve;\n  }) : undefined;\n  interaction._reflowPromise = reflowPromise;\n  interaction.start(action, interactable, element);\n\n  if (interaction._interacting) {\n    interaction.move(signalArg);\n    interaction.end(event);\n  } else {\n    interaction.stop();\n\n    interaction._reflowResolve();\n  }\n\n  interaction.removePointer(event, event);\n  return reflowPromise;\n}\n\nconst reflow = {\n  id: 'reflow',\n  install,\n  listeners: {\n    // remove completed reflow interactions\n    'interactions:stop': ({\n      interaction\n    }, scope) => {\n      if (interaction.pointerType === 'reflow') {\n        if (interaction._reflowResolve) {\n          interaction._reflowResolve();\n        }\n\n        arr.remove(scope.interactions.list, interaction);\n      }\n    }\n  }\n};\nexport default reflow;\n//# sourceMappingURL=plugin.js.map","// eslint-disable-next-line import/no-extraneous-dependencies\nimport interact from '@interactjs/interactjs'\n\nexport default interact\n\nif (typeof module === 'object' && !!module) {\n  try {\n    module.exports = interact\n  } catch {}\n}\n\n;(interact as any).default = interact\n","/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport \"../actions/plugin.js\";\nimport \"../auto-scroll/plugin.js\";\nimport \"../auto-start/plugin.js\";\nimport \"../core/interactablePreventDefault.js\";\nimport \"../dev-tools/plugin.js\";\nimport \"../inertia/plugin.js\";\nimport \"../interact/index.js\";\nimport \"../modifiers/plugin.js\";\nimport \"../offset/plugin.js\";\nimport \"../pointer-events/plugin.js\";\nimport \"../reflow/plugin.js\";\nimport actions from \"../actions/plugin.js\";\nimport autoScroll from \"../auto-scroll/plugin.js\";\nimport autoStart from \"../auto-start/plugin.js\";\nimport interactablePreventDefault from \"../core/interactablePreventDefault.js\";\nimport devTools from \"../dev-tools/plugin.js\";\nimport inertia from \"../inertia/plugin.js\";\nimport interact from \"../interact/index.js\";\nimport modifiers from \"../modifiers/plugin.js\";\nimport offset from \"../offset/plugin.js\";\nimport pointerEvents from \"../pointer-events/plugin.js\";\nimport reflow from \"../reflow/plugin.js\";\n/* eslint-enable import/no-duplicates */\n\ninteract.use(interactablePreventDefault);\ninteract.use(offset); // pointerEvents\n\ninteract.use(pointerEvents); // inertia\n\ninteract.use(inertia); // snap, resize, etc.\n\ninteract.use(modifiers); // autoStart, hold\n\ninteract.use(autoStart); // drag and drop, resize, gesture\n\ninteract.use(actions); // autoScroll\n\ninteract.use(autoScroll); // reflow\n\ninteract.use(reflow); // eslint-disable-next-line no-undef\n\nif (\"development\" !== 'production') {\n  interact.use(devTools);\n}\n\nexport default interact;\ninteract.default = interact;\n//# sourceMappingURL=index.js.map"],"names":["isWindow","thing","realWindow","win","init","window","el","getWindow","node","win.window","docFrag","object","func","is","_window","win.getWindow","install","scope","actions","Interactable","defaults","drag","beforeMove","interaction","axis","move","iEvent","opposite","arg","interactable","buttons","dragOptions","options","domObjects","blank","browser","Element","navigator","nodeContains","parent","child","closest","element","selector","matchesSelector","parentNode","win.realWindow","getParent","indexOfDeepestElement","elements","deepestNodeParents","deepestNodeIndex","i","currentNode","deepestNode","currentNodeParent","deepestNodeParent","zIndexIsHigherThan","getNodeParents","ancestryStart","currentNodeParents","commonIndex","parents","limit","parentParent","higherNode","lowerNode","higherIndex","lowerIndex","matchesUpTo","getActualElement","getScrollXY","relevantWindow","getElementClientRect","clientRect","getElementRect","scroll","getPath","path","trySelector","value","extend","dest","source","prop","getStringOptionResult","target","resolveRectLike","functionArgs","returnValue","rectToXY","rect","xywhToTlbr","tlbrToXywh","addEdges","edges","delta","getOriginXY","actionName","actionOptions","origin","originRect","normalize","type","listeners","result","split","acc","t","l","prefix","combinedTypes","p","hypot","x","y","VENDOR_PREFIXES","pointerExtend","copyCoords","src","setCoordDeltas","targetObj","prev","cur","setCoordVelocity","dt","setZeroCoords","isNativePointer","pointer","dom","getXY","xy","getPageXY","page","getClientXY","client","getPointerId","setCoords","pointers","timeStamp","pointerAverage","getTouchPair","event","touches","average","touchBBox","minX","minY","maxX","maxY","touchDistance","deltaSource","sourceX","sourceY","dx","dy","touchAngle","getPointerType","getEventTargets","domUtils.getActualElement","newCoords","coordsToEvent","coords","BaseEvent","__publicField","contains","array","remove","merge","item","from","findIndex","find","DropEvent","dropState","dragEvent","dropzone","activeDrops","index","arr.findIndex","deactivateEvent","interact","dropzoneMethod","draggable","draggableElement","dropElement","dropCheckMethod","newValue","drop","collectDrops","interactables","drops","accept","domUtils.matchesSelector","dropElements","dropzoneElement","fireActivationEvents","getActiveDrops","dragElement","activeDrop","getDrop","pointerEvent","validDrops","dropIndex","domUtils.indexOfDeepestElement","getDropEvents","_pointerEvent","dropEvents","fireDropEvents","events","onEventCreated","dropResult","normalized","normalizeListeners","corrected","correctedType","prevListeners","dropped","dropOverlap","pointerUtils.getPageXY","horizontal","vertical","dragRect","cx","cy","gesture","updateGestureProps","phase","starting","ending","pointerUtils.touchDistance","pointerUtils.touchBBox","pointerUtils.touchAngle","prevEvent","gestureOptions","resize","initCursors","resizable","resizeChecker","resizeOptions","resizeEdges","edge","checkResizeEdge","right","bottom","name","interactableElement","margin","width","height","dom.matchesUpTo","start","resizeEvent","invert","invertible","current","startRect","deltaRect","previous","swap","end","updateEventAxes","cursors","cursorKey","lastTime","request","cancel","global","vendors","vendor","callback","currTime","timeToCall","token","raf","autoScroll","container","getContainer","now","s","scrollBy","prevScroll","getScroll","curScroll","_options$actionName$a","top","left","domUtils.getElementClientRect","autoScrollPlugin","warnOnce","method","message","warned","copyAction","action","defaultActionChecker","actionChecker","styleCursor","checker","InteractableMethods","maxInteractions","withinInteractionLimit","prepareOnDown","eventTarget","actionInfo","getActionInfo","prepare","prepareOnMove","startOnMove","setInteractionCursor","clearCursorOnStop","setCursor","validateAction","validateMatches","matches","matchElements","len","match","matchElement","matchAction","pushMatches","domUtils.parentNode","maxActions","maxPerElement","autoStartMax","activeInteractions","interactableCount","elementCount","otherAction","cursor","prevCursorElement","prepared","cursorChecker","autoStart","beforeStart","absX","absY","targetOptions","startAxis","currentAxis","getDraggable","checkStartAxis","thisAxis","dragAxis","basePlugin","getHoldDuration","hold","duplicate","preventDefault","checkAndPreventDefault","setting","doc","docOptions","onInteractionEvent","interactablePreventDefault","eventType","visualizer","CheckName","links","logger","checks","parentHasStyle","hasStyle","_interaction$interact","styleRe","defaultExport","check","clone","arr.from","Modification","createResult","pageCoords","modifierList","getModifierList","getRectOffset","state","preEnd","skipModifiers","unmodifiedRect","unmodifiedEdges","states","newResult","_state$methods","lastModifierCoords","rectUtils.addEdges","prevCoords","prevRect","rectChanged","curCoords","startCoords","startDelta","curDelta","coordsSet","rectDelta","adjustment","doPreend","methods","endPosition","modifierArg","modification","coordsAndDeltas","requireEndOnly","other","actionModifiers","m","makeModifier","module","modifier","_options","addEventModifiers","modifiersBase","ret","InteractEvent","angle","overlap","up","down","PointerInfo","id","downTime","downTarget","_ProxyValues","_ProxyMethods","idCounter","Interaction","pointerType","scopeFire","signalArg","pointerUtils.newCoords","that","key","args","pointerIndex","pointerInfo","duplicateMove","pointerUtils.setCoordVelocity","pointerUtils.copyCoords","pointerUtils.setZeroCoords","curEventTarget","endPhaseResult","pointerId","pointerUtils.getPointerId","curPointer","pointerUtils.setCoords","pointerUtils.setCoordDeltas","pointerUtils.pointerExtend","_this$interactable","addTotal","addToCoords","beforeAction","applyPending","beforeEnd","hasPending","pending","offsetBy","offset","modifiers.default","InertiaState","getOptions","velocityClient","pointerSpeed","startVelocity","lambda","inertiaDur","tickFn","progress","newOffset","getQuadraticCurvePoint","duration","easeOutQuad","resume","dom.parentNode","stop","inertia","modifiers.addEventModifiers","_getQBezierValue","p1","p2","p3","iT","startX","startY","cpX","cpY","endX","endY","position","b","c","d","fireUntilImmediateStopped","listener","Eventable","arr.merge","eventList","subListener","_element","isNonNativeEvent","createInteractStatic","pointerUtils.pointerAverage","domUtils.getElementRect","domUtils.closest","plugin","defaultContext","scopeEvents","phases","optionName_","optionName","optionValue","targetNode","allowFrom","ignoreFrom","typeArg","listenerArg","addRemove","types","actionName_","methodName","delegated","context","InteractableSet","targetMappings","targetIndex","mappingInfo","isSelector","found","arr.find","_scope$document","targets","delegatedEvents","documents","eventsMethods","add","addDelegate","removeDelegate","delegateListener","delegateUseCapture","optionalArg","arr.contains","typeIsEmpty","typeListeners","delegates","delegate","matchFound","fn","capture","passive","fakeEvent","FakeEvent","pointerUtils.getEventTargets","domUtils.nodeContains","originalEvent","pExtend","param","finder","details","firstNonActive","hasPointerId","methodNames","doOnInteractions","pEventTypes","docEvents","releasePointersOnRemovedEls","InteractionBase","interactions","pointerUtils.getPointerType","changedTouch","searchDetails","getInteraction","invalidPointer","onDocSignal","eventMethodName","eventMethod","eventOptions","Scope","InteractableBase","map","initScope","before","pluginIdRoot","otherId","docIndex","win.init","interact$1","exports","_global","edgeTarget","grid","coordFields","xField","yField","gridFunc","range","limits","gridx","gridy","snappersPlugin","allSnappers","aspectRatio","ratio","enabled","equalDelta","modifiers","linkedEdges","sign","subModification","initialCoords","aspectMethod","setEqualDelta","setRatio","correctedRect","xIsCriticalAxis","edgeSign","xIsPrimaryAxis","newHeight","newWidth","aspectRatio$1","noop","startOffset","elementRect","restriction","getRestrictionRect","widthDiff","heightDiff","set","rectUtils.xywhToTlbr","rectUtils.resolveRectLike","restrict","restrict$1","noInner","noOuter","offsetRect","rectUtils.rectToXY","inner","outer","fixRect","restrictEdges","restrictEdges$1","_","restrictRect","restrictRect$1","noMin","noMax","minSize","rectUtils.tlbrToXywh","maxSize","restrictSize$1","getOrigin","snapOffset","relativePoints","relativePoint","offsets","relativeX","relativeY","snapTarget","distance","inRange","snap","snap$1","relative","snapSize","snapSize$1","snapEdges","snapEdges$1","all","restrictSize","spring","avoid","transform","rubberband","base","snappers","_defaults","_methods","PointerEvent","interval","originX","originY","pointerEvents","addInteractionProps","addHoldInfo","moveAndClearHold","downAndStartHold","fire","clearHold","tapAfterUp","collectEventTargets","prevTap","domUtils.getPath","_interaction$pointers","_interaction$pointers2","timer","minDuration","holdDuration","onNew","onFired","endHoldRepeat","holdRepeat","enderTypes","pointerEventsMethod","__backCompatOption","eventable","interactableTargets","doReflow","Promise","promises","runningInteraction","reflowPromise","resolve","xywh","pointerUtils.coordsToEvent","startReflow","reflow","arr.remove","devTools"],"mappings":"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"}