/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */System.register([],function(Rt){"use strict";return{execute:function(){function W(){return W=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},W.apply(this,arguments)}var Bt="1.15.0";function Z(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}const Q=Z(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_e=Z(/Edge/i),mt=Z(/firefox/i),De=Z(/safari/i)&&!Z(/chrome/i)&&!Z(/android/i),bt=Z(/iP(ad|od|hone)/i),wt=Z(/chrome/i)&&Z(/android/i),yt={capture:!1,passive:!1};function D(e,i,t){e.addEventListener(i,t,!Q&&yt)}function _(e,i,t){e.removeEventListener(i,t,!Q&&yt)}function Ye(e,i){if(i){if(i[0]===">"&&(i=i.substring(1)),e)try{if(e.matches)return e.matches(i);if(e.msMatchesSelector)return e.msMatchesSelector(i);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(i)}catch{return!1}return!1}}function Lt(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function z(e,i,t,n){if(e){t=t||document;do{if(i!=null&&(i[0]===">"?e.parentNode===t&&Ye(e,i):Ye(e,i))||n&&e===t)return e;if(e===t)break}while(e=Lt(e))}return null}const _t=/\s+/g;function E(e,i,t){if(e&&i)if(e.classList)e.classList[t?"add":"remove"](i);else{let n=(" "+e.className+" ").replace(_t," ").replace(" "+i+" "," ");e.className=(n+(t?" "+i:"")).replace(_t," ")}}function c(e,i,t){let n=e&&e.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),i===void 0?t:t[i];!(i in n)&&i.indexOf("webkit")===-1&&(i="-webkit-"+i),n[i]=t+(typeof t=="string"?"":"px")}}function le(e,i){let t="";if(typeof e=="string")t=e;else do{let o=c(e,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!i&&(e=e.parentNode));const n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(t)}function Dt(e,i,t){if(e){let n=e.getElementsByTagName(i),o=0,r=n.length;if(t)for(;o<r;o++)t(n[o],o);return n}return[]}function q(){let e=document.scrollingElement;return e||document.documentElement}function v(e,i,t,n,o){if(!e.getBoundingClientRect&&e!==window)return;let r,l,a,s,u,g,d;if(e!==window&&e.parentNode&&e!==q()?(r=e.getBoundingClientRect(),l=r.top,a=r.left,s=r.bottom,u=r.right,g=r.height,d=r.width):(l=0,a=0,s=window.innerHeight,u=window.innerWidth,g=window.innerHeight,d=window.innerWidth),(i||t)&&e!==window&&(o=o||e.parentNode,!Q))do if(o&&o.getBoundingClientRect&&(c(o,"transform")!=="none"||t&&c(o,"position")!=="static")){let w=o.getBoundingClientRect();l-=w.top+parseInt(c(o,"border-top-width")),a-=w.left+parseInt(c(o,"border-left-width")),s=l+r.height,u=a+r.width;break}while(o=o.parentNode);if(n&&e!==window){let w=le(o||e),h=w&&w.a,m=w&&w.d;w&&(l/=m,a/=h,d/=h,g/=m,s=l+g,u=a+d)}return{top:l,left:a,bottom:s,right:u,width:d,height:g}}function Ct(e,i,t){let n=ie(e,!0),o=v(e)[i];for(;n;){let r=v(n)[t],l;if(t==="top"||t==="left"?l=o>=r:l=o<=r,!l)return n;if(n===q())break;n=ie(n,!1)}return!1}function ce(e,i,t,n){let o=0,r=0,l=e.children;for(;r<l.length;){if(l[r].style.display!=="none"&&l[r]!==p.ghost&&(n||l[r]!==p.dragged)&&z(l[r],t.draggable,e,!1)){if(o===i)return l[r];o++}r++}return null}function Qe(e,i){let t=e.lastElementChild;for(;t&&(t===p.ghost||c(t,"display")==="none"||i&&!Ye(t,i));)t=t.previousElementSibling;return t||null}function x(e,i){let t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==p.clone&&(!i||Ye(e,i))&&t++;return t}function vt(e){let i=0,t=0,n=q();if(e)do{let o=le(e),r=o.a,l=o.d;i+=e.scrollLeft*r,t+=e.scrollTop*l}while(e!==n&&(e=e.parentNode));return[i,t]}function Ht(e,i){for(let t in e)if(e.hasOwnProperty(t)){for(let n in i)if(i.hasOwnProperty(n)&&i[n]===e[t][n])return Number(t)}return-1}function ie(e,i){if(!e||!e.getBoundingClientRect)return q();let t=e,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){let o=c(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return q();if(n||i)return t;n=!0}}while(t=t.parentNode);return q()}function Wt(e,i){if(e&&i)for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function Je(e,i){return Math.round(e.top)===Math.round(i.top)&&Math.round(e.left)===Math.round(i.left)&&Math.round(e.height)===Math.round(i.height)&&Math.round(e.width)===Math.round(i.width)}let Ce;function St(e,i){return function(){if(!Ce){let t=arguments,n=this;t.length===1?e.call(n,t[0]):e.apply(n,t),Ce=setTimeout(function(){Ce=void 0},i)}}}function Gt(){clearTimeout(Ce),Ce=void 0}function Et(e,i,t){e.scrollLeft+=i,e.scrollTop+=t}function et(e){let i=window.Polymer,t=window.jQuery||window.Zepto;return i&&i.dom?i.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function Tt(e,i){c(e,"position","absolute"),c(e,"top",i.top),c(e,"left",i.left),c(e,"width",i.width),c(e,"height",i.height)}function tt(e){c(e,"position",""),c(e,"top",""),c(e,"left",""),c(e,"width",""),c(e,"height","")}const O="Sortable"+new Date().getTime();function Kt(){let e=[],i;return{captureAnimationState(){if(e=[],!this.options.animation)return;[].slice.call(this.el.children).forEach(n=>{if(c(n,"display")==="none"||n===p.ghost)return;e.push({target:n,rect:v(n)});let o={...e[e.length-1].rect};if(n.thisAnimationDuration){let r=le(n,!0);r&&(o.top-=r.f,o.left-=r.e)}n.fromRect=o})},addAnimationState(t){e.push(t)},removeAnimationState(t){e.splice(Ht(e,{target:t}),1)},animateAll(t){if(!this.options.animation){clearTimeout(i),typeof t=="function"&&t();return}let n=!1,o=0;e.forEach(r=>{let l=0,a=r.target,s=a.fromRect,u=v(a),g=a.prevFromRect,d=a.prevToRect,w=r.rect,h=le(a,!0);h&&(u.top-=h.f,u.left-=h.e),a.toRect=u,a.thisAnimationDuration&&Je(g,u)&&!Je(s,u)&&(w.top-u.top)/(w.left-u.left)===(s.top-u.top)/(s.left-u.left)&&(l=$t(w,g,d,this.options)),Je(u,s)||(a.prevFromRect=s,a.prevToRect=u,l||(l=this.options.animation),this.animate(a,w,u,l)),l&&(n=!0,o=Math.max(o,l),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},l),a.thisAnimationDuration=l)}),clearTimeout(i),n?i=setTimeout(function(){typeof t=="function"&&t()},o):typeof t=="function"&&t(),e=[]},animate(t,n,o,r){if(r){c(t,"transition",""),c(t,"transform","");let l=le(this.el),a=l&&l.a,s=l&&l.d,u=(n.left-o.left)/(a||1),g=(n.top-o.top)/(s||1);t.animatingX=!!u,t.animatingY=!!g,c(t,"transform","translate3d("+u+"px,"+g+"px,0)"),this.forRepaintDummy=zt(t),c(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),c(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){c(t,"transition",""),c(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},r)}}}}function zt(e){return e.offsetWidth}function $t(e,i,t,n){return Math.sqrt(Math.pow(i.top-e.top,2)+Math.pow(i.left-e.left,2))/Math.sqrt(Math.pow(i.top-t.top,2)+Math.pow(i.left-t.left,2))*n.animation}let de=[];const it={initializeByDefault:!0};var ve={mount(e){for(let i in it)it.hasOwnProperty(i)&&!(i in e)&&(e[i]=it[i]);de.forEach(i=>{if(i.pluginName===e.pluginName)throw`Sortable: Cannot mount plugin ${e.pluginName} more than once`}),de.push(e)},pluginEvent(e,i,t){this.eventCanceled=!1,t.cancel=()=>{this.eventCanceled=!0};const n=e+"Global";de.forEach(o=>{i[o.pluginName]&&(i[o.pluginName][n]&&i[o.pluginName][n]({sortable:i,...t}),i.options[o.pluginName]&&i[o.pluginName][e]&&i[o.pluginName][e]({sortable:i,...t}))})},initializePlugins(e,i,t,n){de.forEach(o=>{const r=o.pluginName;if(!e.options[r]&&!o.initializeByDefault)return;let l=new o(e,i,e.options);l.sortable=e,l.options=e.options,e[r]=l,W(t,l.defaults)});for(let o in e.options){if(!e.options.hasOwnProperty(o))continue;let r=this.modifyOption(e,o,e.options[o]);typeof r<"u"&&(e.options[o]=r)}},getEventProperties(e,i){let t={};return de.forEach(n=>{typeof n.eventProperties=="function"&&W(t,n.eventProperties.call(i[n.pluginName],e))}),t},modifyOption(e,i,t){let n;return de.forEach(o=>{e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[i]=="function"&&(n=o.optionListeners[i].call(e[o.pluginName],t))}),n}};function Se({sortable:e,rootEl:i,name:t,targetEl:n,cloneEl:o,toEl:r,fromEl:l,oldIndex:a,newIndex:s,oldDraggableIndex:u,newDraggableIndex:g,originalEvent:d,putSortable:w,extraEventProperties:h}){if(e=e||i&&i[O],!e)return;let m,U=e.options,J="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!Q&&!_e?m=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(t,!0,!0)),m.to=r||i,m.from=l||i,m.item=n||i,m.clone=o,m.oldIndex=a,m.newIndex=s,m.oldDraggableIndex=u,m.newDraggableIndex=g,m.originalEvent=d,m.pullMode=w?w.lastPutMode:void 0;let F={...h,...ve.getEventProperties(t,e)};for(let ee in F)m[ee]=F[ee];i&&i.dispatchEvent(m),U[J]&&U[J].call(e,m)}let R=function(e,i,{evt:t,...n}={}){ve.pluginEvent.bind(p)(e,i,{dragEl:f,parentEl:M,ghostEl:y,rootEl:S,nextEl:ae,lastDownEl:ke,cloneEl:T,cloneHidden:ne,dragStarted:Te,putSortable:I,activeSortable:p.active,originalEvent:t,oldIndex:he,oldDraggableIndex:Ee,newIndex:L,newDraggableIndex:oe,hideGhostForTarget:Pt,unhideGhostForTarget:Xt,cloneNowHidden(){ne=!0},cloneNowShown(){ne=!1},dispatchSortableEvent(o){k({sortable:i,name:o,originalEvent:t})},...n})};function k(e){Se({putSortable:I,cloneEl:T,targetEl:f,rootEl:S,oldIndex:he,oldDraggableIndex:Ee,newIndex:L,newDraggableIndex:oe,...e})}let f,M,y,S,ae,ke,T,ne,he,L,Ee,oe,Fe,I,pe=!1,Re=!1,Be=[],se,$,nt,ot,xt,Mt,Te,ge,xe,Me=!1,Le=!1,He,P,rt=[],lt=!1,We=[];const Ge=typeof document<"u",Ke=bt,At=_e||Q?"cssFloat":"float",Vt=Ge&&!wt&&!bt&&"draggable"in document.createElement("div"),Nt=function(){if(!Ge)return;if(Q)return!1;let e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}(),It=function(e,i){let t=c(e),n=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),o=ce(e,0,i),r=ce(e,1,i),l=o&&c(o),a=r&&c(r),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+v(o).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+v(r).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){let g=l.float==="left"?"left":"right";return r&&(a.clear==="both"||a.clear===g)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||s>=n&&t[At]==="none"||r&&t[At]==="none"&&s+u>n)?"vertical":"horizontal"},Ut=function(e,i,t){let n=t?e.left:e.top,o=t?e.right:e.bottom,r=t?e.width:e.height,l=t?i.left:i.top,a=t?i.right:i.bottom,s=t?i.width:i.height;return n===l||o===a||n+r/2===l+s/2},qt=function(e,i){let t;return Be.some(n=>{const o=n[O].options.emptyInsertThreshold;if(!o||Qe(n))return;const r=v(n),l=e>=r.left-o&&e<=r.right+o,a=i>=r.top-o&&i<=r.bottom+o;if(l&&a)return t=n}),t},Ot=function(e){function i(o,r){return function(l,a,s,u){let g=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(o==null&&(r||g))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return i(o(l,a,s,u),r)(l,a,s,u);{let d=(r?l:a).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}}let t={},n=e.group;(!n||typeof n!="object")&&(n={name:n}),t.name=n.name,t.checkPull=i(n.pull,!0),t.checkPut=i(n.put),t.revertClone=n.revertClone,e.group=t},Pt=function(){!Nt&&y&&c(y,"display","none")},Xt=function(){!Nt&&y&&c(y,"display","")};Ge&&!wt&&document.addEventListener("click",function(e){if(Re)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Re=!1,!1},!0);let fe=function(e){if(f){e=e.touches?e.touches[0]:e;let i=qt(e.clientX,e.clientY);if(i){let t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.target=t.rootEl=i,t.preventDefault=void 0,t.stopPropagation=void 0,i[O]._onDragOver(t)}}},jt=function(e){f&&f.parentNode[O]._isOutsideThisEl(e.target)};function p(e,i){if(!(e&&e.nodeType&&e.nodeType===1))throw`Sortable: \`el\` must be an HTMLElement, not ${{}.toString.call(e)}`;this.el=e,this.options=i=W({},i),e[O]=this;let t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,o){n.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!De,emptyInsertThreshold:5};ve.initializePlugins(this,e,t);for(let n in t)!(n in i)&&(i[n]=t[n]);Ot(i);for(let n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=i.forceFallback?!1:Vt,this.nativeDraggable&&(this.options.touchStartThreshold=1),i.supportPointer?D(e,"pointerdown",this._onTapStart):(D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Be.push(this.el),i.store&&i.store.get&&this.sort(i.store.get(this)||[]),W(this,Kt())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ge=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,f):this.options.direction},_onTapStart:function(e){if(!e.cancelable)return;let i=this,t=this.el,n=this.options,o=n.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,u=n.filter;if(oi(t),!f&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||n.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&De&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=z(a,n.draggable,t,!1),!(a&&a.animated)&&ke!==a)){if(he=x(a),Ee=x(a,n.draggable),typeof u=="function"){if(u.call(this,e,a,this)){k({sortable:i,rootEl:s,name:"filter",targetEl:a,toEl:t,fromEl:t}),R("filter",i,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(g){if(g=z(s,g.trim(),t,!1),g)return k({sortable:i,rootEl:g,name:"filter",targetEl:a,fromEl:t,toEl:t}),R("filter",i,{evt:e}),!0}),u)){o&&e.cancelable&&e.preventDefault();return}n.handle&&!z(s,n.handle,t,!1)||this._prepareDragStart(e,l,a)}},_prepareDragStart:function(e,i,t){let n=this,o=n.el,r=n.options,l=o.ownerDocument,a;if(t&&!f&&t.parentNode===o){let s=v(t);if(S=o,f=t,M=f.parentNode,ae=f.nextSibling,ke=t,Fe=r.group,p.dragged=f,se={target:f,clientX:(i||e).clientX,clientY:(i||e).clientY},xt=se.clientX-s.left,Mt=se.clientY-s.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,f.style["will-change"]="all",a=function(){if(R("delayEnded",n,{evt:e}),p.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!mt&&n.nativeDraggable&&(f.draggable=!0),n._triggerDragStart(e,i),k({sortable:n,name:"choose",originalEvent:e}),E(f,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){Dt(f,u.trim(),at)}),D(l,"dragover",fe),D(l,"mousemove",fe),D(l,"touchmove",fe),D(l,"mouseup",n._onDrop),D(l,"touchend",n._onDrop),D(l,"touchcancel",n._onDrop),mt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),R("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(_e||Q))){if(p.eventCanceled){this._onDrop();return}D(l,"mouseup",n._disableDelayedDrag),D(l,"touchend",n._disableDelayedDrag),D(l,"touchcancel",n._disableDelayedDrag),D(l,"mousemove",n._delayedDragTouchMoveHandler),D(l,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&D(l,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(a,r.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){let i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&at(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){let e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?D(document,"pointermove",this._onTouchMove):i?D(document,"touchmove",this._onTouchMove):D(document,"mousemove",this._onTouchMove):(D(f,"dragend",this),D(S,"dragstart",this._onDragStart));try{document.selection?$e(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(pe=!1,S&&f){R("dragStarted",this,{evt:i}),this.nativeDraggable&&D(document,"dragover",jt);let t=this.options;!e&&E(f,t.dragClass,!1),E(f,t.ghostClass,!0),p.active=this,e&&this._appendGhost(),k({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if($){this._lastX=$.clientX,this._lastY=$.clientY,Pt();let e=document.elementFromPoint($.clientX,$.clientY),i=e;for(;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint($.clientX,$.clientY),e!==i);)i=e;if(f.parentNode[O]._isOutsideThisEl(e),i)do{if(i[O]){let t;if(t=i[O]._onDragOver({clientX:$.clientX,clientY:$.clientY,target:e,rootEl:i}),t&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);Xt()}},_onTouchMove:function(e){if(se){let i=this.options,t=i.fallbackTolerance,n=i.fallbackOffset,o=e.touches?e.touches[0]:e,r=y&&le(y,!0),l=y&&r&&r.a,a=y&&r&&r.d,s=Ke&&P&&vt(P),u=(o.clientX-se.clientX+n.x)/(l||1)+(s?s[0]-rt[0]:0)/(l||1),g=(o.clientY-se.clientY+n.y)/(a||1)+(s?s[1]-rt[1]:0)/(a||1);if(!p.active&&!pe){if(t&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(y){r?(r.e+=u-(nt||0),r.f+=g-(ot||0)):r={a:1,b:0,c:0,d:1,e:u,f:g};let d=`matrix(${r.a},${r.b},${r.c},${r.d},${r.e},${r.f})`;c(y,"webkitTransform",d),c(y,"mozTransform",d),c(y,"msTransform",d),c(y,"transform",d),nt=u,ot=g,$=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){let e=this.options.fallbackOnBody?document.body:S,i=v(f,!0,Ke,!0,e),t=this.options;if(Ke){for(P=e;c(P,"position")==="static"&&c(P,"transform")==="none"&&P!==document;)P=P.parentNode;P!==document.body&&P!==document.documentElement?(P===document&&(P=q()),i.top+=P.scrollTop,i.left+=P.scrollLeft):P=q(),rt=vt(P)}y=f.cloneNode(!0),E(y,t.ghostClass,!1),E(y,t.fallbackClass,!0),E(y,t.dragClass,!0),c(y,"transition",""),c(y,"transform",""),c(y,"box-sizing","border-box"),c(y,"margin",0),c(y,"top",i.top),c(y,"left",i.left),c(y,"width",i.width),c(y,"height",i.height),c(y,"opacity","0.8"),c(y,"position",Ke?"absolute":"fixed"),c(y,"zIndex","100000"),c(y,"pointerEvents","none"),p.ghost=y,e.appendChild(y),c(y,"transform-origin",xt/parseInt(y.style.width)*100+"% "+Mt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,i){let t=this,n=e.dataTransfer,o=t.options;if(R("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}R("setupClone",this),p.eventCanceled||(T=et(f),T.removeAttribute("id"),T.draggable=!1,T.style["will-change"]="",this._hideClone(),E(T,this.options.chosenClass,!1),p.clone=T),t.cloneId=$e(function(){R("clone",t),!p.eventCanceled&&(t.options.removeCloneOnHide||S.insertBefore(T,f),t._hideClone(),k({sortable:t,name:"clone"}))}),!i&&E(f,o.dragClass,!0),i?(Re=!0,t._loopId=setInterval(t._emulateDragOver,50)):(_(document,"mouseup",t._onDrop),_(document,"touchend",t._onDrop),_(document,"touchcancel",t._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(t,n,f)),D(document,"drop",t),c(f,"transform","translateZ(0)")),pe=!0,t._dragStartId=$e(t._dragStarted.bind(t,i,e)),D(document,"selectstart",t),Te=!0,De&&c(document.body,"user-select","none")},_onDragOver:function(e){let i=this.el,t=e.target,n,o,r,l=this.options,a=l.group,s=p.active,u=Fe===a,g=l.sort,d=I||s,w,h=this,m=!1;if(lt)return;function U(N,X){R(N,h,{evt:e,isOwner:u,axis:w?"vertical":"horizontal",revert:r,dragRect:n,targetRect:o,canSort:g,fromSortable:d,target:t,completed:F,onMove(j,ue){return ze(S,i,f,n,j,v(j),e,ue)},changed:ee,...X})}function J(){U("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function F(N){return U("dragOverCompleted",{insertion:N}),N&&(u?s._hideClone():s._showClone(h),h!==d&&(E(f,I?I.options.ghostClass:s.options.ghostClass,!1),E(f,l.ghostClass,!0)),I!==h&&h!==p.active?I=h:h===p.active&&I&&(I=null),d===h&&(h._ignoreWhileAnimating=t),h.animateAll(function(){U("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(t===f&&!f.animated||t===i&&!t.animated)&&(ge=null),!l.dragoverBubble&&!e.rootEl&&t!==document&&(f.parentNode[O]._isOutsideThisEl(e.target),!N&&fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function ee(){L=x(f),oe=x(f,l.draggable),k({sortable:h,name:"change",toEl:i,newIndex:L,newDraggableIndex:oe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=z(t,l.draggable,i,!0),U("dragOver"),p.eventCanceled)return m;if(f.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||h._ignoreWhileAnimating===t)return F(!1);if(Re=!1,s&&!l.disabled&&(u?g||(r=M!==S):I===this||(this.lastPutMode=Fe.checkPull(this,s,f,e))&&a.checkPut(this,s,f,e))){if(w=this._getDirection(e,t)==="vertical",n=v(f),U("dragOverValid"),p.eventCanceled)return m;if(r)return M=S,J(),this._hideClone(),U("revert"),p.eventCanceled||(ae?S.insertBefore(f,ae):S.appendChild(f)),F(!0);let N=Qe(i,l.draggable);if(!N||ei(e,w,this)&&!N.animated){if(N===f)return F(!1);if(N&&i===e.target&&(t=N),t&&(o=v(t)),ze(S,i,f,n,t,o,e,!!t)!==!1)return J(),N&&N.nextSibling?i.insertBefore(f,N.nextSibling):i.appendChild(f),M=i,ee(),F(!0)}else if(N&&Jt(e,w,this)){let X=ce(i,0,l,!0);if(X===f)return F(!1);if(t=X,o=v(t),ze(S,i,f,n,t,o,e,!1)!==!1)return J(),i.insertBefore(f,X),M=i,ee(),F(!0)}else if(t.parentNode===i){o=v(t);let X=0,j,ue=f.parentNode!==i,be=!Ut(f.animated&&f.toRect||n,t.animated&&t.toRect||o,w),we=w?"top":"left",Y=Ct(t,"top","top")||Ct(f,"top","top"),Ze=Y?Y.scrollTop:void 0;ge!==t&&(j=o[we],Me=!1,Le=!be&&l.invertSwap||ue),X=ti(e,t,o,w,be?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Le,ge===t);let re;if(X!==0){let Xe=x(f);do Xe-=X,re=M.children[Xe];while(re&&(c(re,"display")==="none"||re===y))}if(X===0||re===t)return F(!1);ge=t,xe=X;let ye=t.nextElementSibling,te=!1;te=X===1;let K=ze(S,i,f,n,t,o,e,te);if(K!==!1)return(K===1||K===-1)&&(te=K===1),lt=!0,setTimeout(Qt,30),J(),te&&!ye?i.appendChild(f):t.parentNode.insertBefore(f,te?ye:t),Y&&Et(Y,0,Ze-Y.scrollTop),M=f.parentNode,j!==void 0&&!Le&&(He=Math.abs(j-v(t)[we])),ee(),F(!0)}if(i.contains(f))return F(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",fe),_(document,"mousemove",fe),_(document,"touchmove",fe)},_offUpEvents:function(){let e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){let i=this.el,t=this.options;if(L=x(f),oe=x(f,t.draggable),R("drop",this,{evt:e}),M=f&&f.parentNode,L=x(f),oe=x(f,t.draggable),p.eventCanceled){this._nulling();return}pe=!1,Le=!1,Me=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),st(this.cloneId),st(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),De&&c(document.body,"user-select",""),c(f,"transform",""),e&&(Te&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(S===M||I&&I.lastPutMode!=="clone")&&T&&T.parentNode&&T.parentNode.removeChild(T),f&&(this.nativeDraggable&&_(f,"dragend",this),at(f),f.style["will-change"]="",Te&&!pe&&E(f,I?I.options.ghostClass:this.options.ghostClass,!1),E(f,this.options.chosenClass,!1),k({sortable:this,name:"unchoose",toEl:M,newIndex:null,newDraggableIndex:null,originalEvent:e}),S!==M?(L>=0&&(k({rootEl:M,name:"add",toEl:M,fromEl:S,originalEvent:e}),k({sortable:this,name:"remove",toEl:M,originalEvent:e}),k({rootEl:M,name:"sort",toEl:M,fromEl:S,originalEvent:e}),k({sortable:this,name:"sort",toEl:M,originalEvent:e})),I&&I.save()):L!==he&&L>=0&&(k({sortable:this,name:"update",toEl:M,originalEvent:e}),k({sortable:this,name:"sort",toEl:M,originalEvent:e})),p.active&&((L==null||L===-1)&&(L=he,oe=Ee),k({sortable:this,name:"end",toEl:M,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){R("nulling",this),S=f=M=y=ae=T=ke=ne=se=$=Te=L=oe=he=Ee=ge=xe=I=Fe=p.dragged=p.ghost=p.clone=p.active=null,We.forEach(function(e){e.checked=!0}),We.length=nt=ot=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":f&&(this._onDragOver(e),Zt(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){let e=[],i,t=this.el.children,n=0,o=t.length,r=this.options;for(;n<o;n++)i=t[n],z(i,r.draggable,this.el,!1)&&e.push(i.getAttribute(r.dataIdAttr)||ni(i));return e},sort:function(e,i){let t={},n=this.el;this.toArray().forEach(function(o,r){let l=n.children[r];z(l,this.options.draggable,n,!1)&&(t[o]=l)},this),i&&this.captureAnimationState(),e.forEach(function(o){t[o]&&(n.removeChild(t[o]),n.appendChild(t[o]))}),i&&this.animateAll()},save:function(){let e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return z(e,i||this.options.draggable,this.el,!1)},option:function(e,i){let t=this.options;if(i===void 0)return t[e];{let n=ve.modifyOption(this,e,i);typeof n<"u"?t[e]=n:t[e]=i,e==="group"&&Ot(t)}},destroy:function(){R("destroy",this);let e=this.el;e[O]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Be.splice(Be.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(R("hideClone",this),p.eventCanceled)return;c(T,"display","none"),this.options.removeCloneOnHide&&T.parentNode&&T.parentNode.removeChild(T),ne=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ne){if(R("showClone",this),p.eventCanceled)return;f.parentNode==S&&!this.options.group.revertClone?S.insertBefore(T,f):ae?S.insertBefore(T,ae):S.appendChild(T),this.options.group.revertClone&&this.animate(f,T),c(T,"display",""),ne=!1}}};function Zt(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ze(e,i,t,n,o,r,l,a){let s,u=e[O],g=u.options.onMove,d;return window.CustomEvent&&!Q&&!_e?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=i,s.from=e,s.dragged=t,s.draggedRect=n,s.related=o||i,s.relatedRect=r||v(i),s.willInsertAfter=a,s.originalEvent=l,e.dispatchEvent(s),g&&(d=g.call(u,s,l)),d}function at(e){e.draggable=!1}function Qt(){lt=!1}function Jt(e,i,t){let n=v(ce(t.el,0,t.options,!0));const o=10;return i?e.clientX<n.left-o||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-o||e.clientY<n.bottom&&e.clientX<n.left}function ei(e,i,t){let n=v(Qe(t.el,t.options.draggable));const o=10;return i?e.clientX>n.right+o||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+o}function ti(e,i,t,n,o,r,l,a){let s=n?e.clientY:e.clientX,u=n?t.height:t.width,g=n?t.top:t.left,d=n?t.bottom:t.right,w=!1;if(!l){if(a&&He<u*o){if(!Me&&(xe===1?s>g+u*r/2:s<d-u*r/2)&&(Me=!0),Me)w=!0;else if(xe===1?s<g+He:s>d-He)return-xe}else if(s>g+u*(1-o)/2&&s<d-u*(1-o)/2)return ii(i)}return w=w||l,w&&(s<g+u*r/2||s>d-u*r/2)?s>g+u/2?1:-1:0}function ii(e){return x(f)<x(e)?1:-1}function ni(e){let i=e.tagName+e.className+e.src+e.href+e.textContent,t=i.length,n=0;for(;t--;)n+=i.charCodeAt(t);return n.toString(36)}function oi(e){We.length=0;let i=e.getElementsByTagName("input"),t=i.length;for(;t--;){let n=i[t];n.checked&&We.push(n)}}function $e(e){return setTimeout(e,0)}function st(e){return clearTimeout(e)}Ge&&D(document,"touchmove",function(e){(p.active||pe)&&e.cancelable&&e.preventDefault()}),p.utils={on:D,off:_,css:c,find:Dt,is:function(e,i){return!!z(e,i,e,!1)},extend:Wt,throttle:St,closest:z,toggleClass:E,clone:et,index:x,nextTick:$e,cancelNextTick:st,detectDirection:It,getChild:ce},p.get=function(e){return e[O]},p.mount=function(...e){e[0].constructor===Array&&(e=e[0]),e.forEach(i=>{if(!i.prototype||!i.prototype.constructor)throw`Sortable: Mounted plugin must be a constructor function, not ${{}.toString.call(i)}`;i.utils&&(p.utils={...p.utils,...i.utils}),ve.mount(i)})},p.create=function(e,i){return new p(e,i)},p.version=Bt;let A=[],Ae,ft,ut=!1,ct,dt,Ve,Ne;function ri(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(let i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this))}return e.prototype={dragStarted({originalEvent:i}){this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):this.options.supportPointer?D(document,"pointermove",this._handleFallbackAutoScroll):i.touches?D(document,"touchmove",this._handleFallbackAutoScroll):D(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted({originalEvent:i}){!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),Yt(),Ue(),Gt()},nulling(){Ve=ft=Ae=ut=Ne=ct=dt=null,A.length=0},_handleFallbackAutoScroll(i){this._handleAutoScroll(i,!0)},_handleAutoScroll(i,t){const n=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,r=document.elementFromPoint(n,o);if(Ve=i,t||this.options.forceAutoScrollFallback||_e||Q||De){ht(i,this.options,r,t);let l=ie(r,!0);ut&&(!Ne||n!==ct||o!==dt)&&(Ne&&Yt(),Ne=setInterval(()=>{let a=ie(document.elementFromPoint(n,o),!0);a!==l&&(l=a,Ue()),ht(i,this.options,a,t)},10),ct=n,dt=o)}else{if(!this.options.bubbleScroll||ie(r,!0)===q()){Ue();return}ht(i,this.options,ie(r,!1),!1)}}},W(e,{pluginName:"scroll",initializeByDefault:!0})}function Ue(){A.forEach(function(e){clearInterval(e.pid)}),A=[]}function Yt(){clearInterval(Ne)}const ht=St(function(e,i,t,n){if(!i.scroll)return;const o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=i.scrollSensitivity,a=i.scrollSpeed,s=q();let u=!1,g;ft!==t&&(ft=t,Ue(),Ae=i.scroll,g=i.scrollFn,Ae===!0&&(Ae=ie(t,!0)));let d=0,w=Ae;do{let h=w,m=v(h),U=m.top,J=m.bottom,F=m.left,ee=m.right,N=m.width,X=m.height,j,ue,be=h.scrollWidth,we=h.scrollHeight,Y=c(h),Ze=h.scrollLeft,re=h.scrollTop;h===s?(j=N<be&&(Y.overflowX==="auto"||Y.overflowX==="scroll"||Y.overflowX==="visible"),ue=X<we&&(Y.overflowY==="auto"||Y.overflowY==="scroll"||Y.overflowY==="visible")):(j=N<be&&(Y.overflowX==="auto"||Y.overflowX==="scroll"),ue=X<we&&(Y.overflowY==="auto"||Y.overflowY==="scroll"));let ye=j&&(Math.abs(ee-o)<=l&&Ze+N<be)-(Math.abs(F-o)<=l&&!!Ze),te=ue&&(Math.abs(J-r)<=l&&re+X<we)-(Math.abs(U-r)<=l&&!!re);if(!A[d])for(let K=0;K<=d;K++)A[K]||(A[K]={});(A[d].vx!=ye||A[d].vy!=te||A[d].el!==h)&&(A[d].el=h,A[d].vx=ye,A[d].vy=te,clearInterval(A[d].pid),(ye!=0||te!=0)&&(u=!0,A[d].pid=setInterval(function(){n&&this.layer===0&&p.active._onTouchMove(Ve);let K=A[this.layer].vy?A[this.layer].vy*a:0,Xe=A[this.layer].vx?A[this.layer].vx*a:0;typeof g=="function"&&g.call(p.dragged.parentNode[O],Xe,K,e,Ve,A[this.layer].el)!=="continue"||Et(A[this.layer].el,Xe,K)}.bind({layer:d}),24))),d++}while(i.bubbleScroll&&w!==s&&(w=ie(w,!1)));ut=u},30),kt=function({originalEvent:e,putSortable:i,dragEl:t,activeSortable:n,dispatchSortableEvent:o,hideGhostForTarget:r,unhideGhostForTarget:l}){if(!e)return;let a=i||n;r();let s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(s.clientX,s.clientY);l(),a&&!a.el.contains(u)&&(o("spill"),this.onSpill({dragEl:t,putSortable:i}))};function pt(){}pt.prototype={startIndex:null,dragStart({oldDraggableIndex:e}){this.startIndex=e},onSpill({dragEl:e,putSortable:i}){this.sortable.captureAnimationState(),i&&i.captureAnimationState();let t=ce(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:kt},W(pt,{pluginName:"revertOnSpill"});function gt(){}gt.prototype={onSpill({dragEl:e,putSortable:i}){const t=i||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:kt},W(gt,{pluginName:"removeOnSpill"});let G;function li(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart({dragEl:i}){G=i},dragOverValid({completed:i,target:t,onMove:n,activeSortable:o,changed:r,cancel:l}){if(!o.options.swap)return;let a=this.sortable.el,s=this.options;if(t&&t!==a){let u=G;n(t)!==!1?(E(t,s.swapClass,!0),G=t):G=null,u&&u!==G&&E(u,s.swapClass,!1)}r(),i(!0),l()},drop({activeSortable:i,putSortable:t,dragEl:n}){let o=t||this.sortable,r=this.options;G&&E(G,r.swapClass,!1),G&&(r.swap||t&&t.options.swap)&&n!==G&&(o.captureAnimationState(),o!==i&&i.captureAnimationState(),ai(n,G),o.animateAll(),o!==i&&i.animateAll())},nulling(){G=null}},W(e,{pluginName:"swap",eventProperties(){return{swapItem:G}}})}function ai(e,i){let t=e.parentNode,n=i.parentNode,o,r;!t||!n||t.isEqualNode(i)||n.isEqualNode(e)||(o=x(e),r=x(i),t.isEqualNode(n)&&o<r&&r++,t.insertBefore(i,t.children[o]),n.insertBefore(e,n.children[r]))}let b=[],H=[],Ie,V,Oe=!1,B=!1,me=!1,C,Pe,qe;function si(){function e(i){for(let t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));i.options.avoidImplicitDeselect||(i.options.supportPointer?D(document,"pointerup",this._deselectMultiDrag):(D(document,"mouseup",this._deselectMultiDrag),D(document,"touchend",this._deselectMultiDrag))),D(document,"keydown",this._checkKeyDown),D(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData(t,n){let o="";b.length&&V===i?b.forEach((r,l)=>{o+=(l?", ":"")+r.textContent}):o=n.textContent,t.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal({dragEl:i}){C=i},delayEnded(){this.isMultiDrag=~b.indexOf(C)},setupClone({sortable:i,cancel:t}){if(this.isMultiDrag){for(let n=0;n<b.length;n++)H.push(et(b[n])),H[n].sortableIndex=b[n].sortableIndex,H[n].draggable=!1,H[n].style["will-change"]="",E(H[n],this.options.selectedClass,!1),b[n]===C&&E(H[n],this.options.chosenClass,!1);i._hideClone(),t()}},clone({sortable:i,rootEl:t,dispatchSortableEvent:n,cancel:o}){this.isMultiDrag&&(this.options.removeCloneOnHide||b.length&&V===i&&(Ft(!0,t),n("clone"),o()))},showClone({cloneNowShown:i,rootEl:t,cancel:n}){this.isMultiDrag&&(Ft(!1,t),H.forEach(o=>{c(o,"display","")}),i(),qe=!1,n())},hideClone({sortable:i,cloneNowHidden:t,cancel:n}){this.isMultiDrag&&(H.forEach(o=>{c(o,"display","none"),this.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),t(),qe=!0,n())},dragStartGlobal({sortable:i}){!this.isMultiDrag&&V&&V.multiDrag._deselectMultiDrag(),b.forEach(t=>{t.sortableIndex=x(t)}),b=b.sort(function(t,n){return t.sortableIndex-n.sortableIndex}),me=!0},dragStarted({sortable:i}){if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){b.forEach(n=>{n!==C&&c(n,"position","absolute")});let t=v(C,!1,!0,!0);b.forEach(n=>{n!==C&&Tt(n,t)}),B=!0,Oe=!0}i.animateAll(()=>{B=!1,Oe=!1,this.options.animation&&b.forEach(t=>{tt(t)}),this.options.sort&&je()})}},dragOver({target:i,completed:t,cancel:n}){B&&~b.indexOf(i)&&(t(!1),n())},revert({fromSortable:i,rootEl:t,sortable:n,dragRect:o}){b.length>1&&(b.forEach(r=>{n.addAnimationState({target:r,rect:B?v(r):o}),tt(r),r.fromRect=o,i.removeAnimationState(r)}),B=!1,fi(!this.options.removeCloneOnHide,t))},dragOverCompleted({sortable:i,isOwner:t,insertion:n,activeSortable:o,parentEl:r,putSortable:l}){let a=this.options;if(n){if(t&&o._hideClone(),Oe=!1,a.animation&&b.length>1&&(B||!t&&!o.options.sort&&!l)){let s=v(C,!1,!0,!0);b.forEach(u=>{u!==C&&(Tt(u,s),r.appendChild(u))}),B=!0}if(!t)if(B||je(),b.length>1){let s=qe;o._showClone(i),o.options.animation&&!qe&&s&&H.forEach(u=>{o.addAnimationState({target:u,rect:Pe}),u.fromRect=Pe,u.thisAnimationDuration=null})}else o._showClone(i)}},dragOverAnimationCapture({dragRect:i,isOwner:t,activeSortable:n}){if(b.forEach(o=>{o.thisAnimationDuration=null}),n.options.animation&&!t&&n.multiDrag.isMultiDrag){Pe=W({},i);let o=le(C,!0);Pe.top-=o.f,Pe.left-=o.e}},dragOverAnimationComplete(){B&&(B=!1,je())},drop({originalEvent:i,rootEl:t,parentEl:n,sortable:o,dispatchSortableEvent:r,oldIndex:l,putSortable:a}){let s=a||this.sortable;if(!i)return;let u=this.options,g=n.children;if(!me)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),E(C,u.selectedClass,!~b.indexOf(C)),~b.indexOf(C))b.splice(b.indexOf(C),1),Ie=null,Se({sortable:o,rootEl:t,name:"deselect",targetEl:C,originalEvent:i});else{if(b.push(C),Se({sortable:o,rootEl:t,name:"select",targetEl:C,originalEvent:i}),i.shiftKey&&Ie&&o.el.contains(Ie)){let d=x(Ie),w=x(C);if(~d&&~w&&d!==w){let h,m;for(w>d?(m=d,h=w):(m=w,h=d+1);m<h;m++)~b.indexOf(g[m])||(E(g[m],u.selectedClass,!0),b.push(g[m]),Se({sortable:o,rootEl:t,name:"select",targetEl:g[m],originalEvent:i}))}}else Ie=C;V=s}if(me&&this.isMultiDrag){if(B=!1,(n[O].options.sort||n!==t)&&b.length>1){let d=v(C),w=x(C,":not(."+this.options.selectedClass+")");if(!Oe&&u.animation&&(C.thisAnimationDuration=null),s.captureAnimationState(),!Oe&&(u.animation&&(C.fromRect=d,b.forEach(h=>{if(h.thisAnimationDuration=null,h!==C){let m=B?v(h):d;h.fromRect=m,s.addAnimationState({target:h,rect:m})}})),je(),b.forEach(h=>{g[w]?n.insertBefore(h,g[w]):n.appendChild(h),w++}),l===x(C))){let h=!1;b.forEach(m=>{if(m.sortableIndex!==x(m)){h=!0;return}}),h&&r("update")}b.forEach(h=>{tt(h)}),s.animateAll()}V=s}(t===n||a&&a.lastPutMode!=="clone")&&H.forEach(d=>{d.parentNode&&d.parentNode.removeChild(d)})},nullingGlobal(){this.isMultiDrag=me=!1,H.length=0},destroyGlobal(){this._deselectMultiDrag(),_(document,"pointerup",this._deselectMultiDrag),_(document,"mouseup",this._deselectMultiDrag),_(document,"touchend",this._deselectMultiDrag),_(document,"keydown",this._checkKeyDown),_(document,"keyup",this._checkKeyUp)},_deselectMultiDrag(i){if(!(typeof me<"u"&&me)&&V===this.sortable&&!(i&&z(i.target,this.options.draggable,this.sortable.el,!1))&&!(i&&i.button!==0))for(;b.length;){let t=b[0];E(t,this.options.selectedClass,!1),b.shift(),Se({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:i})}},_checkKeyDown(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},W(e,{pluginName:"multiDrag",utils:{select(i){let t=i.parentNode[O];!t||!t.options.multiDrag||~b.indexOf(i)||(V&&V!==t&&(V.multiDrag._deselectMultiDrag(),V=t),E(i,t.options.selectedClass,!0),b.push(i))},deselect(i){let t=i.parentNode[O],n=b.indexOf(i);!t||!t.options.multiDrag||!~n||(E(i,t.options.selectedClass,!1),b.splice(n,1))}},eventProperties(){const i=[],t=[];return b.forEach(n=>{i.push({multiDragElement:n,index:n.sortableIndex});let o;B&&n!==C?o=-1:B?o=x(n,":not(."+this.options.selectedClass+")"):o=x(n),t.push({multiDragElement:n,index:o})}),{items:[...b],clones:[...H],oldIndicies:i,newIndicies:t}},optionListeners:{multiDragKey(i){return i=i.toLowerCase(),i==="ctrl"?i="Control":i.length>1&&(i=i.charAt(0).toUpperCase()+i.substr(1)),i}}})}function fi(e,i){b.forEach((t,n)=>{let o=i.children[t.sortableIndex+(e?Number(n):0)];o?i.insertBefore(t,o):i.appendChild(t)})}function Ft(e,i){H.forEach((t,n)=>{let o=i.children[t.sortableIndex+(e?Number(n):0)];o?i.insertBefore(t,o):i.appendChild(t)})}function je(){b.forEach(e=>{e!==C&&e.parentNode&&e.parentNode.removeChild(e)})}p.mount(new ri),p.mount(gt,pt),p.mount(new li),p.mount(new si),Rt("default",p)}}});
//# sourceMappingURL=sortable.system.min.js.map
