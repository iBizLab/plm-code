{"version":3,"file":"sortable.system.min.js","sources":["src/BrowserInfo.js","src/utils.js","src/Animation.js","src/PluginManager.js","src/EventDispatcher.js","src/Sortable.js","plugins/AutoScroll/AutoScroll.js","plugins/OnSpill/OnSpill.js","plugins/Swap/Swap.js","plugins/MultiDrag/MultiDrag.js","entry/entry-defaults.js","entry/entry-complete.js"],"sourcesContent":["function userAgent(pattern) {\n\tif (typeof window !== 'undefined' && window.navigator) {\n\t\treturn !!/*@__PURE__*/navigator.userAgent.match(pattern);\n\t}\n}\n\nexport const IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nexport const Edge = userAgent(/Edge/i);\nexport const FireFox = userAgent(/firefox/i);\nexport const Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nexport const IOS = userAgent(/iP(ad|od|hone)/i);\nexport const ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n","import { IE11OrLess } from './BrowserInfo.js';\nimport Sortable from './Sortable.js';\n\nconst captureMode = {\n\tcapture: false,\n\tpassive: false\n};\n\nfunction on(el, event, fn) {\n\tel.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\n\nfunction off(el, event, fn) {\n\tel.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(/**HTMLElement*/el, /**String*/selector) {\n\tif (!selector) return;\n\n\tselector[0] === '>' && (selector = selector.substring(1));\n\n\tif (el) {\n\t\ttry {\n\t\t\tif (el.matches) {\n\t\t\t\treturn el.matches(selector);\n\t\t\t} else if (el.msMatchesSelector) {\n\t\t\t\treturn el.msMatchesSelector(selector);\n\t\t\t} else if (el.webkitMatchesSelector) {\n\t\t\t\treturn el.webkitMatchesSelector(selector);\n\t\t\t}\n\t\t} catch(_) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction getParentOrHost(el) {\n\treturn (el.host && el !== document && el.host.nodeType)\n\t\t? el.host\n\t\t: el.parentNode;\n}\n\nfunction closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n\tif (el) {\n\t\tctx = ctx || document;\n\n\t\tdo {\n\t\t\tif (\n\t\t\t\tselector != null &&\n\t\t\t\t(\n\t\t\t\t\tselector[0] === '>' ?\n\t\t\t\t\tel.parentNode === ctx && matches(el, selector) :\n\t\t\t\t\tmatches(el, selector)\n\t\t\t\t) ||\n\t\t\t\tincludeCTX && el === ctx\n\t\t\t) {\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tif (el === ctx) break;\n\t\t\t/* jshint boss:true */\n\t\t} while (el = getParentOrHost(el));\n\t}\n\n\treturn null;\n}\n\nconst R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n\tif (el && name) {\n\t\tif (el.classList) {\n\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t}\n\t\telse {\n\t\t\tlet className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t}\n\t}\n}\n\n\nfunction css(el, prop, val) {\n\tlet style = el && el.style;\n\n\tif (style) {\n\t\tif (val === void 0) {\n\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t}\n\t\t\telse if (el.currentStyle) {\n\t\t\t\tval = el.currentStyle;\n\t\t\t}\n\n\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t}\n\t\telse {\n\t\t\tif (!(prop in style) && prop.indexOf('webkit') === -1) {\n\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t}\n\n\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t}\n\t}\n}\n\nfunction matrix(el, selfOnly) {\n\tlet appliedTransforms = '';\n\tif (typeof(el) === 'string') {\n\t\tappliedTransforms = el;\n\t} else {\n\t\tdo {\n\t\t\tlet transform = css(el, 'transform');\n\n\t\t\tif (transform && transform !== 'none') {\n\t\t\t\tappliedTransforms = transform + ' ' + appliedTransforms;\n\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t} while (!selfOnly && (el = el.parentNode));\n\t}\n\n\tconst matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n\t/*jshint -W056 */\n\treturn matrixFn && (new matrixFn(appliedTransforms));\n}\n\n\nfunction find(ctx, tagName, iterator) {\n\tif (ctx) {\n\t\tlet list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\tif (iterator) {\n\t\t\tfor (; i < n; i++) {\n\t\t\t\titerator(list[i], i);\n\t\t\t}\n\t\t}\n\n\t\treturn list;\n\t}\n\n\treturn [];\n}\n\n\n\nfunction getWindowScrollingElement() {\n\tlet scrollingElement = document.scrollingElement;\n\n\tif (scrollingElement) {\n\t\treturn scrollingElement\n\t} else {\n\t\treturn document.documentElement\n\t}\n}\n\n\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n\tif (!el.getBoundingClientRect && el !== window) return;\n\n\tlet elRect,\n\t\ttop,\n\t\tleft,\n\t\tbottom,\n\t\tright,\n\t\theight,\n\t\twidth;\n\n\tif (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n\t\telRect = el.getBoundingClientRect();\n\t\ttop = elRect.top;\n\t\tleft = elRect.left;\n\t\tbottom = elRect.bottom;\n\t\tright = elRect.right;\n\t\theight = elRect.height;\n\t\twidth = elRect.width;\n\t} else {\n\t\ttop = 0;\n\t\tleft = 0;\n\t\tbottom = window.innerHeight;\n\t\tright = window.innerWidth;\n\t\theight = window.innerHeight;\n\t\twidth = window.innerWidth;\n\t}\n\n\tif ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n\t\t// Adjust for translate()\n\t\tcontainer = container || el.parentNode;\n\n\t\t// solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n\t\t// Not needed on <= IE11\n\t\tif (!IE11OrLess) {\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\tcontainer &&\n\t\t\t\t\tcontainer.getBoundingClientRect &&\n\t\t\t\t\t(\n\t\t\t\t\t\tcss(container, 'transform') !== 'none' ||\n\t\t\t\t\t\trelativeToNonStaticParent &&\n\t\t\t\t\t\tcss(container, 'position') !== 'static'\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tlet containerRect = container.getBoundingClientRect();\n\n\t\t\t\t\t// Set relative to edges of padding box of container\n\t\t\t\t\ttop -= containerRect.top + parseInt(css(container, 'border-top-width'));\n\t\t\t\t\tleft -= containerRect.left + parseInt(css(container, 'border-left-width'));\n\t\t\t\t\tbottom = top + elRect.height;\n\t\t\t\t\tright = left + elRect.width;\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (container = container.parentNode);\n\t\t}\n\t}\n\n\tif (undoScale && el !== window) {\n\t\t// Adjust for scale()\n\t\tlet elMatrix = matrix(container || el),\n\t\t\tscaleX = elMatrix && elMatrix.a,\n\t\t\tscaleY = elMatrix && elMatrix.d;\n\n\t\tif (elMatrix) {\n\t\t\ttop /= scaleY;\n\t\t\tleft /= scaleX;\n\n\t\t\twidth /= scaleX;\n\t\t\theight /= scaleY;\n\n\t\t\tbottom = top + height;\n\t\t\tright = left + width;\n\t\t}\n\t}\n\n\treturn {\n\t\ttop: top,\n\t\tleft: left,\n\t\tbottom: bottom,\n\t\tright: right,\n\t\twidth: width,\n\t\theight: height\n\t};\n}\n\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\nfunction isScrolledPast(el, elSide, parentSide) {\n\tlet parent = getParentAutoScrollElement(el, true),\n\t\telSideVal = getRect(el)[elSide];\n\n\t/* jshint boss:true */\n\twhile (parent) {\n\t\tlet parentSideVal = getRect(parent)[parentSide],\n\t\t\tvisible;\n\n\t\tif (parentSide === 'top' || parentSide === 'left') {\n\t\t\tvisible = elSideVal >= parentSideVal;\n\t\t} else {\n\t\t\tvisible = elSideVal <= parentSideVal;\n\t\t}\n\n\t\tif (!visible) return parent;\n\n\t\tif (parent === getWindowScrollingElement()) break;\n\n\t\tparent = getParentAutoScrollElement(parent, false);\n\t}\n\n\treturn false;\n}\n\n\n\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\nfunction getChild(el, childNum, options, includeDragEl) {\n\tlet currentChild = 0,\n\t\ti = 0,\n\t\tchildren = el.children;\n\n\twhile (i < children.length) {\n\t\tif (\n\t\t\tchildren[i].style.display !== 'none' &&\n\t\t\tchildren[i] !== Sortable.ghost &&\n\t\t\t(includeDragEl || children[i] !== Sortable.dragged) &&\n\t\t\tclosest(children[i], options.draggable, el, false)\n\t\t) {\n\t\t\tif (currentChild === childNum) {\n\t\t\t\treturn children[i];\n\t\t\t}\n\t\t\tcurrentChild++;\n\t\t}\n\n\t\ti++;\n\t}\n\treturn null;\n}\n\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\nfunction lastChild(el, selector) {\n\tlet last = el.lastElementChild;\n\n\twhile (\n\t\tlast &&\n\t\t(\n\t\t\tlast === Sortable.ghost ||\n\t\t\tcss(last, 'display') === 'none' ||\n\t\t\tselector && !matches(last, selector)\n\t\t)\n\t) {\n\t\tlast = last.previousElementSibling;\n\t}\n\n\treturn last || null;\n}\n\n\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\nfunction index(el, selector) {\n\tlet index = 0;\n\n\tif (!el || !el.parentNode) {\n\t\treturn -1;\n\t}\n\n\t/* jshint boss:true */\n\twhile (el = el.previousElementSibling) {\n\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && el !== Sortable.clone && (!selector || matches(el, selector))) {\n\t\t\tindex++;\n\t\t}\n\t}\n\n\treturn index;\n}\n\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\nfunction getRelativeScrollOffset(el) {\n\tlet offsetLeft = 0,\n\t\toffsetTop = 0,\n\t\twinScroller = getWindowScrollingElement();\n\n\tif (el) {\n\t\tdo {\n\t\t\tlet elMatrix = matrix(el),\n\t\t\t\tscaleX = elMatrix.a,\n\t\t\t\tscaleY = elMatrix.d;\n\n\t\t\toffsetLeft += el.scrollLeft * scaleX;\n\t\t\toffsetTop += el.scrollTop * scaleY;\n\t\t} while (el !== winScroller && (el = el.parentNode));\n\t}\n\n\treturn [offsetLeft, offsetTop];\n}\n\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\nfunction indexOfObject(arr, obj) {\n\tfor (let i in arr) {\n\t\tif (!arr.hasOwnProperty(i)) continue;\n\t\tfor (let key in obj) {\n\t\t\tif (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n\t\t}\n\t}\n\treturn -1;\n}\n\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n\t// skip to window\n\tif (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n\n\tlet elem = el;\n\tlet gotSelf = false;\n\tdo {\n\t\t// we don't need to get elem css if it isn't even overflowing in the first place (performance)\n\t\tif (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n\t\t\tlet elemCSS = css(elem);\n\t\t\tif (\n\t\t\t\telem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') ||\n\t\t\t\telem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')\n\t\t\t) {\n\t\t\t\tif (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n\n\t\t\t\tif (gotSelf || includeSelf) return elem;\n\t\t\t\tgotSelf = true;\n\t\t\t}\n\t\t}\n\t/* jshint boss:true */\n\t} while (elem = elem.parentNode);\n\n\treturn getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n\tif (dst && src) {\n\t\tfor (let key in src) {\n\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\tdst[key] = src[key];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dst;\n}\n\n\nfunction isRectEqual(rect1, rect2) {\n\treturn Math.round(rect1.top) === Math.round(rect2.top) &&\n\t\tMath.round(rect1.left) === Math.round(rect2.left) &&\n\t\tMath.round(rect1.height) === Math.round(rect2.height) &&\n\t\tMath.round(rect1.width) === Math.round(rect2.width);\n}\n\n\nlet _throttleTimeout;\nfunction throttle(callback, ms) {\n\treturn function () {\n\t\tif (!_throttleTimeout) {\n\t\t\tlet args = arguments,\n\t\t\t\t_this = this;\n\n\t\t\tif (args.length === 1) {\n\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t} else {\n\t\t\t\tcallback.apply(_this, args);\n\t\t\t}\n\n\t\t\t_throttleTimeout = setTimeout(function () {\n\t\t\t\t_throttleTimeout = void 0;\n\t\t\t}, ms);\n\t\t}\n\t};\n}\n\n\nfunction cancelThrottle() {\n\tclearTimeout(_throttleTimeout);\n\t_throttleTimeout = void 0;\n}\n\n\nfunction scrollBy(el, x, y) {\n\tel.scrollLeft += x;\n\tel.scrollTop += y;\n}\n\n\nfunction clone(el) {\n\tlet Polymer = window.Polymer;\n\tlet $ = window.jQuery || window.Zepto;\n\n\tif (Polymer && Polymer.dom) {\n\t\treturn Polymer.dom(el).cloneNode(true);\n\t}\n\telse if ($) {\n\t\treturn $(el).clone(true)[0];\n\t}\n\telse {\n\t\treturn el.cloneNode(true);\n\t}\n}\n\n\nfunction setRect(el, rect) {\n\tcss(el, 'position', 'absolute');\n\tcss(el, 'top', rect.top);\n\tcss(el, 'left', rect.left);\n\tcss(el, 'width', rect.width);\n\tcss(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n\tcss(el, 'position', '');\n\tcss(el, 'top', '');\n\tcss(el, 'left', '');\n\tcss(el, 'width', '');\n\tcss(el, 'height', '');\n}\n\n\nconst expando = 'Sortable' + (new Date).getTime();\n\n\nexport {\n\ton,\n\toff,\n\tmatches,\n\tgetParentOrHost,\n\tclosest,\n\ttoggleClass,\n\tcss,\n\tmatrix,\n\tfind,\n\tgetWindowScrollingElement,\n\tgetRect,\n\tisScrolledPast,\n\tgetChild,\n\tlastChild,\n\tindex,\n\tgetRelativeScrollOffset,\n\tindexOfObject,\n\tgetParentAutoScrollElement,\n\textend,\n\tisRectEqual,\n\tthrottle,\n\tcancelThrottle,\n\tscrollBy,\n\tclone,\n\tsetRect,\n\tunsetRect,\n\texpando\n};\n","import { getRect, css, matrix, isRectEqual, indexOfObject } from './utils.js';\nimport Sortable from './Sortable.js';\n\nexport default function AnimationStateManager() {\n\tlet animationStates = [],\n\t\tanimationCallbackId;\n\n\treturn {\n\t\tcaptureAnimationState() {\n\t\t\tanimationStates = [];\n\t\t\tif (!this.options.animation) return;\n\t\t\tlet children = [].slice.call(this.el.children);\n\n\t\t\tchildren.forEach(child => {\n\t\t\t\tif (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n\t\t\t\tanimationStates.push({\n\t\t\t\t\ttarget: child,\n\t\t\t\t\trect: getRect(child)\n\t\t\t\t});\n\t\t\t\tlet fromRect = { ...animationStates[animationStates.length - 1].rect };\n\n\t\t\t\t// If animating: compensate for current animation\n\t\t\t\tif (child.thisAnimationDuration) {\n\t\t\t\t\tlet childMatrix = matrix(child, true);\n\t\t\t\t\tif (childMatrix) {\n\t\t\t\t\t\tfromRect.top -= childMatrix.f;\n\t\t\t\t\t\tfromRect.left -= childMatrix.e;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tchild.fromRect = fromRect;\n\t\t\t});\n\t\t},\n\n\t\taddAnimationState(state) {\n\t\t\tanimationStates.push(state);\n\t\t},\n\n\t\tremoveAnimationState(target) {\n\t\t\tanimationStates.splice(indexOfObject(animationStates, { target }), 1);\n\t\t},\n\n\t\tanimateAll(callback) {\n\t\t\tif (!this.options.animation) {\n\t\t\t\tclearTimeout(animationCallbackId);\n\t\t\t\tif (typeof(callback) === 'function') callback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet animating = false,\n\t\t\t\tanimationTime = 0;\n\n\t\t\tanimationStates.forEach((state) => {\n\t\t\t\tlet time = 0,\n\t\t\t\t\tanimatingThis = false,\n\t\t\t\t\ttarget = state.target,\n\t\t\t\t\tfromRect = target.fromRect,\n\t\t\t\t\ttoRect = getRect(target),\n\t\t\t\t\tprevFromRect = target.prevFromRect,\n\t\t\t\t\tprevToRect = target.prevToRect,\n\t\t\t\t\tanimatingRect = state.rect,\n\t\t\t\t\ttargetMatrix = matrix(target, true);\n\n\n\t\t\t\tif (targetMatrix) {\n\t\t\t\t\t// Compensate for current animation\n\t\t\t\t\ttoRect.top -= targetMatrix.f;\n\t\t\t\t\ttoRect.left -= targetMatrix.e;\n\t\t\t\t}\n\n\t\t\t\ttarget.toRect = toRect;\n\n\t\t\t\tif (target.thisAnimationDuration) {\n\t\t\t\t\t// Could also check if animatingRect is between fromRect and toRect\n\t\t\t\t\tif (\n\t\t\t\t\t\tisRectEqual(prevFromRect, toRect) &&\n\t\t\t\t\t\t!isRectEqual(fromRect, toRect) &&\n\t\t\t\t\t\t// Make sure animatingRect is on line between toRect & fromRect\n\t\t\t\t\t\t(animatingRect.top - toRect.top) /\n\t\t\t\t\t\t(animatingRect.left - toRect.left) ===\n\t\t\t\t\t\t(fromRect.top - toRect.top) /\n\t\t\t\t\t\t(fromRect.left - toRect.left)\n\t\t\t\t\t) {\n\t\t\t\t\t\t// If returning to same place as started from animation and on same axis\n\t\t\t\t\t\ttime = calculateRealTime(animatingRect, prevFromRect, prevToRect, this.options);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if fromRect != toRect: animate\n\t\t\t\tif (!isRectEqual(toRect, fromRect)) {\n\t\t\t\t\ttarget.prevFromRect = fromRect;\n\t\t\t\t\ttarget.prevToRect = toRect;\n\n\t\t\t\t\tif (!time) {\n\t\t\t\t\t\ttime = this.options.animation;\n\t\t\t\t\t}\n\t\t\t\t\tthis.animate(\n\t\t\t\t\t\ttarget,\n\t\t\t\t\t\tanimatingRect,\n\t\t\t\t\t\ttoRect,\n\t\t\t\t\t\ttime\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (time) {\n\t\t\t\t\tanimating = true;\n\t\t\t\t\tanimationTime = Math.max(animationTime, time);\n\t\t\t\t\tclearTimeout(target.animationResetTimer);\n\t\t\t\t\ttarget.animationResetTimer = setTimeout(function() {\n\t\t\t\t\t\ttarget.animationTime = 0;\n\t\t\t\t\t\ttarget.prevFromRect = null;\n\t\t\t\t\t\ttarget.fromRect = null;\n\t\t\t\t\t\ttarget.prevToRect = null;\n\t\t\t\t\t\ttarget.thisAnimationDuration = null;\n\t\t\t\t\t}, time);\n\t\t\t\t\ttarget.thisAnimationDuration = time;\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tclearTimeout(animationCallbackId);\n\t\t\tif (!animating) {\n\t\t\t\tif (typeof(callback) === 'function') callback();\n\t\t\t} else {\n\t\t\t\tanimationCallbackId = setTimeout(function() {\n\t\t\t\t\tif (typeof(callback) === 'function') callback();\n\t\t\t\t}, animationTime);\n\t\t\t}\n\t\t\tanimationStates = [];\n\t\t},\n\n\t\tanimate(target, currentRect, toRect, duration) {\n\t\t\tif (duration) {\n\t\t\t\tcss(target, 'transition', '');\n\t\t\t\tcss(target, 'transform', '');\n\t\t\t\tlet elMatrix = matrix(this.el),\n\t\t\t\t\tscaleX = elMatrix && elMatrix.a,\n\t\t\t\t\tscaleY = elMatrix && elMatrix.d,\n\t\t\t\t\ttranslateX = (currentRect.left - toRect.left) / (scaleX || 1),\n\t\t\t\t\ttranslateY = (currentRect.top - toRect.top) / (scaleY || 1);\n\n\t\t\t\ttarget.animatingX = !!translateX;\n\t\t\t\ttarget.animatingY = !!translateY;\n\n\t\t\t\tcss(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n\n\t\t\t\tthis.forRepaintDummy = repaint(target); // repaint\n\n\t\t\t\tcss(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n\t\t\t\tcss(target, 'transform', 'translate3d(0,0,0)');\n\t\t\t\t(typeof target.animated === 'number') && clearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\tcss(target, 'transition', '');\n\t\t\t\t\tcss(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\n\t\t\t\t\ttarget.animatingX = false;\n\t\t\t\t\ttarget.animatingY = false;\n\t\t\t\t}, duration);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction repaint(target) {\n\treturn target.offsetWidth;\n}\n\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n\treturn (\n\t\tMath.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) /\n\t\tMath.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2))\n\t) * options.animation;\n}\n","let plugins = [];\n\nconst defaults = {\n\tinitializeByDefault: true\n};\n\nexport default {\n\tmount(plugin) {\n\t\t// Set default static properties\n\t\tfor (let option in defaults) {\n\t\t\tif (defaults.hasOwnProperty(option) && !(option in plugin)) {\n\t\t\t\tplugin[option] = defaults[option];\n\t\t\t}\n\t\t}\n\n\t\tplugins.forEach(p => {\n\t\t\tif (p.pluginName === plugin.pluginName) {\n\t\t\t\tthrow (`Sortable: Cannot mount plugin ${ plugin.pluginName } more than once`);\n\t\t\t}\n\t\t});\n\n\t\tplugins.push(plugin);\n\t},\n\tpluginEvent(eventName, sortable, evt) {\n\t\tthis.eventCanceled = false;\n\t\tevt.cancel = () => {\n\t\t\tthis.eventCanceled = true;\n\t\t};\n\t\tconst eventNameGlobal = eventName + 'Global';\n\t\tplugins.forEach(plugin => {\n\t\t\tif (!sortable[plugin.pluginName]) return;\n\t\t\t// Fire global events if it exists in this sortable\n\t\t\tif (\n\t\t\t\tsortable[plugin.pluginName][eventNameGlobal]\n\t\t\t) {\n\t\t\t\tsortable[plugin.pluginName][eventNameGlobal]({ sortable, ...evt });\n\t\t\t}\n\n\t\t\t// Only fire plugin event if plugin is enabled in this sortable,\n\t\t\t// and plugin has event defined\n\t\t\tif (\n\t\t\t\tsortable.options[plugin.pluginName] &&\n\t\t\t\tsortable[plugin.pluginName][eventName]\n\t\t\t) {\n\t\t\t\tsortable[plugin.pluginName][eventName]({ sortable, ...evt });\n\t\t\t}\n\t\t});\n\t},\n\tinitializePlugins(sortable, el, defaults, options) {\n\t\tplugins.forEach(plugin => {\n\t\t\tconst pluginName = plugin.pluginName;\n\t\t\tif (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n\n\t\t\tlet initialized = new plugin(sortable, el, sortable.options);\n\t\t\tinitialized.sortable = sortable;\n\t\t\tinitialized.options = sortable.options;\n\t\t\tsortable[pluginName] = initialized;\n\n\t\t\t// Add default options from plugin\n\t\t\tObject.assign(defaults, initialized.defaults);\n\t\t});\n\n\t\tfor (let option in sortable.options) {\n\t\t\tif (!sortable.options.hasOwnProperty(option)) continue;\n\t\t\tlet modified = this.modifyOption(sortable, option, sortable.options[option]);\n\t\t\tif (typeof(modified) !== 'undefined') {\n\t\t\t\tsortable.options[option] = modified;\n\t\t\t}\n\t\t}\n\t},\n\tgetEventProperties(name, sortable) {\n\t\tlet eventProperties = {};\n\t\tplugins.forEach(plugin => {\n\t\t\tif (typeof(plugin.eventProperties) !== 'function') return;\n\t\t\tObject.assign(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n\t\t});\n\n\t\treturn eventProperties;\n\t},\n\tmodifyOption(sortable, name, value) {\n\t\tlet modifiedValue;\n\t\tplugins.forEach(plugin => {\n\t\t\t// Plugin must exist on the Sortable\n\t\t\tif (!sortable[plugin.pluginName]) return;\n\n\t\t\t// If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\t\t\tif (plugin.optionListeners && typeof(plugin.optionListeners[name]) === 'function') {\n\t\t\t\tmodifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n\t\t\t}\n\t\t});\n\n\t\treturn modifiedValue;\n\t}\n};\n","import { IE11OrLess, Edge } from './BrowserInfo.js';\nimport { expando } from './utils.js';\nimport PluginManager from './PluginManager.js';\n\nexport default function dispatchEvent(\n\t{\n\t\tsortable, rootEl, name,\n\t\ttargetEl, cloneEl, toEl, fromEl,\n\t\toldIndex, newIndex,\n\t\toldDraggableIndex, newDraggableIndex,\n\t\toriginalEvent, putSortable, extraEventProperties\n\t}\n) {\n\tsortable = (sortable || (rootEl && rootEl[expando]));\n\tif (!sortable) return;\n\n\tlet evt,\n\t\toptions = sortable.options,\n\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\t// Support for new CustomEvent feature\n\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\tevt = new CustomEvent(name, {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true\n\t\t});\n\t} else {\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent(name, true, true);\n\t}\n\n\tevt.to = toEl || rootEl;\n\tevt.from = fromEl || rootEl;\n\tevt.item = targetEl || rootEl;\n\tevt.clone = cloneEl;\n\n\tevt.oldIndex = oldIndex;\n\tevt.newIndex = newIndex;\n\n\tevt.oldDraggableIndex = oldDraggableIndex;\n\tevt.newDraggableIndex = newDraggableIndex;\n\n\tevt.originalEvent = originalEvent;\n\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n\tlet allEventProperties = { ...extraEventProperties, ...PluginManager.getEventProperties(name, sortable) };\n\tfor (let option in allEventProperties) {\n\t\tevt[option] = allEventProperties[option];\n\t}\n\n\tif (rootEl) {\n\t\trootEl.dispatchEvent(evt);\n\t}\n\n\tif (options[onName]) {\n\t\toptions[onName].call(sortable, evt);\n\t}\n}\n","/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n\nimport { version } from '../package.json';\n\nimport { IE11OrLess, Edge, FireFox, Safari, IOS, ChromeForAndroid } from './BrowserInfo.js';\n\nimport AnimationStateManager from './Animation.js';\n\nimport PluginManager from './PluginManager.js';\n\nimport dispatchEvent from './EventDispatcher.js';\n\nimport {\n\ton,\n\toff,\n\tclosest,\n\ttoggleClass,\n\tcss,\n\tmatrix,\n\tfind,\n\tgetWindowScrollingElement,\n\tgetRect,\n\tisScrolledPast,\n\tgetChild,\n\tlastChild,\n\tindex,\n\tgetRelativeScrollOffset,\n\textend,\n\tthrottle,\n\tscrollBy,\n\tclone,\n\texpando\n} from './utils.js';\n\n\nlet pluginEvent = function(eventName, sortable, { evt: originalEvent, ...data } = {}) {\n\tPluginManager.pluginEvent.bind(Sortable)(eventName, sortable, {\n\t\tdragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\t\tcloneEl,\n\t\tcloneHidden,\n\t\tdragStarted: moved,\n\t\tputSortable,\n\t\tactiveSortable: Sortable.active,\n\t\toriginalEvent,\n\n\t\toldIndex,\n\t\toldDraggableIndex,\n\t\tnewIndex,\n\t\tnewDraggableIndex,\n\n\t\thideGhostForTarget: _hideGhostForTarget,\n\t\tunhideGhostForTarget: _unhideGhostForTarget,\n\n\n\t\tcloneNowHidden() {\n\t\t\tcloneHidden = true;\n\t\t},\n\t\tcloneNowShown() {\n\t\t\tcloneHidden = false;\n\t\t},\n\n\t\tdispatchSortableEvent(name) {\n\t\t\t_dispatchEvent({ sortable, name, originalEvent });\n\t\t},\n\n\t\t...data\n\t});\n};\n\nfunction _dispatchEvent(info) {\n\tdispatchEvent({\n\t\tputSortable,\n\t\tcloneEl,\n\t\ttargetEl: dragEl,\n\t\trootEl,\n\t\toldIndex,\n\t\toldDraggableIndex,\n\t\tnewIndex,\n\t\tnewDraggableIndex,\n\t\t...info\n\t});\n}\n\n\nlet dragEl,\n\tparentEl,\n\tghostEl,\n\trootEl,\n\tnextEl,\n\tlastDownEl,\n\n\tcloneEl,\n\tcloneHidden,\n\n\toldIndex,\n\tnewIndex,\n\toldDraggableIndex,\n\tnewDraggableIndex,\n\n\tactiveGroup,\n\tputSortable,\n\n\tawaitingDragStarted = false,\n\tignoreNextClick = false,\n\tsortables = [],\n\n\ttapEvt,\n\ttouchEvt,\n\tlastDx,\n\tlastDy,\n\ttapDistanceLeft,\n\ttapDistanceTop,\n\n\tmoved,\n\n\tlastTarget,\n\tlastDirection,\n\tpastFirstInvertThresh = false,\n\tisCircumstantialInvert = false,\n\n\ttargetMoveDistance,\n\n\t// For positioning ghost absolutely\n\tghostRelativeParent,\n\tghostRelativeParentInitialScroll = [], // (left, top)\n\n\t_silent = false,\n\tsavedInputChecked = [];\n\n\t/** @const */\n\tconst documentExists = typeof document !== 'undefined',\n\n\tPositionGhostAbsolutely = IOS,\n\n\tCSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n\n\t// This will not pass for IE9, because IE9 DnD only works on anchors\n\tsupportDraggable = documentExists && !ChromeForAndroid && !IOS && ('draggable' in document.createElement('div')),\n\n\tsupportCssPointerEvents = (function() {\n\t\tif (!documentExists) return;\n\t\t// false when <= IE11\n\t\tif (IE11OrLess) {\n\t\t\treturn false;\n\t\t}\n\t\tlet el = document.createElement('x');\n\t\tel.style.cssText = 'pointer-events:auto';\n\t\treturn el.style.pointerEvents === 'auto';\n\t})(),\n\n\t_detectDirection = function(el, options) {\n\t\tlet elCSS = css(el),\n\t\t\telWidth = parseInt(elCSS.width)\n\t\t\t\t- parseInt(elCSS.paddingLeft)\n\t\t\t\t- parseInt(elCSS.paddingRight)\n\t\t\t\t- parseInt(elCSS.borderLeftWidth)\n\t\t\t\t- parseInt(elCSS.borderRightWidth),\n\t\t\tchild1 = getChild(el, 0, options),\n\t\t\tchild2 = getChild(el, 1, options),\n\t\t\tfirstChildCSS = child1 && css(child1),\n\t\t\tsecondChildCSS = child2 && css(child2),\n\t\t\tfirstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n\t\t\tsecondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n\t\tif (elCSS.display === 'flex') {\n\t\t\treturn elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse'\n\t\t\t? 'vertical' : 'horizontal';\n\t\t}\n\n\t\tif (elCSS.display === 'grid') {\n\t\t\treturn elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n\t\t}\n\n\t\tif (child1 && firstChildCSS.float && firstChildCSS.float !== 'none') {\n\t\t\tlet touchingSideChild2 = firstChildCSS.float === 'left' ? 'left' : 'right';\n\n\t\t\treturn child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ?\n\t\t\t\t'vertical' : 'horizontal';\n\t\t}\n\n\t\treturn (child1 &&\n\t\t\t(\n\t\t\t\tfirstChildCSS.display === 'block' ||\n\t\t\t\tfirstChildCSS.display === 'flex' ||\n\t\t\t\tfirstChildCSS.display === 'table' ||\n\t\t\t\tfirstChildCSS.display === 'grid' ||\n\t\t\t\tfirstChildWidth >= elWidth &&\n\t\t\t\telCSS[CSSFloatProperty] === 'none' ||\n\t\t\t\tchild2 &&\n\t\t\t\telCSS[CSSFloatProperty] === 'none' &&\n\t\t\t\tfirstChildWidth + secondChildWidth > elWidth\n\t\t\t) ?\n\t\t\t'vertical' : 'horizontal'\n\t\t);\n\t},\n\n\t_dragElInRowColumn = function(dragRect, targetRect, vertical) {\n\t\tlet dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n\t\t\tdragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n\t\t\tdragElOppLength = vertical ? dragRect.width : dragRect.height,\n\t\t\ttargetS1Opp = vertical ? targetRect.left : targetRect.top,\n\t\t\ttargetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n\t\t\ttargetOppLength = vertical ? targetRect.width : targetRect.height;\n\n\t\treturn (\n\t\t\tdragElS1Opp === targetS1Opp ||\n\t\t\tdragElS2Opp === targetS2Opp ||\n\t\t\t(dragElS1Opp + dragElOppLength / 2) === (targetS1Opp + targetOppLength / 2)\n\t\t);\n\t},\n\n\t/**\n\t * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n\t * @param  {Number} x      X position\n\t * @param  {Number} y      Y position\n\t * @return {HTMLElement}   Element of the first found nearest Sortable\n\t */\n\t_detectNearestEmptySortable = function(x, y) {\n\t\tlet ret;\n\t\tsortables.some((sortable) => {\n\t\t\tconst threshold = sortable[expando].options.emptyInsertThreshold;\n\t\t\tif (!threshold || lastChild(sortable)) return;\n\n\t\t\tconst rect = getRect(sortable),\n\t\t\t\tinsideHorizontally = x >= (rect.left - threshold) && x <= (rect.right + threshold),\n\t\t\t\tinsideVertically = y >= (rect.top - threshold) && y <= (rect.bottom + threshold);\n\n\t\t\tif (insideHorizontally && insideVertically) {\n\t\t\t\treturn (ret = sortable);\n\t\t\t}\n\t\t});\n\t\treturn ret;\n\t},\n\n\t_prepareGroup = function (options) {\n\t\tfunction toFn(value, pull) {\n\t\t\treturn function(to, from, dragEl, evt) {\n\t\t\t\tlet sameGroup = to.options.group.name &&\n\t\t\t\t\t\t\t\tfrom.options.group.name &&\n\t\t\t\t\t\t\t\tto.options.group.name === from.options.group.name;\n\n\t\t\t\tif (value == null && (pull || sameGroup)) {\n\t\t\t\t\t// Default pull value\n\t\t\t\t\t// Default pull and put value if same group\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (value == null || value === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (pull && value === 'clone') {\n\t\t\t\t\treturn value;\n\t\t\t\t} else if (typeof value === 'function') {\n\t\t\t\t\treturn toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n\t\t\t\t} else {\n\t\t\t\t\tlet otherGroup = (pull ? to : from).options.group.name;\n\n\t\t\t\t\treturn (value === true ||\n\t\t\t\t\t(typeof value === 'string' && value === otherGroup) ||\n\t\t\t\t\t(value.join && value.indexOf(otherGroup) > -1));\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tlet group = {};\n\t\tlet originalGroup = options.group;\n\n\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\toriginalGroup = {name: originalGroup};\n\t\t}\n\n\t\tgroup.name = originalGroup.name;\n\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\toptions.group = group;\n\t},\n\n\t_hideGhostForTarget = function() {\n\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\tcss(ghostEl, 'display', 'none');\n\t\t}\n\t},\n\n\t_unhideGhostForTarget = function() {\n\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\tcss(ghostEl, 'display', '');\n\t\t}\n\t};\n\n\n// #1184 fix - Prevent click event on fallback if dragged but item not changed position\nif (documentExists && !ChromeForAndroid) {\n\tdocument.addEventListener('click', function(evt) {\n\t\tif (ignoreNextClick) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation && evt.stopPropagation();\n\t\t\tevt.stopImmediatePropagation && evt.stopImmediatePropagation();\n\t\t\tignoreNextClick = false;\n\t\t\treturn false;\n\t\t}\n\t}, true);\n}\n\nlet nearestEmptyInsertDetectEvent = function(evt) {\n\tif (dragEl) {\n\t\tevt = evt.touches ? evt.touches[0] : evt;\n\t\tlet nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n\t\tif (nearest) {\n\t\t\t// Create imitation event\n\t\t\tlet event = {};\n\t\t\tfor (let i in evt) {\n\t\t\t\tif (evt.hasOwnProperty(i)) {\n\t\t\t\t\tevent[i] = evt[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent.target = event.rootEl = nearest;\n\t\t\tevent.preventDefault = void 0;\n\t\t\tevent.stopPropagation = void 0;\n\t\t\tnearest[expando]._onDragOver(event);\n\t\t}\n\t}\n};\n\n\nlet _checkOutsideTargetEl = function(evt) {\n\tif (dragEl) {\n\t\tdragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n\t}\n};\n\n\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\nfunction Sortable(el, options) {\n\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\tthrow `Sortable: \\`el\\` must be an HTMLElement, not ${ {}.toString.call(el) }`;\n\t}\n\n\tthis.el = el; // root element\n\tthis.options = options = Object.assign({}, options);\n\n\n\t// Export instance\n\tel[expando] = this;\n\n\tlet defaults = {\n\t\tgroup: null,\n\t\tsort: true,\n\t\tdisabled: false,\n\t\tstore: null,\n\t\thandle: null,\n\t\tdraggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n\t\tswapThreshold: 1, // percentage; 0 <= x <= 1\n\t\tinvertSwap: false, // invert always\n\t\tinvertedSwapThreshold: null, // will be set to same as swapThreshold if default\n\t\tremoveCloneOnHide: true,\n\t\tdirection: function() {\n\t\t\treturn _detectDirection(el, this.options);\n\t\t},\n\t\tghostClass: 'sortable-ghost',\n\t\tchosenClass: 'sortable-chosen',\n\t\tdragClass: 'sortable-drag',\n\t\tignore: 'a, img',\n\t\tfilter: null,\n\t\tpreventOnFilter: true,\n\t\tanimation: 0,\n\t\teasing: null,\n\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t},\n\t\tdropBubble: false,\n\t\tdragoverBubble: false,\n\t\tdataIdAttr: 'data-id',\n\t\tdelay: 0,\n\t\tdelayOnTouchOnly: false,\n\t\ttouchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n\t\tforceFallback: false,\n\t\tfallbackClass: 'sortable-fallback',\n\t\tfallbackOnBody: false,\n\t\tfallbackTolerance: 0,\n\t\tfallbackOffset: {x: 0, y: 0},\n\t\tsupportPointer: Sortable.supportPointer !== false && ('PointerEvent' in window) && !Safari,\n\t\temptyInsertThreshold: 5\n\t};\n\n\tPluginManager.initializePlugins(this, el, defaults);\n\n\t// Set default options\n\tfor (let name in defaults) {\n\t\t!(name in options) && (options[name] = defaults[name]);\n\t}\n\n\t_prepareGroup(options);\n\n\t// Bind all private methods\n\tfor (let fn in this) {\n\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\tthis[fn] = this[fn].bind(this);\n\t\t}\n\t}\n\n\t// Setup drag mode\n\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\tif (this.nativeDraggable) {\n\t\t// Touch start threshold cannot be greater than the native dragstart threshold\n\t\tthis.options.touchStartThreshold = 1;\n\t}\n\n\t// Bind events\n\tif (options.supportPointer) {\n\t\ton(el, 'pointerdown', this._onTapStart);\n\t} else {\n\t\ton(el, 'mousedown', this._onTapStart);\n\t\ton(el, 'touchstart', this._onTapStart);\n\t}\n\n\tif (this.nativeDraggable) {\n\t\ton(el, 'dragover', this);\n\t\ton(el, 'dragenter', this);\n\t}\n\n\tsortables.push(this.el);\n\n\t// Restore sorting\n\toptions.store && options.store.get && this.sort(options.store.get(this) || []);\n\n\t// Add animation state manager\n\tObject.assign(this, AnimationStateManager());\n}\n\nSortable.prototype = /** @lends Sortable.prototype */ {\n\tconstructor: Sortable,\n\n\t_isOutsideThisEl: function(target) {\n\t\tif (!this.el.contains(target) && target !== this.el) {\n\t\t\tlastTarget = null;\n\t\t}\n\t},\n\n\t_getDirection: function(evt, target) {\n\t\treturn (typeof this.options.direction === 'function') ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n\t},\n\n\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\tif (!evt.cancelable) return;\n\t\tlet _this = this,\n\t\t\tel = this.el,\n\t\t\toptions = this.options,\n\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\ttype = evt.type,\n\t\t\ttouch = (evt.touches && evt.touches[0]) || (evt.pointerType && evt.pointerType === 'touch' && evt),\n\t\t\ttarget = (touch || evt).target,\n\t\t\toriginalTarget = evt.target.shadowRoot && ((evt.path && evt.path[0]) || (evt.composedPath && evt.composedPath()[0])) || target,\n\t\t\tfilter = options.filter;\n\n\t\t_saveInputCheckedState(el);\n\n\n\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\tif (dragEl) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\treturn; // only left button and enabled\n\t\t}\n\n\t\t// cancel dnd if original target is content editable\n\t\tif (originalTarget.isContentEditable) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Safari ignores further event handling after mousedown\n\t\tif (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n\t\t\treturn;\n\t\t}\n\n\t\ttarget = closest(target, options.draggable, el, false);\n\n\n\t\tif (target && target.animated) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (lastDownEl === target) {\n\t\t\t// Ignoring duplicate `down`\n\t\t\treturn;\n\t\t}\n\n\t\t// Get the index of the dragged element within its parent\n\t\toldIndex = index(target);\n\t\toldDraggableIndex = index(target, options.draggable);\n\n\t\t// Check filter\n\t\tif (typeof filter === 'function') {\n\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t_dispatchEvent({\n\t\t\t\t\tsortable: _this,\n\t\t\t\t\trootEl: originalTarget,\n\t\t\t\t\tname: 'filter',\n\t\t\t\t\ttargetEl: target,\n\t\t\t\t\ttoEl: el,\n\t\t\t\t\tfromEl: el\n\t\t\t\t});\n\t\t\t\tpluginEvent('filter', _this, { evt });\n\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\treturn; // cancel dnd\n\t\t\t}\n\t\t}\n\t\telse if (filter) {\n\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\tcriteria = closest(originalTarget, criteria.trim(), el, false);\n\n\t\t\t\tif (criteria) {\n\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\tsortable: _this,\n\t\t\t\t\t\trootEl: criteria,\n\t\t\t\t\t\tname: 'filter',\n\t\t\t\t\t\ttargetEl: target,\n\t\t\t\t\t\tfromEl: el,\n\t\t\t\t\t\ttoEl: el\n\t\t\t\t\t});\n\t\t\t\t\tpluginEvent('filter', _this, { evt });\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (filter) {\n\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\treturn; // cancel dnd\n\t\t\t}\n\t\t}\n\n\t\tif (options.handle && !closest(originalTarget, options.handle, el, false)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Prepare `dragstart`\n\t\tthis._prepareDragStart(evt, touch, target);\n\t},\n\n\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n\t\tlet _this = this,\n\t\t\tel = _this.el,\n\t\t\toptions = _this.options,\n\t\t\townerDocument = el.ownerDocument,\n\t\t\tdragStartFn;\n\n\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\tlet dragRect = getRect(target);\n\t\t\trootEl = el;\n\t\t\tdragEl = target;\n\t\t\tparentEl = dragEl.parentNode;\n\t\t\tnextEl = dragEl.nextSibling;\n\t\t\tlastDownEl = target;\n\t\t\tactiveGroup = options.group;\n\n\t\t\tSortable.dragged = dragEl;\n\n\t\t\ttapEvt = {\n\t\t\t\ttarget: dragEl,\n\t\t\t\tclientX: (touch || evt).clientX,\n\t\t\t\tclientY: (touch || evt).clientY\n\t\t\t};\n\n\t\t\ttapDistanceLeft = tapEvt.clientX - dragRect.left;\n\t\t\ttapDistanceTop = tapEvt.clientY - dragRect.top;\n\n\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\tdragEl.style['will-change'] = 'all';\n\n\t\t\tdragStartFn = function () {\n\t\t\t\tpluginEvent('delayEnded', _this, { evt });\n\t\t\t\tif (Sortable.eventCanceled) {\n\t\t\t\t\t_this._onDrop();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t_this._disableDelayedDragEvents();\n\n\t\t\t\tif (!FireFox && _this.nativeDraggable) {\n\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t}\n\n\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent({\n\t\t\t\t\tsortable: _this,\n\t\t\t\t\tname: 'choose',\n\t\t\t\t\toriginalEvent: evt\n\t\t\t\t});\n\n\t\t\t\t// Chosen item\n\t\t\t\ttoggleClass(dragEl, options.chosenClass, true);\n\t\t\t};\n\n\t\t\t// Disable \"draggable\"\n\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\tfind(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t});\n\n\t\t\ton(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n\t\t\ton(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\t\ton(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n\n\t\t\ton(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\ton(ownerDocument, 'touchend', _this._onDrop);\n\t\t\ton(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t// Make dragEl draggable (must be before delay for FireFox)\n\t\t\tif (FireFox && this.nativeDraggable) {\n\t\t\t\tthis.options.touchStartThreshold = 4;\n\t\t\t\tdragEl.draggable = true;\n\t\t\t}\n\n\t\t\tpluginEvent('delayStart', this, { evt });\n\n\t\t\t// Delay is impossible for native DnD in Edge or IE\n\t\t\tif (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n\t\t\t\tif (Sortable.eventCanceled) {\n\t\t\t\t\tthis._onDrop();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t// before the delay has been reached:\n\t\t\t\t// disable the delayed drag\n\t\t\t\ton(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\ton(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\ton(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\ton(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n\t\t\t\ton(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n\t\t\t\toptions.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n\n\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t} else {\n\t\t\t\tdragStartFn();\n\t\t\t}\n\t\t}\n\t},\n\n\t_delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/e) {\n\t\tlet touch = e.touches ? e.touches[0] : e;\n\t\tif (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY))\n\t\t\t\t>= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))\n\t\t) {\n\t\t\tthis._disableDelayedDrag();\n\t\t}\n\t},\n\n\t_disableDelayedDrag: function () {\n\t\tdragEl && _disableDraggable(dragEl);\n\t\tclearTimeout(this._dragStartTimer);\n\n\t\tthis._disableDelayedDragEvents();\n\t},\n\n\t_disableDelayedDragEvents: function () {\n\t\tlet ownerDocument = this.el.ownerDocument;\n\t\toff(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\toff(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\toff(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\toff(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n\t\toff(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n\t\toff(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n\t},\n\n\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\ttouch = touch || (evt.pointerType == 'touch' && evt);\n\n\t\tif (!this.nativeDraggable || touch) {\n\t\t\tif (this.options.supportPointer) {\n\t\t\t\ton(document, 'pointermove', this._onTouchMove);\n\t\t\t} else if (touch) {\n\t\t\t\ton(document, 'touchmove', this._onTouchMove);\n\t\t\t} else {\n\t\t\t\ton(document, 'mousemove', this._onTouchMove);\n\t\t\t}\n\t\t} else {\n\t\t\ton(dragEl, 'dragend', this);\n\t\t\ton(rootEl, 'dragstart', this._onDragStart);\n\t\t}\n\n\t\ttry {\n\t\t\tif (document.selection) {\n\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t_nextTick(function () {\n\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} catch (err) {\n\t\t}\n\t},\n\n\t_dragStarted: function (fallback, evt) {\n\t\tlet _this = this;\n\t\tawaitingDragStarted = false;\n\t\tif (rootEl && dragEl) {\n\t\t\tpluginEvent('dragStarted', this, { evt });\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\ton(document, 'dragover', _checkOutsideTargetEl);\n\t\t\t}\n\t\t\tlet options = this.options;\n\n\t\t\t// Apply effect\n\t\t\t!fallback && toggleClass(dragEl, options.dragClass, false);\n\t\t\ttoggleClass(dragEl, options.ghostClass, true);\n\n\t\t\tSortable.active = this;\n\n\t\t\tfallback && this._appendGhost();\n\n\t\t\t// Drag start event\n\t\t\t_dispatchEvent({\n\t\t\t\tsortable: this,\n\t\t\t\tname: 'start',\n\t\t\t\toriginalEvent: evt\n\t\t\t});\n\t\t} else {\n\t\t\tthis._nulling();\n\t\t}\n\t},\n\n\t_emulateDragOver: function () {\n\t\tif (touchEvt) {\n\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t_hideGhostForTarget();\n\n\t\t\tlet target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\tlet parent = target;\n\n\t\t\twhile (target && target.shadowRoot) {\n\t\t\t\ttarget = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\tif (target === parent) break;\n\t\t\t\tparent = target;\n\t\t\t}\n\n\t\t\tdragEl.parentNode[expando]._isOutsideThisEl(target);\n\n\t\t\tif (parent) {\n\t\t\t\tdo {\n\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\tlet inserted;\n\n\t\t\t\t\t\tinserted = parent[expando]._onDragOver({\n\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (inserted && !this.options.dragoverBubble) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t}\n\t\t\t\t/* jshint boss:true */\n\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t}\n\n\t\t\t_unhideGhostForTarget();\n\t\t}\n\t},\n\n\n\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\tif (tapEvt) {\n\t\t\tlet\toptions = this.options,\n\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\tghostMatrix = ghostEl && matrix(ghostEl, true),\n\t\t\t\tscaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n\t\t\t\tscaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n\t\t\t\trelativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n\t\t\t\tdx = ((touch.clientX - tapEvt.clientX)\n\t\t\t\t\t\t+ fallbackOffset.x) / (scaleX || 1)\n\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0]) : 0) / (scaleX || 1),\n\t\t\t\tdy = ((touch.clientY - tapEvt.clientY)\n\t\t\t\t\t\t+ fallbackOffset.y) / (scaleY || 1)\n\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1]) : 0) / (scaleY || 1);\n\n\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\tif (!Sortable.active && !awaitingDragStarted) {\n\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\tMath.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._onDragStart(evt, true);\n\t\t\t}\n\n\t\t\tif (ghostEl) {\n\t\t\t\tif (ghostMatrix) {\n\t\t\t\t\tghostMatrix.e += dx - (lastDx || 0);\n\t\t\t\t\tghostMatrix.f += dy - (lastDy || 0);\n\t\t\t\t} else {\n\t\t\t\t\tghostMatrix = {\n\t\t\t\t\t\ta: 1,\n\t\t\t\t\t\tb: 0,\n\t\t\t\t\t\tc: 0,\n\t\t\t\t\t\td: 1,\n\t\t\t\t\t\te: dx,\n\t\t\t\t\t\tf: dy\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tlet cssMatrix = `matrix(${ghostMatrix.a},${ghostMatrix.b},${ghostMatrix.c},${ghostMatrix.d},${ghostMatrix.e},${ghostMatrix.f})`;\n\n\t\t\t\tcss(ghostEl, 'webkitTransform', cssMatrix);\n\t\t\t\tcss(ghostEl, 'mozTransform', cssMatrix);\n\t\t\t\tcss(ghostEl, 'msTransform', cssMatrix);\n\t\t\t\tcss(ghostEl, 'transform', cssMatrix);\n\n\t\t\t\tlastDx = dx;\n\t\t\t\tlastDy = dy;\n\n\t\t\t\ttouchEvt = touch;\n\t\t\t}\n\n\t\t\tevt.cancelable && evt.preventDefault();\n\t\t}\n\t},\n\n\t_appendGhost: function () {\n\t\t// Bug if using scale(): https://stackoverflow.com/questions/2637058\n\t\t// Not being adjusted for\n\t\tif (!ghostEl) {\n\t\t\tlet container = this.options.fallbackOnBody ? document.body : rootEl,\n\t\t\t\trect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n\t\t\t\toptions = this.options;\n\n\t\t\t// Position absolutely\n\t\t\tif (PositionGhostAbsolutely) {\n\t\t\t\t// Get relatively positioned parent\n\t\t\t\tghostRelativeParent = container;\n\n\t\t\t\twhile (\n\t\t\t\t\tcss(ghostRelativeParent, 'position') === 'static' &&\n\t\t\t\t\tcss(ghostRelativeParent, 'transform') === 'none' &&\n\t\t\t\t\tghostRelativeParent !== document\n\t\t\t\t) {\n\t\t\t\t\tghostRelativeParent = ghostRelativeParent.parentNode;\n\t\t\t\t}\n\n\t\t\t\tif (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n\t\t\t\t\tif (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n\n\t\t\t\t\trect.top += ghostRelativeParent.scrollTop;\n\t\t\t\t\trect.left += ghostRelativeParent.scrollLeft;\n\t\t\t\t} else {\n\t\t\t\t\tghostRelativeParent = getWindowScrollingElement();\n\t\t\t\t}\n\t\t\t\tghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n\t\t\t}\n\n\n\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\ttoggleClass(ghostEl, options.ghostClass, false);\n\t\t\ttoggleClass(ghostEl, options.fallbackClass, true);\n\t\t\ttoggleClass(ghostEl, options.dragClass, true);\n\n\t\t\tcss(ghostEl, 'transition', '');\n\t\t\tcss(ghostEl, 'transform', '');\n\n\t\t\tcss(ghostEl, 'box-sizing', 'border-box');\n\t\t\tcss(ghostEl, 'margin', 0);\n\t\t\tcss(ghostEl, 'top', rect.top);\n\t\t\tcss(ghostEl, 'left', rect.left);\n\t\t\tcss(ghostEl, 'width', rect.width);\n\t\t\tcss(ghostEl, 'height', rect.height);\n\t\t\tcss(ghostEl, 'opacity', '0.8');\n\t\t\tcss(ghostEl, 'position', (PositionGhostAbsolutely ? 'absolute' : 'fixed'));\n\t\t\tcss(ghostEl, 'zIndex', '100000');\n\t\t\tcss(ghostEl, 'pointerEvents', 'none');\n\n\n\t\t\tSortable.ghost = ghostEl;\n\n\t\t\tcontainer.appendChild(ghostEl);\n\n\t\t\t// Set transform-origin\n\t\t\tcss(ghostEl, 'transform-origin', (tapDistanceLeft / parseInt(ghostEl.style.width) * 100) + '% ' + (tapDistanceTop / parseInt(ghostEl.style.height) * 100) + '%');\n\t\t}\n\t},\n\n\t_onDragStart: function (/**Event*/evt, /**boolean*/fallback) {\n\t\tlet _this = this;\n\t\tlet dataTransfer = evt.dataTransfer;\n\t\tlet options = _this.options;\n\n\t\tpluginEvent('dragStart', this, { evt });\n\t\tif (Sortable.eventCanceled) {\n\t\t\tthis._onDrop();\n\t\t\treturn;\n\t\t}\n\n\t\tpluginEvent('setupClone', this);\n\t\tif (!Sortable.eventCanceled) {\n\t\t\tcloneEl = clone(dragEl);\n\t\t\tcloneEl.removeAttribute(\"id\");\n\t\t\tcloneEl.draggable = false;\n\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\tthis._hideClone();\n\n\t\t\ttoggleClass(cloneEl, this.options.chosenClass, false);\n\t\t\tSortable.clone = cloneEl;\n\t\t}\n\n\n\t\t// #1143: IFrame support workaround\n\t\t_this.cloneId = _nextTick(function() {\n\t\t\tpluginEvent('clone', _this);\n\t\t\tif (Sortable.eventCanceled) return;\n\n\t\t\tif (!_this.options.removeCloneOnHide) {\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t}\n\t\t\t_this._hideClone();\n\n\t\t\t_dispatchEvent({\n\t\t\t\tsortable: _this,\n\t\t\t\tname: 'clone'\n\t\t\t});\n\t\t});\n\n\n\t\t!fallback && toggleClass(dragEl, options.dragClass, true);\n\n\t\t// Set proper drop events\n\t\tif (fallback) {\n\t\t\tignoreNextClick = true;\n\t\t\t_this._loopId = setInterval(_this._emulateDragOver, 50);\n\t\t} else {\n\t\t\t// Undo what was set in _prepareDragStart before drag started\n\t\t\toff(document, 'mouseup', _this._onDrop);\n\t\t\toff(document, 'touchend', _this._onDrop);\n\t\t\toff(document, 'touchcancel', _this._onDrop);\n\n\t\t\tif (dataTransfer) {\n\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\toptions.setData && options.setData.call(_this, dataTransfer, dragEl);\n\t\t\t}\n\n\t\t\ton(document, 'drop', _this);\n\n\t\t\t// #1276 fix:\n\t\t\tcss(dragEl, 'transform', 'translateZ(0)');\n\t\t}\n\n\t\tawaitingDragStarted = true;\n\n\t\t_this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n\t\ton(document, 'selectstart', _this);\n\n\t\tmoved = true;\n\n\t\tif (Safari) {\n\t\t\tcss(document.body, 'user-select', 'none');\n\t\t}\n\t},\n\n\n\t// Returns true - if no further action is needed (either inserted or another condition)\n\t_onDragOver: function (/**Event*/evt) {\n\t\tlet el = this.el,\n\t\t\ttarget = evt.target,\n\t\t\tdragRect,\n\t\t\ttargetRect,\n\t\t\trevert,\n\t\t\toptions = this.options,\n\t\t\tgroup = options.group,\n\t\t\tactiveSortable = Sortable.active,\n\t\t\tisOwner = (activeGroup === group),\n\t\t\tcanSort = options.sort,\n\t\t\tfromSortable = (putSortable || activeSortable),\n\t\t\tvertical,\n\t\t\t_this = this,\n\t\t\tcompletedFired = false;\n\n\t\tif (_silent) return;\n\n\t\tfunction dragOverEvent(name, extra) {\n\t\t\tpluginEvent(name, _this, {\n\t\t\t\tevt,\n\t\t\t\tisOwner,\n\t\t\t\taxis: vertical ? 'vertical' : 'horizontal',\n\t\t\t\trevert,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\tcanSort,\n\t\t\t\tfromSortable,\n\t\t\t\ttarget,\n\t\t\t\tcompleted,\n\t\t\t\tonMove(target, after) {\n\t\t\t\t\treturn onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n\t\t\t\t},\n\t\t\t\tchanged,\n\t\t\t\t...extra\n\t\t\t});\n\t\t}\n\n\t\t// Capture animation state\n\t\tfunction capture() {\n\t\t\tdragOverEvent('dragOverAnimationCapture');\n\n\t\t\t_this.captureAnimationState();\n\t\t\tif (_this !== fromSortable) {\n\t\t\t\tfromSortable.captureAnimationState();\n\t\t\t}\n\t\t}\n\n\t\t// Return invocation when dragEl is inserted (or completed)\n\t\tfunction completed(insertion) {\n\t\t\tdragOverEvent('dragOverCompleted', { insertion });\n\n\t\t\tif (insertion) {\n\t\t\t\t// Clones must be hidden before folding animation to capture dragRectAbsolute properly\n\t\t\t\tif (isOwner) {\n\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t} else {\n\t\t\t\t\tactiveSortable._showClone(_this);\n\t\t\t\t}\n\n\t\t\t\tif (_this !== fromSortable) {\n\t\t\t\t\t// Set ghost class to new sortable's ghost class\n\t\t\t\t\ttoggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n\t\t\t\t\ttoggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t}\n\n\t\t\t\tif (putSortable !== _this && _this !== Sortable.active) {\n\t\t\t\t\tputSortable = _this;\n\t\t\t\t} else if (_this === Sortable.active && putSortable) {\n\t\t\t\t\tputSortable = null;\n\t\t\t\t}\n\n\t\t\t\t// Animation\n\t\t\t\tif (fromSortable === _this) {\n\t\t\t\t\t_this._ignoreWhileAnimating = target;\n\t\t\t\t}\n\t\t\t\t_this.animateAll(function() {\n\t\t\t\t\tdragOverEvent('dragOverAnimationComplete');\n\t\t\t\t\t_this._ignoreWhileAnimating = null;\n\t\t\t\t});\n\t\t\t\tif (_this !== fromSortable) {\n\t\t\t\t\tfromSortable.animateAll();\n\t\t\t\t\tfromSortable._ignoreWhileAnimating = null;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t// Null lastTarget if it is not inside a previously swapped element\n\t\t\tif ((target === dragEl && !dragEl.animated) || (target === el && !target.animated)) {\n\t\t\t\tlastTarget = null;\n\t\t\t}\n\n\t\t\t// no bubbling and not fallback\n\t\t\tif (!options.dragoverBubble && !evt.rootEl && target !== document) {\n\t\t\t\tdragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n\n\t\t\t\t// Do not detect for empty insert if already inserted\n\t\t\t\t!insertion && nearestEmptyInsertDetectEvent(evt);\n\t\t\t}\n\n\t\t\t!options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n\n\t\t\treturn (completedFired = true);\n\t\t}\n\n\t\t// Call when dragEl has been inserted\n\t\tfunction changed() {\n\t\t\tnewIndex = index(dragEl);\n\t\t\tnewDraggableIndex = index(dragEl, options.draggable);\n\t\t\t_dispatchEvent({\n\t\t\t\tsortable: _this,\n\t\t\t\tname: 'change',\n\t\t\t\ttoEl: el,\n\t\t\t\tnewIndex,\n\t\t\t\tnewDraggableIndex,\n\t\t\t\toriginalEvent: evt\n\t\t\t});\n\t\t}\n\n\n\t\tif (evt.preventDefault !== void 0) {\n\t\t\tevt.cancelable && evt.preventDefault();\n\t\t}\n\n\n\t\ttarget = closest(target, options.draggable, el, true);\n\n\t\tdragOverEvent('dragOver');\n\t\tif (Sortable.eventCanceled) return completedFired;\n\n\t\tif (\n\t\t\tdragEl.contains(evt.target) ||\n\t\t\ttarget.animated && target.animatingX && target.animatingY ||\n\t\t\t_this._ignoreWhileAnimating === target\n\t\t) {\n\t\t\treturn completed(false);\n\t\t}\n\n\t\tignoreNextClick = false;\n\n\t\tif (activeSortable && !options.disabled &&\n\t\t\t(isOwner\n\t\t\t\t? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n\t\t\t\t: (\n\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t(\n\t\t\t\t\t\t(this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\t\t\tvertical = this._getDirection(evt, target) === 'vertical';\n\n\t\t\tdragRect = getRect(dragEl);\n\n\t\t\tdragOverEvent('dragOverValid');\n\t\t\tif (Sortable.eventCanceled) return completedFired;\n\n\t\t\tif (revert) {\n\t\t\t\tparentEl = rootEl; // actualization\n\t\t\t\tcapture();\n\n\t\t\t\tthis._hideClone();\n\n\t\t\t\tdragOverEvent('revert');\n\n\t\t\t\tif (!Sortable.eventCanceled) {\n\t\t\t\t\tif (nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, nextEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn completed(true);\n\t\t\t}\n\n\t\t\tlet elLastChild = lastChild(el, options.draggable);\n\n\t\t\tif (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n\t\t\t\t// Insert to end of list\n\n\t\t\t\t// If already at end of list: Do not insert\n\t\t\t\tif (elLastChild === dragEl) {\n\t\t\t\t\treturn completed(false);\n\t\t\t\t}\n\n\t\t\t\t// if there is a last element, it is the target\n\t\t\t\tif (elLastChild && el === evt.target) {\n\t\t\t\t\ttarget = elLastChild;\n\t\t\t\t}\n\n\t\t\t\tif (target) {\n\t\t\t\t\ttargetRect = getRect(target);\n\t\t\t\t}\n\n\t\t\t\tif (onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n\t\t\t\t\tcapture();\n\t\t\t\t\tif (elLastChild && elLastChild.nextSibling) { // the last draggable element is not the last node\n\t\t\t\t\t\tel.insertBefore(dragEl, elLastChild.nextSibling);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t}\n\t\t\t\t\tparentEl = el; // actualization\n\n\t\t\t\t\tchanged();\n\t\t\t\t\treturn completed(true);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n\t\t\t\t// Insert to start of list\n\t\t\t\tlet firstChild = getChild(el, 0, options, true);\n\t\t\t\tif (firstChild === dragEl) {\n\t\t\t\t\treturn completed(false);\n\t\t\t\t}\n\t\t\t\ttarget = firstChild;\n\t\t\t\ttargetRect = getRect(target);\n\n\t\t\t\tif (onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n\t\t\t\t\tcapture();\n\t\t\t\t\tel.insertBefore(dragEl, firstChild);\n\t\t\t\t\tparentEl = el; // actualization\n\n\t\t\t\t\tchanged();\n\t\t\t\t\treturn completed(true);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (target.parentNode === el) {\n\t\t\t\ttargetRect = getRect(target);\n\t\t\t\tlet direction = 0,\n\t\t\t\t\ttargetBeforeFirstSwap,\n\t\t\t\t\tdifferentLevel = dragEl.parentNode !== el,\n\t\t\t\t\tdifferentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n\t\t\t\t\tside1 = vertical ? 'top' : 'left',\n\t\t\t\t\tscrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n\t\t\t\t\tscrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n\n\t\t\t\tif (lastTarget !== target) {\n\t\t\t\t\ttargetBeforeFirstSwap = targetRect[side1];\n\t\t\t\t\tpastFirstInvertThresh = false;\n\t\t\t\t\tisCircumstantialInvert = (!differentRowCol && options.invertSwap) || differentLevel;\n\t\t\t\t}\n\n\t\t\t\tdirection = _getSwapDirection(\n\t\t\t\t\tevt, target, targetRect, vertical,\n\t\t\t\t\tdifferentRowCol ? 1 : options.swapThreshold,\n\t\t\t\t\toptions.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold,\n\t\t\t\t\tisCircumstantialInvert,\n\t\t\t\t\tlastTarget === target\n\t\t\t\t);\n\n\t\t\t\tlet sibling;\n\n\t\t\t\tif (direction !== 0) {\n\t\t\t\t\t// Check if target is beside dragEl in respective direction (ignoring hidden elements)\n\t\t\t\t\tlet dragIndex = index(dragEl);\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\tdragIndex -= direction;\n\t\t\t\t\t\tsibling = parentEl.children[dragIndex];\n\t\t\t\t\t} while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n\t\t\t\t}\n\t\t\t\t// If dragEl is already beside target: Do not insert\n\t\t\t\tif (\n\t\t\t\t\tdirection === 0 ||\n\t\t\t\t\tsibling === target\n\t\t\t\t) {\n\t\t\t\t\treturn completed(false);\n\t\t\t\t}\n\n\t\t\t\tlastTarget = target;\n\n\t\t\t\tlastDirection = direction;\n\n\t\t\t\tlet nextSibling = target.nextElementSibling,\n\t\t\t\t\tafter = false;\n\n\t\t\t\tafter = direction === 1;\n\n\t\t\t\tlet moveVector = onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_silent = true;\n\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\tcapture();\n\n\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Undo chrome's scroll adjustment (has no effect on other browsers)\n\t\t\t\t\tif (scrolledPastTop) {\n\t\t\t\t\t\tscrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n\t\t\t\t\t}\n\n\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t// must be done before animation\n\t\t\t\t\tif (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n\t\t\t\t\t\ttargetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n\t\t\t\t\t}\n\t\t\t\t\tchanged();\n\n\t\t\t\t\treturn completed(true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (el.contains(dragEl)) {\n\t\t\t\treturn completed(false);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_ignoreWhileAnimating: null,\n\n\t_offMoveEvents: function() {\n\t\toff(document, 'mousemove', this._onTouchMove);\n\t\toff(document, 'touchmove', this._onTouchMove);\n\t\toff(document, 'pointermove', this._onTouchMove);\n\t\toff(document, 'dragover', nearestEmptyInsertDetectEvent);\n\t\toff(document, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\toff(document, 'touchmove', nearestEmptyInsertDetectEvent);\n\t},\n\n\t_offUpEvents: function () {\n\t\tlet ownerDocument = this.el.ownerDocument;\n\n\t\toff(ownerDocument, 'mouseup', this._onDrop);\n\t\toff(ownerDocument, 'touchend', this._onDrop);\n\t\toff(ownerDocument, 'pointerup', this._onDrop);\n\t\toff(ownerDocument, 'touchcancel', this._onDrop);\n\t\toff(document, 'selectstart', this);\n\t},\n\n\t_onDrop: function (/**Event*/evt) {\n\t\tlet el = this.el,\n\t\t\toptions = this.options;\n\n\t\t// Get the index of the dragged element within its parent\n\t\tnewIndex = index(dragEl);\n\t\tnewDraggableIndex = index(dragEl, options.draggable);\n\n\t\tpluginEvent('drop', this, {\n\t\t\tevt\n\t\t});\n\n\t\tparentEl = dragEl && dragEl.parentNode;\n\n\t\t// Get again after plugin event\n\t\tnewIndex = index(dragEl);\n\t\tnewDraggableIndex = index(dragEl, options.draggable);\n\n\t\tif (Sortable.eventCanceled) {\n\t\t\tthis._nulling();\n\t\t\treturn;\n\t\t}\n\n\t\tawaitingDragStarted = false;\n\t\tisCircumstantialInvert = false;\n\t\tpastFirstInvertThresh = false;\n\n\t\tclearInterval(this._loopId);\n\n\t\tclearTimeout(this._dragStartTimer);\n\n\t\t_cancelNextTick(this.cloneId);\n\t\t_cancelNextTick(this._dragStartId);\n\n\t\t// Unbind events\n\t\tif (this.nativeDraggable) {\n\t\t\toff(document, 'drop', this);\n\t\t\toff(el, 'dragstart', this._onDragStart);\n\t\t}\n\t\tthis._offMoveEvents();\n\t\tthis._offUpEvents();\n\n\n\t\tif (Safari) {\n\t\t\tcss(document.body, 'user-select', '');\n\t\t}\n\n\t\tcss(dragEl, 'transform', '');\n\n\t\tif (evt) {\n\t\t\tif (moved) {\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\n\t\t\t\t// Remove clone(s)\n\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t}\n\n\t\t\tif (dragEl) {\n\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\toff(dragEl, 'dragend', this);\n\t\t\t\t}\n\n\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t// Remove classes\n\t\t\t\t// ghostClass is added in dragStarted\n\t\t\t\tif (moved && !awaitingDragStarted) {\n\t\t\t\t\ttoggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n\t\t\t\t}\n\t\t\t\ttoggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t// Drag stop event\n\t\t\t\t_dispatchEvent({\n\t\t\t\t\tsortable: this,\n\t\t\t\t\tname: 'unchoose',\n\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\tnewIndex: null,\n\t\t\t\t\tnewDraggableIndex: null,\n\t\t\t\t\toriginalEvent: evt\n\t\t\t\t});\n\n\n\t\t\t\tif (rootEl !== parentEl) {\n\n\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\t\trootEl: parentEl,\n\t\t\t\t\t\t\tname: 'add',\n\t\t\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\t\t\tfromEl: rootEl,\n\t\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\t\tsortable: this,\n\t\t\t\t\t\t\tname: 'remove',\n\t\t\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\t\trootEl: parentEl,\n\t\t\t\t\t\t\tname: 'sort',\n\t\t\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\t\t\tfromEl: rootEl,\n\t\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\t\tsortable: this,\n\t\t\t\t\t\t\tname: 'sort',\n\t\t\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tputSortable && putSortable.save();\n\t\t\t\t} else {\n\t\t\t\t\tif (newIndex !== oldIndex) {\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\t\t\tsortable: this,\n\t\t\t\t\t\t\t\tname: 'update',\n\t\t\t\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\t\t\tsortable: this,\n\t\t\t\t\t\t\t\tname: 'sort',\n\t\t\t\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\tnewDraggableIndex = oldDraggableIndex;\n\t\t\t\t\t}\n\n\t\t\t\t\t_dispatchEvent({\n\t\t\t\t\t\tsortable: this,\n\t\t\t\t\t\tname: 'end',\n\t\t\t\t\t\ttoEl: parentEl,\n\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save sorting\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tthis._nulling();\n\t},\n\n\t_nulling: function() {\n\t\tpluginEvent('nulling', this);\n\n\t\trootEl =\n\t\tdragEl =\n\t\tparentEl =\n\t\tghostEl =\n\t\tnextEl =\n\t\tcloneEl =\n\t\tlastDownEl =\n\t\tcloneHidden =\n\n\t\ttapEvt =\n\t\ttouchEvt =\n\n\t\tmoved =\n\t\tnewIndex =\n\t\tnewDraggableIndex =\n\t\toldIndex =\n\t\toldDraggableIndex =\n\n\t\tlastTarget =\n\t\tlastDirection =\n\n\t\tputSortable =\n\t\tactiveGroup =\n\t\tSortable.dragged =\n\t\tSortable.ghost =\n\t\tSortable.clone =\n\t\tSortable.active = null;\n\n\t\tsavedInputChecked.forEach(function (el) {\n\t\t\tel.checked = true;\n\t\t});\n\n\t\tsavedInputChecked.length =\n\t\tlastDx =\n\t\tlastDy = 0;\n\t},\n\n\thandleEvent: function (/**Event*/evt) {\n\t\tswitch (evt.type) {\n\t\t\tcase 'drop':\n\t\t\tcase 'dragend':\n\t\t\t\tthis._onDrop(evt);\n\t\t\t\tbreak;\n\n\t\t\tcase 'dragenter':\n\t\t\tcase 'dragover':\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'selectstart':\n\t\t\t\tevt.preventDefault();\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\n\t/**\n\t * Serializes the item into an array of string.\n\t * @returns {String[]}\n\t */\n\ttoArray: function () {\n\t\tlet order = [],\n\t\t\tel,\n\t\t\tchildren = this.el.children,\n\t\t\ti = 0,\n\t\t\tn = children.length,\n\t\t\toptions = this.options;\n\n\t\tfor (; i < n; i++) {\n\t\t\tel = children[i];\n\t\t\tif (closest(el, options.draggable, this.el, false)) {\n\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t}\n\t\t}\n\n\t\treturn order;\n\t},\n\n\n\t/**\n\t * Sorts the elements according to the array.\n\t * @param  {String[]}  order  order of the items\n\t */\n\tsort: function (order, useAnimation) {\n\t\tlet items = {}, rootEl = this.el;\n\n\t\tthis.toArray().forEach(function (id, i) {\n\t\t\tlet el = rootEl.children[i];\n\n\t\t\tif (closest(el, this.options.draggable, rootEl, false)) {\n\t\t\t\titems[id] = el;\n\t\t\t}\n\t\t}, this);\n\n\t\tuseAnimation && this.captureAnimationState();\n\t\torder.forEach(function (id) {\n\t\t\tif (items[id]) {\n\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t}\n\t\t});\n\t\tuseAnimation && this.animateAll();\n\t},\n\n\n\t/**\n\t * Save the current sorting\n\t */\n\tsave: function () {\n\t\tlet store = this.options.store;\n\t\tstore && store.set && store.set(this);\n\t},\n\n\n\t/**\n\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t * @param   {HTMLElement}  el\n\t * @param   {String}       [selector]  default: `options.draggable`\n\t * @returns {HTMLElement|null}\n\t */\n\tclosest: function (el, selector) {\n\t\treturn closest(el, selector || this.options.draggable, this.el, false);\n\t},\n\n\n\t/**\n\t * Set/get option\n\t * @param   {string} name\n\t * @param   {*}      [value]\n\t * @returns {*}\n\t */\n\toption: function (name, value) {\n\t\tlet options = this.options;\n\n\t\tif (value === void 0) {\n\t\t\treturn options[name];\n\t\t} else {\n\t\t\tlet modifiedValue = PluginManager.modifyOption(this, name, value);\n\t\t\tif (typeof modifiedValue !== 'undefined') {\n\t\t\t\toptions[name] = modifiedValue;\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\t\t\t}\n\n\t\t\tif (name === 'group') {\n\t\t\t\t_prepareGroup(options);\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/**\n\t * Destroy\n\t */\n\tdestroy: function () {\n\t\tpluginEvent('destroy', this);\n\t\tlet el = this.el;\n\n\t\tel[expando] = null;\n\n\t\toff(el, 'mousedown', this._onTapStart);\n\t\toff(el, 'touchstart', this._onTapStart);\n\t\toff(el, 'pointerdown', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\toff(el, 'dragover', this);\n\t\t\toff(el, 'dragenter', this);\n\t\t}\n\t\t// Remove draggable attributes\n\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\tel.removeAttribute('draggable');\n\t\t});\n\n\t\tthis._onDrop();\n\n\t\tthis._disableDelayedDragEvents();\n\n\t\tsortables.splice(sortables.indexOf(this.el), 1);\n\n\t\tthis.el = el = null;\n\t},\n\n\t_hideClone: function() {\n\t\tif (!cloneHidden) {\n\t\t\tpluginEvent('hideClone', this);\n\t\t\tif (Sortable.eventCanceled) return;\n\n\n\t\t\tcss(cloneEl, 'display', 'none');\n\t\t\tif (this.options.removeCloneOnHide && cloneEl.parentNode) {\n\t\t\t\tcloneEl.parentNode.removeChild(cloneEl);\n\t\t\t}\n\t\t\tcloneHidden = true;\n\t\t}\n\t},\n\n\t_showClone: function(putSortable) {\n\t\tif (putSortable.lastPutMode !== 'clone') {\n\t\t\tthis._hideClone();\n\t\t\treturn;\n\t\t}\n\n\n\t\tif (cloneHidden) {\n\t\t\tpluginEvent('showClone', this);\n\t\t\tif (Sortable.eventCanceled) return;\n\n\t\t\t// show clone at dragEl or original position\n\t\t\tif (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t} else if (nextEl) {\n\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t} else {\n\t\t\t\trootEl.appendChild(cloneEl);\n\t\t\t}\n\n\t\t\tif (this.options.group.revertClone) {\n\t\t\t\tthis.animate(dragEl, cloneEl);\n\t\t\t}\n\n\t\t\tcss(cloneEl, 'display', '');\n\t\t\tcloneHidden = false;\n\t\t}\n\t}\n};\n\nfunction _globalDragOver(/**Event*/evt) {\n\tif (evt.dataTransfer) {\n\t\tevt.dataTransfer.dropEffect = 'move';\n\t}\n\tevt.cancelable && evt.preventDefault();\n}\n\nfunction onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n\tlet evt,\n\t\tsortable = fromEl[expando],\n\t\tonMoveFn = sortable.options.onMove,\n\t\tretVal;\n\t// Support for new CustomEvent feature\n\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\tevt = new CustomEvent('move', {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true\n\t\t});\n\t} else {\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\t}\n\n\tevt.to = toEl;\n\tevt.from = fromEl;\n\tevt.dragged = dragEl;\n\tevt.draggedRect = dragRect;\n\tevt.related = targetEl || toEl;\n\tevt.relatedRect = targetRect || getRect(toEl);\n\tevt.willInsertAfter = willInsertAfter;\n\n\tevt.originalEvent = originalEvent;\n\n\tfromEl.dispatchEvent(evt);\n\n\tif (onMoveFn) {\n\t\tretVal = onMoveFn.call(sortable, evt, originalEvent);\n\t}\n\n\treturn retVal;\n}\n\nfunction _disableDraggable(el) {\n\tel.draggable = false;\n}\n\nfunction _unsilent() {\n\t_silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n\tlet rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n\tconst spacer = 10;\n\n\treturn vertical ?\n\t\t((evt.clientX < rect.left - spacer) || (evt.clientY < rect.top && evt.clientX < rect.right)) :\n\t\t((evt.clientY < rect.top - spacer) || (evt.clientY < rect.bottom && evt.clientX < rect.left))\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n\tlet rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n\tconst spacer = 10;\n\n\treturn vertical ?\n\t\t(evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left) :\n\t\t(evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer);\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n\tlet mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n\t\ttargetLength = vertical ? targetRect.height : targetRect.width,\n\t\ttargetS1 = vertical ? targetRect.top : targetRect.left,\n\t\ttargetS2 = vertical ? targetRect.bottom : targetRect.right,\n\t\tinvert = false;\n\n\n\tif (!invertSwap) {\n\t\t// Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n\t\tif (isLastTarget && targetMoveDistance < targetLength * swapThreshold) { // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n\t\t\t// check if past first invert threshold on side opposite of lastDirection\n\t\t\tif (!pastFirstInvertThresh &&\n\t\t\t\t(lastDirection === 1 ?\n\t\t\t\t\t(\n\t\t\t\t\t\tmouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t) :\n\t\t\t\t\t(\n\t\t\t\t\t\tmouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t\t{\n\t\t\t\t// past first invert threshold, do not restrict inverted threshold to dragEl shadow\n\t\t\t\tpastFirstInvertThresh = true;\n\t\t\t}\n\n\t\t\tif (!pastFirstInvertThresh) {\n\t\t\t\t// dragEl shadow (target move distance shadow)\n\t\t\t\tif (\n\t\t\t\t\tlastDirection === 1 ?\n\t\t\t\t\t(\n\t\t\t\t\t\tmouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n\t\t\t\t\t) :\n\t\t\t\t\t(\n\t\t\t\t\t\tmouseOnAxis > targetS2 - targetMoveDistance\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\treturn -lastDirection;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinvert = true;\n\t\t\t}\n\t\t} else {\n\t\t\t// Regular\n\t\t\tif (\n\t\t\t\tmouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold) / 2) &&\n\t\t\t\tmouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold) / 2)\n\t\t\t) {\n\t\t\t\treturn _getInsertDirection(target);\n\t\t\t}\n\t\t}\n\t}\n\n\tinvert = invert || invertSwap;\n\n\tif (invert) {\n\t\t// Invert of regular\n\t\tif (\n\t\t\tmouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold / 2) ||\n\t\t\tmouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold / 2)\n\t\t)\n\t\t{\n\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? 1 : -1);\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\nfunction _getInsertDirection(target) {\n\tif (index(dragEl) < index(target)) {\n\t\treturn 1;\n\t} else {\n\t\treturn -1;\n\t}\n}\n\n\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\nfunction _generateId(el) {\n\tlet str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\ti = str.length,\n\t\tsum = 0;\n\n\twhile (i--) {\n\t\tsum += str.charCodeAt(i);\n\t}\n\n\treturn sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n\tsavedInputChecked.length = 0;\n\n\tlet inputs = root.getElementsByTagName('input');\n\tlet idx = inputs.length;\n\n\twhile (idx--) {\n\t\tlet el = inputs[idx];\n\t\tel.checked && savedInputChecked.push(el);\n\t}\n}\n\nfunction _nextTick(fn) {\n\treturn setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n\treturn clearTimeout(id);\n}\n\n// Fixed #973:\nif (documentExists) {\n\ton(document, 'touchmove', function(evt) {\n\t\tif ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n}\n\n\n// Export utils\nSortable.utils = {\n\ton: on,\n\toff: off,\n\tcss: css,\n\tfind: find,\n\tis: function (el, selector) {\n\t\treturn !!closest(el, selector, el, false);\n\t},\n\textend: extend,\n\tthrottle: throttle,\n\tclosest: closest,\n\ttoggleClass: toggleClass,\n\tclone: clone,\n\tindex: index,\n\tnextTick: _nextTick,\n\tcancelNextTick: _cancelNextTick,\n\tdetectDirection: _detectDirection,\n\tgetChild: getChild\n};\n\n\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\nSortable.get = function(element) {\n\treturn element[expando];\n};\n\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\nSortable.mount = function(...plugins) {\n\tif (plugins[0].constructor === Array) plugins = plugins[0];\n\n\tplugins.forEach((plugin) => {\n\t\tif (!plugin.prototype || !plugin.prototype.constructor) {\n\t\t\tthrow `Sortable: Mounted plugin must be a constructor function, not ${ {}.toString.call(plugin) }`;\n\t\t}\n\t\tif (plugin.utils) Sortable.utils = { ...Sortable.utils, ...plugin.utils };\n\n\t\tPluginManager.mount(plugin);\n\t});\n};\n\n\n\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\nSortable.create = function (el, options) {\n\treturn new Sortable(el, options);\n};\n\n\n// Export\nSortable.version = version;\n\n\nexport default Sortable;\n","import {\n\ton,\n\toff,\n\tcss,\n\tthrottle,\n\tcancelThrottle,\n\tscrollBy,\n\tgetParentAutoScrollElement,\n\texpando,\n\tgetRect,\n\tgetWindowScrollingElement\n} from '../../src/utils.js';\n\nimport Sortable from '../../src/Sortable.js';\n\nimport { Edge, IE11OrLess, Safari } from '../../src/BrowserInfo.js';\n\nlet autoScrolls = [],\n\tscrollEl,\n\tscrollRootEl,\n\tscrolling = false,\n\tlastAutoScrollX,\n\tlastAutoScrollY,\n\ttouchEvt,\n\tpointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n\n\tfunction AutoScroll() {\n\t\tthis.defaults = {\n\t\t\tscroll: true,\n\t\t\tforceAutoScrollFallback: false,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tbubbleScroll: true\n\t\t};\n\n\t\t// Bind all private methods\n\t\tfor (let fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\t}\n\n\tAutoScroll.prototype = {\n\t\tdragStarted({ originalEvent }) {\n\t\t\tif (this.sortable.nativeDraggable) {\n\t\t\t\ton(document, 'dragover', this._handleAutoScroll);\n\t\t\t} else {\n\t\t\t\tif (this.options.supportPointer) {\n\t\t\t\t\ton(document, 'pointermove', this._handleFallbackAutoScroll);\n\t\t\t\t} else if (originalEvent.touches) {\n\t\t\t\t\ton(document, 'touchmove', this._handleFallbackAutoScroll);\n\t\t\t\t} else {\n\t\t\t\t\ton(document, 'mousemove', this._handleFallbackAutoScroll);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdragOverCompleted({ originalEvent }) {\n\t\t\t// For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n\t\t\tif (!this.options.dragOverBubble && !originalEvent.rootEl) {\n\t\t\t\tthis._handleAutoScroll(originalEvent);\n\t\t\t}\n\t\t},\n\n\t\tdrop() {\n\t\t\tif (this.sortable.nativeDraggable) {\n\t\t\t\toff(document, 'dragover', this._handleAutoScroll);\n\t\t\t} else {\n\t\t\t\toff(document, 'pointermove', this._handleFallbackAutoScroll);\n\t\t\t\toff(document, 'touchmove', this._handleFallbackAutoScroll);\n\t\t\t\toff(document, 'mousemove', this._handleFallbackAutoScroll);\n\t\t\t}\n\n\t\t\tclearPointerElemChangedInterval();\n\t\t\tclearAutoScrolls();\n\t\t\tcancelThrottle();\n\t\t},\n\n\t\tnulling() {\n\t\t\ttouchEvt =\n\t\t\tscrollRootEl =\n\t\t\tscrollEl =\n\t\t\tscrolling =\n\t\t\tpointerElemChangedInterval =\n\t\t\tlastAutoScrollX =\n\t\t\tlastAutoScrollY = null;\n\n\t\t\tautoScrolls.length = 0;\n\t\t},\n\n\t\t_handleFallbackAutoScroll(evt) {\n\t\t\tthis._handleAutoScroll(evt, true);\n\t\t},\n\n\t\t_handleAutoScroll(evt, fallback) {\n\t\t\tconst x = (evt.touches ? evt.touches[0] : evt).clientX,\n\t\t\t\ty = (evt.touches ? evt.touches[0] : evt).clientY,\n\n\t\t\t\telem = document.elementFromPoint(x, y);\n\n\t\t\ttouchEvt = evt;\n\n\t\t\t// IE does not seem to have native autoscroll,\n\t\t\t// Edge's autoscroll seems too conditional,\n\t\t\t// MACOS Safari does not have autoscroll,\n\t\t\t// Firefox and Chrome are good\n\t\t\tif (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n\t\t\t\tautoScroll(evt, this.options, elem, fallback);\n\n\t\t\t\t// Listener for pointer element change\n\t\t\t\tlet ogElemScroller = getParentAutoScrollElement(elem, true);\n\t\t\t\tif (\n\t\t\t\t\tscrolling &&\n\t\t\t\t\t(\n\t\t\t\t\t\t!pointerElemChangedInterval ||\n\t\t\t\t\t\tx !== lastAutoScrollX ||\n\t\t\t\t\t\ty !== lastAutoScrollY\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tpointerElemChangedInterval && clearPointerElemChangedInterval();\n\t\t\t\t\t// Detect for pointer elem change, emulating native DnD behaviour\n\t\t\t\t\tpointerElemChangedInterval = setInterval(() => {\n\t\t\t\t\t\tlet newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\t\t\t\t\t\tif (newElem !== ogElemScroller) {\n\t\t\t\t\t\t\togElemScroller = newElem;\n\t\t\t\t\t\t\tclearAutoScrolls();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tautoScroll(evt, this.options, newElem, fallback);\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlastAutoScrollX = x;\n\t\t\t\t\tlastAutoScrollY = y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n\t\t\t\tif (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n\t\t\t\t\tclearAutoScrolls();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tautoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn Object.assign(AutoScroll, {\n\t\tpluginName: 'scroll',\n\t\tinitializeByDefault: true\n\t});\n}\n\nfunction clearAutoScrolls() {\n\tautoScrolls.forEach(function(autoScroll) {\n\t\tclearInterval(autoScroll.pid);\n\t});\n\tautoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n\tclearInterval(pointerElemChangedInterval);\n}\n\n\nconst autoScroll = throttle(function(evt, options, rootEl, isFallback) {\n\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\tif (!options.scroll) return;\n\tconst x = (evt.touches ? evt.touches[0] : evt).clientX,\n\t\ty = (evt.touches ? evt.touches[0] : evt).clientY,\n\t\tsens = options.scrollSensitivity,\n\t\tspeed = options.scrollSpeed,\n\t\twinScroller = getWindowScrollingElement();\n\n\tlet scrollThisInstance = false,\n\t\tscrollCustomFn;\n\n\t// New scroll root, set scrollEl\n\tif (scrollRootEl !== rootEl) {\n\t\tscrollRootEl = rootEl;\n\n\t\tclearAutoScrolls();\n\n\t\tscrollEl = options.scroll;\n\t\tscrollCustomFn = options.scrollFn;\n\n\t\tif (scrollEl === true) {\n\t\t\tscrollEl = getParentAutoScrollElement(rootEl, true);\n\t\t}\n\t}\n\n\n\tlet layersOut = 0;\n\tlet currentParent = scrollEl;\n\tdo {\n\t\tlet\tel = currentParent,\n\t\t\trect = getRect(el),\n\n\t\t\ttop = rect.top,\n\t\t\tbottom = rect.bottom,\n\t\t\tleft = rect.left,\n\t\t\tright = rect.right,\n\n\t\t\twidth = rect.width,\n\t\t\theight = rect.height,\n\n\t\t\tcanScrollX,\n\t\t\tcanScrollY,\n\n\t\t\tscrollWidth = el.scrollWidth,\n\t\t\tscrollHeight = el.scrollHeight,\n\n\t\t\telCSS = css(el),\n\n\t\t\tscrollPosX = el.scrollLeft,\n\t\t\tscrollPosY = el.scrollTop;\n\n\n\t\tif (el === winScroller) {\n\t\t\tcanScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n\t\t\tcanScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n\t\t} else {\n\t\t\tcanScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n\t\t\tcanScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n\t\t}\n\n\t\tlet vx = canScrollX && (Math.abs(right - x) <= sens && (scrollPosX + width) < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n\t\tlet vy = canScrollY && (Math.abs(bottom - y) <= sens && (scrollPosY + height) < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n\n\t\tif (!autoScrolls[layersOut]) {\n\t\t\tfor (let i = 0; i <= layersOut; i++) {\n\t\t\t\tif (!autoScrolls[i]) {\n\t\t\t\t\tautoScrolls[i] = {};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n\t\t\tautoScrolls[layersOut].el = el;\n\t\t\tautoScrolls[layersOut].vx = vx;\n\t\t\tautoScrolls[layersOut].vy = vy;\n\n\t\t\tclearInterval(autoScrolls[layersOut].pid);\n\n\t\t\tif (vx != 0 || vy != 0) {\n\t\t\t\tscrollThisInstance = true;\n\t\t\t\t/* jshint loopfunc:true */\n\t\t\t\tautoScrolls[layersOut].pid = setInterval((function () {\n\t\t\t\t\t// emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n\t\t\t\t\tif (isFallback && this.layer === 0) {\n\t\t\t\t\t\tSortable.active._onTouchMove(touchEvt); // To move ghost if it is positioned absolutely\n\t\t\t\t\t}\n\t\t\t\t\tlet scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n\t\t\t\t\tlet scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n\t\t\t\t\tif (typeof(scrollCustomFn) === 'function') {\n\t\t\t\t\t\tif (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt, autoScrolls[this.layer].el) !== 'continue') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tscrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n\t\t\t\t}).bind({layer: layersOut}), 24);\n\t\t\t}\n\t\t}\n\t\tlayersOut++;\n\t} while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\tscrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nexport default AutoScrollPlugin;\n","import { getChild } from '../../src/utils.js';\n\n\nconst drop = function({\n\toriginalEvent,\n\tputSortable,\n\tdragEl,\n\tactiveSortable,\n\tdispatchSortableEvent,\n\thideGhostForTarget,\n\tunhideGhostForTarget\n}) {\n\tif (!originalEvent) return;\n\tlet toSortable = putSortable || activeSortable;\n\thideGhostForTarget();\n\tlet touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n\tlet target = document.elementFromPoint(touch.clientX, touch.clientY);\n\tunhideGhostForTarget();\n\tif (toSortable && !toSortable.el.contains(target)) {\n\t\tdispatchSortableEvent('spill');\n\t\tthis.onSpill({ dragEl, putSortable });\n\t}\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n\tstartIndex: null,\n\tdragStart({ oldDraggableIndex }) {\n\t\tthis.startIndex = oldDraggableIndex;\n\t},\n\tonSpill({ dragEl, putSortable }) {\n\t\tthis.sortable.captureAnimationState();\n\t\tif (putSortable) {\n\t\t\tputSortable.captureAnimationState();\n\t\t}\n\t\tlet nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n\t\tif (nextSibling) {\n\t\t\tthis.sortable.el.insertBefore(dragEl, nextSibling);\n\t\t} else {\n\t\t\tthis.sortable.el.appendChild(dragEl);\n\t\t}\n\t\tthis.sortable.animateAll();\n\t\tif (putSortable) {\n\t\t\tputSortable.animateAll();\n\t\t}\n\t},\n\tdrop\n};\n\nObject.assign(Revert, {\n\tpluginName: 'revertOnSpill'\n});\n\n\nfunction Remove() {}\n\nRemove.prototype = {\n\tonSpill({ dragEl, putSortable }) {\n\t\tconst parentSortable = putSortable || this.sortable;\n\t\tparentSortable.captureAnimationState();\n\t\tdragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n\t\tparentSortable.animateAll();\n\t},\n\tdrop\n};\n\nObject.assign(Remove, {\n\tpluginName: 'removeOnSpill'\n});\n\n\nexport default [Remove, Revert];\n\nexport {\n\tRemove as RemoveOnSpill,\n\tRevert as RevertOnSpill\n};\n","import {\n\ttoggleClass,\n\tindex\n} from '../../src/utils.js';\n\nlet lastSwapEl;\n\n\nfunction SwapPlugin() {\n\tfunction Swap() {\n\t\tthis.defaults = {\n\t\t\tswapClass: 'sortable-swap-highlight'\n\t\t};\n\t}\n\n\tSwap.prototype = {\n\t\tdragStart({ dragEl }) {\n\t\t\tlastSwapEl = dragEl;\n\t\t},\n\t\tdragOverValid({ completed, target, onMove, activeSortable, changed, cancel }) {\n\t\t\tif (!activeSortable.options.swap) return;\n\t\t\tlet el = this.sortable.el,\n\t\t\t\toptions = this.options;\n\t\t\tif (target && target !== el) {\n\t\t\t\tlet prevSwapEl = lastSwapEl;\n\t\t\t\tif (onMove(target) !== false) {\n\t\t\t\t\ttoggleClass(target, options.swapClass, true);\n\t\t\t\t\tlastSwapEl = target;\n\t\t\t\t} else {\n\t\t\t\t\tlastSwapEl = null;\n\t\t\t\t}\n\n\t\t\t\tif (prevSwapEl && prevSwapEl !== lastSwapEl) {\n\t\t\t\t\ttoggleClass(prevSwapEl, options.swapClass, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchanged();\n\n\t\t\tcompleted(true);\n\t\t\tcancel();\n\t\t},\n\t\tdrop({ activeSortable, putSortable, dragEl }) {\n\t\t\tlet toSortable = (putSortable || this.sortable);\n\t\t\tlet options = this.options;\n\t\t\tlastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\t\t\tif (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n\t\t\t\tif (dragEl !== lastSwapEl) {\n\t\t\t\t\ttoSortable.captureAnimationState();\n\t\t\t\t\tif (toSortable !== activeSortable) activeSortable.captureAnimationState();\n\t\t\t\t\tswapNodes(dragEl, lastSwapEl);\n\n\t\t\t\t\ttoSortable.animateAll();\n\t\t\t\t\tif (toSortable !== activeSortable) activeSortable.animateAll();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tnulling() {\n\t\t\tlastSwapEl = null;\n\t\t}\n\t};\n\n\treturn Object.assign(Swap, {\n\t\tpluginName: 'swap',\n\t\teventProperties() {\n\t\t\treturn {\n\t\t\t\tswapItem: lastSwapEl\n\t\t\t};\n\t\t}\n\t});\n}\n\n\nfunction swapNodes(n1, n2) {\n\tlet p1 = n1.parentNode,\n\t\tp2 = n2.parentNode,\n\t\ti1, i2;\n\n\tif (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n\n\ti1 = index(n1);\n\ti2 = index(n2);\n\n\tif (p1.isEqualNode(p2) && i1 < i2) {\n\t\ti2++;\n\t}\n\tp1.insertBefore(n2, p1.children[i1]);\n\tp2.insertBefore(n1, p2.children[i2]);\n}\n\nexport default SwapPlugin;\n","import {\n\ttoggleClass,\n\tgetRect,\n\tindex,\n\tclosest,\n\ton,\n\toff,\n\tclone,\n\tcss,\n\tsetRect,\n\tunsetRect,\n\tmatrix,\n\texpando\n} from '../../src/utils.js';\n\nimport dispatchEvent from '../../src/EventDispatcher.js';\n\nlet multiDragElements = [],\n\tmultiDragClones = [],\n\tlastMultiDragSelect, // for selection with modifier key down (SHIFT)\n\tmultiDragSortable,\n\tinitialFolding = false, // Initial multi-drag fold when drag started\n\tfolding = false, // Folding any other time\n\tdragStarted = false,\n\tdragEl,\n\tclonesFromRect,\n\tclonesHidden;\n\nfunction MultiDragPlugin() {\n\tfunction MultiDrag(sortable) {\n\t\t// Bind all private methods\n\t\tfor (let fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\tif (!sortable.options.avoidImplicitDeselect) {\n\t\t\tif (sortable.options.supportPointer) {\n\t\t\t\ton(document, 'pointerup', this._deselectMultiDrag);\n\t\t\t} else {\n\t\t\t\ton(document, 'mouseup', this._deselectMultiDrag);\n\t\t\t\ton(document, 'touchend', this._deselectMultiDrag);\n\t\t\t}\n\t\t}\n\n\t\ton(document, 'keydown', this._checkKeyDown);\n\t\ton(document, 'keyup', this._checkKeyUp);\n\n\t\tthis.defaults = {\n\t\t\tselectedClass: 'sortable-selected',\n\t\t\tmultiDragKey: null,\n\t\t\tavoidImplicitDeselect: false,\n\t\t\tsetData(dataTransfer, dragEl) {\n\t\t\t\tlet data = '';\n\t\t\t\tif (multiDragElements.length && multiDragSortable === sortable) {\n\t\t\t\t\tmultiDragElements.forEach((multiDragElement, i) => {\n\t\t\t\t\t\tdata += (!i ? '' : ', ') + multiDragElement.textContent;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdata = dragEl.textContent;\n\t\t\t\t}\n\t\t\t\tdataTransfer.setData('Text', data);\n\t\t\t}\n\t\t};\n\t}\n\n\tMultiDrag.prototype = {\n\t\tmultiDragKeyDown: false,\n\t\tisMultiDrag: false,\n\n\n\t\tdelayStartGlobal({ dragEl: dragged }) {\n\t\t\tdragEl = dragged;\n\t\t},\n\n\t\tdelayEnded() {\n\t\t\tthis.isMultiDrag = ~multiDragElements.indexOf(dragEl);\n\t\t},\n\n\t\tsetupClone({ sortable, cancel }) {\n\t\t\tif (!this.isMultiDrag) return;\n\t\t\tfor (let i = 0; i < multiDragElements.length; i++) {\n\t\t\t\tmultiDragClones.push(clone(multiDragElements[i]));\n\n\t\t\t\tmultiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n\n\t\t\t\tmultiDragClones[i].draggable = false;\n\t\t\t\tmultiDragClones[i].style['will-change'] = '';\n\n\t\t\t\ttoggleClass(multiDragClones[i], this.options.selectedClass, false);\n\t\t\t\tmultiDragElements[i] === dragEl && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n\t\t\t}\n\n\t\t\tsortable._hideClone();\n\t\t\tcancel();\n\t\t},\n\n\t\tclone({ sortable, rootEl, dispatchSortableEvent, cancel }) {\n\t\t\tif (!this.isMultiDrag) return;\n\t\t\tif (!this.options.removeCloneOnHide) {\n\t\t\t\tif (multiDragElements.length && multiDragSortable === sortable) {\n\t\t\t\t\tinsertMultiDragClones(true, rootEl);\n\t\t\t\t\tdispatchSortableEvent('clone');\n\n\t\t\t\t\tcancel();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowClone({ cloneNowShown, rootEl, cancel }) {\n\t\t\tif (!this.isMultiDrag) return;\n\t\t\tinsertMultiDragClones(false, rootEl);\n\t\t\tmultiDragClones.forEach(clone => {\n\t\t\t\tcss(clone, 'display', '');\n\t\t\t});\n\n\t\t\tcloneNowShown();\n\t\t\tclonesHidden = false;\n\t\t\tcancel();\n\t\t},\n\n\t\thideClone({ sortable, cloneNowHidden, cancel }) {\n\t\t\tif (!this.isMultiDrag) return;\n\t\t\tmultiDragClones.forEach(clone => {\n\t\t\t\tcss(clone, 'display', 'none');\n\t\t\t\tif (this.options.removeCloneOnHide && clone.parentNode) {\n\t\t\t\t\tclone.parentNode.removeChild(clone);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcloneNowHidden();\n\t\t\tclonesHidden = true;\n\t\t\tcancel();\n\t\t},\n\n\t\tdragStartGlobal({ sortable }) {\n\t\t\tif (!this.isMultiDrag && multiDragSortable) {\n\t\t\t\tmultiDragSortable.multiDrag._deselectMultiDrag();\n\t\t\t}\n\n\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\tmultiDragElement.sortableIndex = index(multiDragElement);\n\t\t\t});\n\n\t\t\t// Sort multi-drag elements\n\t\t\tmultiDragElements = multiDragElements.sort(function(a, b) {\n\t\t\t\treturn a.sortableIndex - b.sortableIndex;\n\t\t\t});\n\t\t\tdragStarted = true;\n\t\t},\n\n\t\tdragStarted({ sortable }) {\n\t\t\tif (!this.isMultiDrag) return;\n\t\t\tif (this.options.sort) {\n\t\t\t\t// Capture rects,\n\t\t\t\t// hide multi drag elements (by positioning them absolute),\n\t\t\t\t// set multi drag elements rects to dragRect,\n\t\t\t\t// show multi drag elements,\n\t\t\t\t// animate to rects,\n\t\t\t\t// unset rects & remove from DOM\n\n\t\t\t\tsortable.captureAnimationState();\n\n\t\t\t\tif (this.options.animation) {\n\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\tif (multiDragElement === dragEl) return;\n\t\t\t\t\t\tcss(multiDragElement, 'position', 'absolute');\n\t\t\t\t\t});\n\n\t\t\t\t\tlet dragRect = getRect(dragEl, false, true, true);\n\n\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\tif (multiDragElement === dragEl) return;\n\t\t\t\t\t\tsetRect(multiDragElement, dragRect);\n\t\t\t\t\t});\n\n\t\t\t\t\tfolding = true;\n\t\t\t\t\tinitialFolding = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsortable.animateAll(() => {\n\t\t\t\tfolding = false;\n\t\t\t\tinitialFolding = false;\n\n\t\t\t\tif (this.options.animation) {\n\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\tunsetRect(multiDragElement);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Remove all auxiliary multidrag items from el, if sorting enabled\n\t\t\t\tif (this.options.sort) {\n\t\t\t\t\tremoveMultiDragElements();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tdragOver({ target, completed, cancel }) {\n\t\t\tif (folding && ~multiDragElements.indexOf(target)) {\n\t\t\t\tcompleted(false);\n\t\t\t\tcancel();\n\t\t\t}\n\t\t},\n\n\t\trevert({ fromSortable, rootEl, sortable, dragRect }) {\n\t\t\tif (multiDragElements.length > 1) {\n\t\t\t\t// Setup unfold animation\n\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\tsortable.addAnimationState({\n\t\t\t\t\t\ttarget: multiDragElement,\n\t\t\t\t\t\trect: folding ? getRect(multiDragElement) : dragRect\n\t\t\t\t\t});\n\n\t\t\t\t\tunsetRect(multiDragElement);\n\n\t\t\t\t\tmultiDragElement.fromRect = dragRect;\n\n\t\t\t\t\tfromSortable.removeAnimationState(multiDragElement);\n\t\t\t\t});\n\t\t\t\tfolding = false;\n\t\t\t\tinsertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n\t\t\t}\n\t\t},\n\n\t\tdragOverCompleted({ sortable, isOwner, insertion, activeSortable, parentEl, putSortable }) {\n\t\t\tlet options = this.options;\n\t\t\tif (insertion) {\n\t\t\t\t// Clones must be hidden before folding animation to capture dragRectAbsolute properly\n\t\t\t\tif (isOwner) {\n\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t}\n\n\t\t\t\tinitialFolding = false;\n\t\t\t\t// If leaving sort:false root, or already folding - Fold to new location\n\t\t\t\tif (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n\t\t\t\t\t// Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n\t\t\t\t\tlet dragRectAbsolute = getRect(dragEl, false, true, true);\n\n\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\tif (multiDragElement === dragEl) return;\n\t\t\t\t\t\tsetRect(multiDragElement, dragRectAbsolute);\n\n\t\t\t\t\t\t// Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n\t\t\t\t\t\t// while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\t\t\t\t\t\tparentEl.appendChild(multiDragElement);\n\t\t\t\t\t});\n\n\t\t\t\t\tfolding = true;\n\t\t\t\t}\n\n\t\t\t\t// Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\t\t\t\tif (!isOwner) {\n\t\t\t\t\t// Only remove if not folding (folding will remove them anyways)\n\t\t\t\t\tif (!folding) {\n\t\t\t\t\t\tremoveMultiDragElements();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (multiDragElements.length > 1) {\n\t\t\t\t\t\tlet clonesHiddenBefore = clonesHidden;\n\t\t\t\t\t\tactiveSortable._showClone(sortable);\n\n\t\t\t\t\t\t// Unfold animation for clones if showing from hidden\n\t\t\t\t\t\tif (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n\t\t\t\t\t\t\tmultiDragClones.forEach(clone => {\n\t\t\t\t\t\t\t\tactiveSortable.addAnimationState({\n\t\t\t\t\t\t\t\t\ttarget: clone,\n\t\t\t\t\t\t\t\t\trect: clonesFromRect\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tclone.fromRect = clonesFromRect;\n\t\t\t\t\t\t\t\tclone.thisAnimationDuration = null;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(sortable);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdragOverAnimationCapture({ dragRect, isOwner, activeSortable }) {\n\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\tmultiDragElement.thisAnimationDuration = null;\n\t\t\t});\n\n\t\t\tif (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n\t\t\t\tclonesFromRect = Object.assign({}, dragRect);\n\t\t\t\tlet dragMatrix = matrix(dragEl, true);\n\t\t\t\tclonesFromRect.top -= dragMatrix.f;\n\t\t\t\tclonesFromRect.left -= dragMatrix.e;\n\t\t\t}\n\t\t},\n\n\t\tdragOverAnimationComplete() {\n\t\t\tif (folding) {\n\t\t\t\tfolding = false;\n\t\t\t\tremoveMultiDragElements();\n\t\t\t}\n\t\t},\n\n\t\tdrop({ originalEvent: evt, rootEl, parentEl, sortable, dispatchSortableEvent, oldIndex, putSortable }) {\n\t\t\tlet toSortable = (putSortable || this.sortable);\n\n\t\t\tif (!evt) return;\n\n\t\t\tlet options = this.options,\n\t\t\t\tchildren = parentEl.children;\n\n\t\t\t// Multi-drag selection\n\t\t\tif (!dragStarted) {\n\t\t\t\tif (options.multiDragKey && !this.multiDragKeyDown) {\n\t\t\t\t\tthis._deselectMultiDrag();\n\t\t\t\t}\n\t\t\t\ttoggleClass(dragEl, options.selectedClass, !~multiDragElements.indexOf(dragEl));\n\n\t\t\t\tif (!~multiDragElements.indexOf(dragEl)) {\n\t\t\t\t\tmultiDragElements.push(dragEl);\n\t\t\t\t\tdispatchEvent({\n\t\t\t\t\t\tsortable,\n\t\t\t\t\t\trootEl,\n\t\t\t\t\t\tname: 'select',\n\t\t\t\t\t\ttargetEl: dragEl,\n\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t});\n\n\t\t\t\t\t// Modifier activated, select from last to dragEl\n\t\t\t\t\tif (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n\t\t\t\t\t\tlet lastIndex = index(lastMultiDragSelect),\n\t\t\t\t\t\t\tcurrentIndex = index(dragEl);\n\n\t\t\t\t\t\tif (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n\t\t\t\t\t\t\t// Must include lastMultiDragSelect (select it), in case modified selection from no selection\n\t\t\t\t\t\t\t// (but previous selection existed)\n\t\t\t\t\t\t\tlet n, i;\n\t\t\t\t\t\t\tif (currentIndex > lastIndex) {\n\t\t\t\t\t\t\t\ti = lastIndex;\n\t\t\t\t\t\t\t\tn = currentIndex;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti = currentIndex;\n\t\t\t\t\t\t\t\tn = lastIndex + 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\t\t\t\tif (~multiDragElements.indexOf(children[i])) continue;\n\t\t\t\t\t\t\t\ttoggleClass(children[i], options.selectedClass, true);\n\t\t\t\t\t\t\t\tmultiDragElements.push(children[i]);\n\n\t\t\t\t\t\t\t\tdispatchEvent({\n\t\t\t\t\t\t\t\t\tsortable,\n\t\t\t\t\t\t\t\t\trootEl,\n\t\t\t\t\t\t\t\t\tname: 'select',\n\t\t\t\t\t\t\t\t\ttargetEl: children[i],\n\t\t\t\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlastMultiDragSelect = dragEl;\n\t\t\t\t\t}\n\n\t\t\t\t\tmultiDragSortable = toSortable;\n\t\t\t\t} else {\n\t\t\t\t\tmultiDragElements.splice(multiDragElements.indexOf(dragEl), 1);\n\t\t\t\t\tlastMultiDragSelect = null;\n\t\t\t\t\tdispatchEvent({\n\t\t\t\t\t\tsortable,\n\t\t\t\t\t\trootEl,\n\t\t\t\t\t\tname: 'deselect',\n\t\t\t\t\t\ttargetEl: dragEl,\n\t\t\t\t\t\toriginalEvent: evt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Multi-drag drop\n\t\t\tif (dragStarted && this.isMultiDrag) {\n\t\t\t\tfolding = false;\n\t\t\t\t// Do not \"unfold\" after around dragEl if reverted\n\t\t\t\tif ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n\t\t\t\t\tlet dragRect = getRect(dragEl),\n\t\t\t\t\t\tmultiDragIndex = index(dragEl, ':not(.' + this.options.selectedClass + ')');\n\n\t\t\t\t\tif (!initialFolding && options.animation) dragEl.thisAnimationDuration = null;\n\n\t\t\t\t\ttoSortable.captureAnimationState();\n\n\t\t\t\t\tif (!initialFolding) {\n\t\t\t\t\t\tif (options.animation) {\n\t\t\t\t\t\t\tdragEl.fromRect = dragRect;\n\t\t\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\t\t\tmultiDragElement.thisAnimationDuration = null;\n\t\t\t\t\t\t\t\tif (multiDragElement !== dragEl) {\n\t\t\t\t\t\t\t\t\tlet rect = folding ? getRect(multiDragElement) : dragRect;\n\t\t\t\t\t\t\t\t\tmultiDragElement.fromRect = rect;\n\n\t\t\t\t\t\t\t\t\t// Prepare unfold animation\n\t\t\t\t\t\t\t\t\ttoSortable.addAnimationState({\n\t\t\t\t\t\t\t\t\t\ttarget: multiDragElement,\n\t\t\t\t\t\t\t\t\t\trect: rect\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n\t\t\t\t\t\t// properly they must all be removed\n\t\t\t\t\t\tremoveMultiDragElements();\n\n\t\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\t\tif (children[multiDragIndex]) {\n\t\t\t\t\t\t\t\tparentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tparentEl.appendChild(multiDragElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmultiDragIndex++;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// If initial folding is done, the elements may have changed position because they are now\n\t\t\t\t\t\t// unfolding around dragEl, even though dragEl may not have his index changed, so update event\n\t\t\t\t\t\t// must be fired here as Sortable will not.\n\t\t\t\t\t\tif (oldIndex === index(dragEl)) {\n\t\t\t\t\t\t\tlet update = false;\n\t\t\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\t\t\tif (multiDragElement.sortableIndex !== index(multiDragElement)) {\n\t\t\t\t\t\t\t\t\tupdate = true;\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (update) {\n\t\t\t\t\t\t\t\tdispatchSortableEvent('update');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Must be done after capturing individual rects (scroll bar)\n\t\t\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\t\t\tunsetRect(multiDragElement);\n\t\t\t\t\t});\n\n\t\t\t\t\ttoSortable.animateAll();\n\t\t\t\t}\n\n\t\t\t\tmultiDragSortable = toSortable;\n\t\t\t}\n\n\t\t\t// Remove clones if necessary\n\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\n\t\t\t\tmultiDragClones.forEach(clone => {\n\t\t\t\t\tclone.parentNode && clone.parentNode.removeChild(clone);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tnullingGlobal() {\n\t\t\tthis.isMultiDrag =\n\t\t\tdragStarted = false;\n\t\t\tmultiDragClones.length = 0;\n\t\t},\n\n\t\tdestroyGlobal() {\n\t\t\tthis._deselectMultiDrag();\n\t\t\toff(document, 'pointerup', this._deselectMultiDrag);\n\t\t\toff(document, 'mouseup', this._deselectMultiDrag);\n\t\t\toff(document, 'touchend', this._deselectMultiDrag);\n\n\t\t\toff(document, 'keydown', this._checkKeyDown);\n\t\t\toff(document, 'keyup', this._checkKeyUp);\n\t\t},\n\n\t\t_deselectMultiDrag(evt) {\n\t\t\tif (typeof dragStarted !== \"undefined\" && dragStarted) return;\n\n\t\t\t// Only deselect if selection is in this sortable\n\t\t\tif (multiDragSortable !== this.sortable) return;\n\n\t\t\t// Only deselect if target is not item in this sortable\n\t\t\tif (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return;\n\n\t\t\t// Only deselect if left click\n\t\t\tif (evt && evt.button !== 0) return;\n\n\t\t\twhile (multiDragElements.length) {\n\t\t\t\tlet el = multiDragElements[0];\n\t\t\t\ttoggleClass(el, this.options.selectedClass, false);\n\t\t\t\tmultiDragElements.shift();\n\t\t\t\tdispatchEvent({\n\t\t\t\t\tsortable: this.sortable,\n\t\t\t\t\trootEl: this.sortable.el,\n\t\t\t\t\tname: 'deselect',\n\t\t\t\t\ttargetEl: el,\n\t\t\t\t\toriginalEvent: evt\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_checkKeyDown(evt) {\n\t\t\tif (evt.key === this.options.multiDragKey) {\n\t\t\t\tthis.multiDragKeyDown = true;\n\t\t\t}\n\t\t},\n\n\t\t_checkKeyUp(evt) {\n\t\t\tif (evt.key === this.options.multiDragKey) {\n\t\t\t\tthis.multiDragKeyDown = false;\n\t\t\t}\n\t\t}\n\t};\n\n\treturn Object.assign(MultiDrag, {\n\t\t// Static methods & properties\n\t\tpluginName: 'multiDrag',\n\t\tutils: {\n\t\t\t/**\n\t\t\t * Selects the provided multi-drag item\n\t\t\t * @param  {HTMLElement} el    The element to be selected\n\t\t\t */\n\t\t\tselect(el) {\n\t\t\t\tlet sortable = el.parentNode[expando];\n\t\t\t\tif (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\t\t\t\tif (multiDragSortable && multiDragSortable !== sortable) {\n\t\t\t\t\tmultiDragSortable.multiDrag._deselectMultiDrag();\n\t\t\t\t\tmultiDragSortable = sortable;\n\t\t\t\t}\n\t\t\t\ttoggleClass(el, sortable.options.selectedClass, true);\n\t\t\t\tmultiDragElements.push(el);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Deselects the provided multi-drag item\n\t\t\t * @param  {HTMLElement} el    The element to be deselected\n\t\t\t */\n\t\t\tdeselect(el) {\n\t\t\t\tlet sortable = el.parentNode[expando],\n\t\t\t\t\tindex = multiDragElements.indexOf(el);\n\t\t\t\tif (!sortable || !sortable.options.multiDrag || !~index) return;\n\t\t\t\ttoggleClass(el, sortable.options.selectedClass, false);\n\t\t\t\tmultiDragElements.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\teventProperties() {\n\t\t\tconst oldIndicies = [],\n\t\t\t\tnewIndicies = [];\n\n\t\t\tmultiDragElements.forEach(multiDragElement => {\n\t\t\t\toldIndicies.push({\n\t\t\t\t\tmultiDragElement,\n\t\t\t\t\tindex: multiDragElement.sortableIndex\n\t\t\t\t});\n\n\t\t\t\t// multiDragElements will already be sorted if folding\n\t\t\t\tlet newIndex;\n\t\t\t\tif (folding && multiDragElement !== dragEl) {\n\t\t\t\t\tnewIndex = -1;\n\t\t\t\t} else if (folding) {\n\t\t\t\t\tnewIndex = index(multiDragElement, ':not(.' + this.options.selectedClass + ')');\n\t\t\t\t} else {\n\t\t\t\t\tnewIndex = index(multiDragElement);\n\t\t\t\t}\n\t\t\t\tnewIndicies.push({\n\t\t\t\t\tmultiDragElement,\n\t\t\t\t\tindex: newIndex\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn {\n\t\t\t\titems: [...multiDragElements],\n\t\t\t\tclones: [...multiDragClones],\n\t\t\t\toldIndicies,\n\t\t\t\tnewIndicies\n\t\t\t};\n\t\t},\n\t\toptionListeners: {\n\t\t\tmultiDragKey(key) {\n\t\t\t\tkey = key.toLowerCase();\n\t\t\t\tif (key === 'ctrl') {\n\t\t\t\t\tkey = 'Control';\n\t\t\t\t} else if (key.length > 1) {\n\t\t\t\t\tkey = key.charAt(0).toUpperCase() + key.substr(1);\n\t\t\t\t}\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n\tmultiDragElements.forEach((multiDragElement, i) => {\n\t\tlet target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\t\tif (target) {\n\t\t\trootEl.insertBefore(multiDragElement, target);\n\t\t} else {\n\t\t\trootEl.appendChild(multiDragElement);\n\t\t}\n\t});\n}\n\n/**\n * Insert multi-drag clones\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n * @param  {HTMLElement} rootEl\n */\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n\tmultiDragClones.forEach((clone, i) => {\n\t\tlet target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\t\tif (target) {\n\t\t\trootEl.insertBefore(clone, target);\n\t\t} else {\n\t\t\trootEl.appendChild(clone);\n\t\t}\n\t});\n}\n\nfunction removeMultiDragElements() {\n\tmultiDragElements.forEach(multiDragElement => {\n\t\tif (multiDragElement === dragEl) return;\n\t\tmultiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n\t});\n}\n\nexport default MultiDragPlugin;\n","import Sortable from '../src/Sortable.js';\nimport AutoScroll from '../plugins/AutoScroll';\nimport { RemoveOnSpill, RevertOnSpill } from '../plugins/OnSpill';\n// Extra\nimport Swap from '../plugins/Swap';\nimport MultiDrag from '../plugins/MultiDrag';\n\nSortable.mount(new AutoScroll());\nSortable.mount(RemoveOnSpill, RevertOnSpill);\n\nexport default Sortable;\n\nexport {\n\tSortable,\n\n\t// Extra\n\tSwap,\n\tMultiDrag\n};\n","import Sortable from './entry-defaults.js';\nimport Swap from '../plugins/Swap';\nimport MultiDrag from '../plugins/MultiDrag';\n\nSortable.mount(new Swap());\nSortable.mount(new MultiDrag());\n\nexport default Sortable;\n"],"names":["userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","event","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","getParentOrHost","host","document","nodeType","parentNode","closest","ctx","includeCTX","R_SPACE","toggleClass","name","state","classList","className","replace","css","prop","val","style","defaultView","getComputedStyle","currentStyle","indexOf","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","iterator","list","getElementsByTagName","i","n","length","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","visible","getChild","childNum","options","includeDragEl","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","indexOfObject","arr","obj","hasOwnProperty","key","Number","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","extend","dst","src","isRectEqual","rect1","rect2","Math","round","_throttleTimeout","throttle","callback","ms","args","arguments","_this","call","apply","setTimeout","cancelThrottle","clearTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationStates","animationCallbackId","captureAnimationState","animation","slice","forEach","child","push","target","fromRect","thisAnimationDuration","childMatrix","f","e","addAnimationState","removeAnimationState","splice","animateAll","animating","animationTime","time","animatingThis","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","repaint","easing","animated","offsetWidth","sqrt","pow","plugins","defaults","initializeByDefault","mount","plugin","option","p","pluginName","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","value","modifiedValue","optionListeners","dispatchEvent","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","bubbles","cancelable","createEvent","initEvent","to","from","item","pullMode","lastPutMode","undefined","allEventProperties","PluginManager","data","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","awaitingDragStarted","ignoreNextClick","sortables","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","float","touchingSideChild2","clear","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","ret","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","_extends","sort","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","filter","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","prototype","constructor","contains","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","ownerDocument","dragStartFn","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDraggable","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","_nextTick","empty","getSelection","removeAllRanges","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","appendChild","removeAttribute","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","isOwner","canSort","fromSortable","completedFired","dragOverEvent","extra","axis","completed","onMove","after","changed","insertion","_showClone","_ignoreWhileAnimating","elLastChild","_ghostIsLast","_ghostIsFirst","firstChild","targetBeforeFirstSwap","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","_getSwapDirection","sibling","dragIndex","nextElementSibling","moveVector","_unsilent","_offMoveEvents","_offUpEvents","clearInterval","_cancelNextTick","removeChild","save","checked","handleEvent","_globalDragOver","toArray","order","getAttribute","_generateId","useAnimation","items","id","set","destroy","Array","querySelectorAll","dropEffect","willInsertAfter","onMoveFn","retVal","draggedRect","related","relatedRect","spacer","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","str","href","sum","charCodeAt","root","inputs","idx","utils","is","nextTick","cancelNextTick","detectDirection","element","create","version","autoScrolls","scrollEl","scrollRootEl","scrolling","lastAutoScrollX","lastAutoScrollY","pointerElemChangedInterval","AutoScrollPlugin","AutoScroll","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","isFallback","sens","speed","scrollThisInstance","scrollCustomFn","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","changedTouches","onSpill","Revert","startIndex","dragStart","Remove","parentSortable","lastSwapEl","SwapPlugin","Swap","swapClass","dragOverValid","swap","prevSwapEl","swapNodes","swapItem","n1","n2","p1","p2","i1","i2","isEqualNode","multiDragElements","multiDragClones","lastMultiDragSelect","multiDragSortable","initialFolding","folding","clonesFromRect","clonesHidden","MultiDragPlugin","MultiDrag","avoidImplicitDeselect","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","dragStartGlobal","multiDrag","removeMultiDragElements","dragOver","insertMultiDragElements","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","dragMatrix","dragOverAnimationComplete","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","oldIndicies","newIndicies","clones","toLowerCase","clonesInserted","elementsInserted","RemoveOnSpill","RevertOnSpill"],"mappings":"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"}